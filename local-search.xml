<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>会计学-HW7</title>
    <link href="/2023/11/20/%E4%BC%9A%E8%AE%A1%E5%AD%A6-HW7/"/>
    <url>/2023/11/20/%E4%BC%9A%E8%AE%A1%E5%AD%A6-HW7/</url>
    
    <content type="html"><![CDATA[<h1 id="会计学HW7"><a href="#会计学HW7" class="headerlink" title="会计学HW7"></a>会计学HW7</h1><h2 id="第五章习题3"><a href="#第五章习题3" class="headerlink" title="第五章习题3"></a>第五章习题3</h2><pre><code class="hljs">甲公司20x1年年末开始计提坏账准备，采用应收账款余额百分比法，计提比例5%。2021年年末，应收账款余额为100万元；20X2年发生坏账8万元，年末有应收账款120万元；20X3年收回坏账3.5万元，年末有应收账款90万元。**要求：作出20X1年、20X2年和20X3年的相关会计处理**</code></pre><p>（1）20X1年：</p><pre><code class="hljs">            借：信用减值损失                    5万元                贷：坏账准备                            5万元</code></pre><p>（2）20X2年：</p><pre><code class="hljs">            借：信用减值损失                    9万元                贷：应收账款                            8万元                        坏账准备                            1万元</code></pre><p>（3）20X3年：</p><pre><code class="hljs">            借：应收账款                            3.5万                贷：坏账准备                            3.5万            借：银行存款                            3.5万                贷：应收账款                            3.5万            借：坏账准备                            5万                贷：信用减值损失                    5万</code></pre><h2 id="第五章习题4"><a href="#第五章习题4" class="headerlink" title="第五章习题4"></a>第五章习题4</h2><pre><code class="hljs">甲公司发生以下业务：（1）20X1年2月1日销售产品一批，价款20万元，增值税税率为13%。发出产品后，收到带息银行承兑汇票一张，年利率为12%，期限6个月，票面价值226 000元。（2）5月1日，将该票据贴现，贴现率为10%。（3）6月1日，公司销售产品一批给D公司，产品售价为25 000元，增值税为3 250元，收到D公司承兑的期限为3个月、面值为28 250元的商业汇票一张。**要求：为上述业务进行必要的计算和账务处理**</code></pre><p>（1）借：应收票据                                                        226 000</p><pre><code class="hljs">            贷：主营业务收入                                                200 000                    应交税费——应交增值税（销项税额）      26 000</code></pre><p>（2）贴现额：</p><pre><code class="hljs">    票据到期价值 = 226 000*（1+12%*3/12）= 232 780    应贴付给银行的贴现息 = 232 780*10%*90/360 = 5819.5    贴现额 = 232780 - 5819.5 = 226960.5    会计分录：        借：银行存款                            226960.5            贷：应收票据                            226000                    财务费用                            960.5</code></pre><p>（3）借：应收票据                                                        28 250</p><pre><code class="hljs">            贷：主营业务收入                                              25 000                    应交税费——应交增值税（销项税额）    25 000</code></pre><h2 id="第五章习题5"><a href="#第五章习题5" class="headerlink" title="第五章习题5"></a>第五章习题5</h2><pre><code class="hljs">甲公司20X1年9月1日销售一批产品给A公司，货已发出，发票上注明的销售收入为10万元，增值税为1.3万元，收到A公司转来的商业承兑汇票一张，期限6个月，票面利率为9%，票面价值113 000元**要求：编制甲公司收到票据、期末计提利息及到期收回本息的相关分录**</code></pre><p>$收到票据：$ 借：应收票据                                                    113 000</p><pre><code class="hljs">                        贷：主营业务收入                                            100 000                                应交税费——应交增值税（销项税额）  13 000</code></pre><p>$期末计提利息：$ 借：应收票据                                            3390</p><pre><code class="hljs">                                    贷：财务费用                                            3390</code></pre><p>$到期收回本息：$ 借：银行存款                                             118 085</p><pre><code class="hljs">                                贷：应收票据                                                116 390                                        财务费用                                                1 695</code></pre><h1 id="第五章习题6"><a href="#第五章习题6" class="headerlink" title="第五章习题6"></a>第五章习题6</h1><pre><code class="hljs">甲公司发生以下业务：</code></pre><p>（1）公司开出现金支票，支付采购员李华暂借差旅费1 200元，之后李华报销差旅费1 100元，余款交回现金。</p><p>（2）公司为采购材料租用销货方包装物一批，开出一张转账支票用以支付包装物押金2 000元。</p><p>（3）公司预付给红星机械厂40 000元用于购货。</p><p>（4）公司本年年末预付下年财产保险费60 000元。</p><p><strong>要求：编制上述业务的会计分录</strong></p><p>（1）借：库存现金                                  1200</p><pre><code class="hljs">        贷：银行存款                                   1200      借：其他应收款——职工李华       1200        贷：库存现金                                   1200      借：管理费用                                  1100              库存现金                                  100         贷：其他应收款——职工李华        1200</code></pre>]]></content>
    
    
    <categories>
      
      <category>课程笔记</category>
      
      <category>2023-2024秋冬学期</category>
      
      <category>会计学</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>数值分析-Lecture3</title>
    <link href="/2023/11/20/%E6%95%B0%E5%80%BC%E5%88%86%E6%9E%90-Lecture3/"/>
    <url>/2023/11/20/%E6%95%B0%E5%80%BC%E5%88%86%E6%9E%90-Lecture3/</url>
    
    <content type="html"><![CDATA[]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>2023-2024秋冬学期期末粥</title>
    <link href="/2023/11/20/2023-2024%E7%A7%8B%E5%86%AC%E5%AD%A6%E6%9C%9F%E6%9C%9F%E6%9C%AB%E7%B2%A5/"/>
    <url>/2023/11/20/2023-2024%E7%A7%8B%E5%86%AC%E5%AD%A6%E6%9C%9F%E6%9C%9F%E6%9C%AB%E7%B2%A5/</url>
    
    <content type="html"><![CDATA[<p>数值分析        1/10    14：00~16：00</p><p>金融学            1/10    18：30~20：30</p><p>数字逻辑设计  1/11    10：30~12：30</p><p>图像信息处理    1/11    14：00~16：00</p><p>宏观经济学    1/11    18：30~20：30</p><p>大物乙            1/12    8：00~10：00</p><p>概率论与数理统计    1/13    10：30~12：30</p><p>大物实验                1/14        14：00~16：00</p><p>国际金融学    1/15    18：30~20：30</p><p>会计学            1/16    18：30~20：30</p><p>数据结构基础  1/17   10：30~12：30</p>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>数值分析-Lecture2</title>
    <link href="/2023/11/20/%E6%95%B0%E5%80%BC%E5%88%86%E6%9E%90-Lecture2/"/>
    <url>/2023/11/20/%E6%95%B0%E5%80%BC%E5%88%86%E6%9E%90-Lecture2/</url>
    
    <content type="html"><![CDATA[<h1 id="Chapter2-Solutions-of-Equations-in-One-Variable"><a href="#Chapter2-Solutions-of-Equations-in-One-Variable" class="headerlink" title="Chapter2 Solutions of Equations  in One Variable"></a>Chapter2 Solutions of Equations  in One Variable</h1><p><img src="C:\Users\XYZ\Desktop\NA2%201.png" alt=""></p><h2 id="二分法（Bisection-Method）"><a href="#二分法（Bisection-Method）" class="headerlink" title="二分法（Bisection Method）"></a>二分法（Bisection Method）</h2><p><strong>求$f(x) = 0$的近似解</strong>，最简单的方法就是利用二分法逼近（根据<strong>介值定理（Intermidiate Value Theorem）</strong>）。利用此方法，我们应该确定一个近似终止条件。如下图所示，若采用第一第三种方法，很显然是确定了绝对误差的上界。而第二种方法是确定了相对误差的上界。当函数在x = p附近斜率很小的时候，第一第三种这样确定绝对误差的方法显然是会有很大的误差。</p><p><img src="C:\Users\XYZ\Desktop\NA2%202.png" alt=""></p><p>   <strong>二分法的伪代码如下：</strong> 我们要注意两个地方，一个简单的是step6，用符号相乘，避免了大数相乘计算导致的时间浪费；第二个是step3迭代过程中为什么用p = a + (b-a)/2而不是p = (a+b)/2.</p><pre><code class="hljs">e.g. $a = 0.98，b = 0.99$，且有效数字是两位，当$p = (a+b)/2$时，$a+b = 1.97$，chopping计算得到$p = 0.95$，rounding计算得到$p = 1$，此时已经超过了$[a,b]$的界，算法显然是不正确的（因为有效位置导致的出错）。而用$p=a+(b-a)/2$，过程中即使可能的最大误差出现，也只会使$p=a$，不会越界。</code></pre><p><img src="C:\Users\XYZ\Desktop\NA2%203.png" alt=""></p><p><strong>二分法优点：</strong> 算法简单，只要根据选定的上下界不断迭代计算。</p><p><strong>二分法缺点：</strong> 收敛速度只有\dfrac{1}{2_n}，不能处理重根的情况</p><h2 id="Fixed-Iteration-定点迭代"><a href="#Fixed-Iteration-定点迭代" class="headerlink" title="Fixed Iteration 定点迭代"></a>Fixed Iteration 定点迭代</h2><p><img src="C:\Users\XYZ\Desktop\NA2%204.png" alt=""></p><pre><code class="hljs">现在要考虑的问题是，这个算法求得的p序列是否收敛？</code></pre><p><img src="C:\Users\XYZ\Desktop\NA2%205.png" alt=""></p><pre><code class="hljs">上述四图像中只有12是收敛的。</code></pre><h3 id="Fixed-Point-Theorem-不动点定理"><a href="#Fixed-Point-Theorem-不动点定理" class="headerlink" title="Fixed-Point Theorem 不动点定理"></a>Fixed-Point Theorem 不动点定理</h3><p>在应用算法前首先要满足<strong>不动点存在且唯一</strong>，<strong>p序列收敛</strong></p><p><img src="C:\Users\XYZ\Desktop\NA2%206.png" alt=""></p><p>证明如上，用介值定理证明不动点存在，用中值定理反证法证明不动点唯一。</p><p>以下为证明p序列收敛。</p><p><img src="C:\Users\XYZ\Desktop\NA2%207.png" alt=""></p><h2 id="Newton’s-Method-牛顿法"><a href="#Newton’s-Method-牛顿法" class="headerlink" title="Newton’s Method 牛顿法"></a>Newton’s Method 牛顿法</h2><p><img src="C:\Users\XYZ\Desktop\NA2%208.png" alt=""></p><p>在$x = p_0$处作一阶泰勒展开，并丢弃二次导数后的项。如图 在$x = p_0$处作一条切线$f’(p_0)(p-p_0)$ 与x轴有一个新的交点p1，如此类推迭代下去可以逼近$x = p$</p>]]></content>
    
    
    <categories>
      
      <category>课程笔记</category>
      
      <category>2023-2024秋冬学期</category>
      
      <category>数值分析</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>宏观经济学-有效需求决定模型</title>
    <link href="/2023/11/19/%E5%AE%8F%E8%A7%82%E7%BB%8F%E6%B5%8E%E5%AD%A6-%E6%9C%89%E6%95%88%E9%9C%80%E6%B1%82%E5%86%B3%E5%AE%9A%E6%A8%A1%E5%9E%8B/"/>
    <url>/2023/11/19/%E5%AE%8F%E8%A7%82%E7%BB%8F%E6%B5%8E%E5%AD%A6-%E6%9C%89%E6%95%88%E9%9C%80%E6%B1%82%E5%86%B3%E5%AE%9A%E6%A8%A1%E5%9E%8B/</url>
    
    <content type="html"><![CDATA[<h1 id="宏观经济学——Chapter2宏观经济模型"><a href="#宏观经济学——Chapter2宏观经济模型" class="headerlink" title="宏观经济学——Chapter2宏观经济模型"></a>宏观经济学——Chapter2宏观经济模型</h1><h2 id="第四章-有效需求决定模型"><a href="#第四章-有效需求决定模型" class="headerlink" title="第四章 有效需求决定模型"></a>第四章 有效需求决定模型</h2><h3 id="有效需求与充分就业"><a href="#有效需求与充分就业" class="headerlink" title="有效需求与充分就业"></a>有效需求与充分就业</h3><pre><code class="hljs">**有效需求：** 总供给价格与总需求价格达到均衡时的社会产出总量和需求总量。**总供给价格：** 一个社会全体厂商销售其产品时期望得到的最低价格总额。**总需求价格：** 指一个社会全体居民购买消费品时愿意支付的最高价格总额。    ![](C:\Users\XYZ\Desktop\hgp2.png)</code></pre><p>如图，横轴看作商品的量，纵轴为整个社会商品的价格。AD：总需求，AS：总供给。</p><p>凯恩斯提到的有效需求就是当总需求和总供给达到均衡时，即图中的E点，所对应的价格水平和需求水平。</p><pre><code class="hljs">**决定一个社会就业水平的，就是E点对应的价格和需求水平**。因为E点对应的$ N_0$ 就是当前均衡的商品规模，则对应一个确定的就业量。若交点落在E点右边，如$N_2$，AS曲线高于AD，即所有厂商愿意接受的最低价格比所有居民愿意接受的最高价格要高，此时商品供过于求。厂商生产的产品有剩余，下一个生产周期内厂商一定会减少生产，则全社会的生产规模缩减，最后趋于$N_0$；反过来说，$N_1$点，AS曲线低于AD，即商品供不应求，厂商生产的产品不足，会在下一周期扩大生产，则全社会的生产规模扩大，同样趋于$N_0$</code></pre><p>为什么AS曲线斜率大于AD？？（思考题）</p><p><strong>充分就业：</strong> 指一个社会不存在非自愿失业时的就业状态。</p><p><strong>自愿失业：</strong> 具有劳动能力的人出于种种原因自愿放弃工作而形成的失业。</p><p><strong>摩擦性失业：</strong> 就业状态暂时中断而形成的失业。比如对当前工作不满意，为了找到更好的工作而暂时放弃当前工作的时期。</p><p><strong>非自愿性失业：</strong> 有劳动能力且愿意接受现行工资水平或工作条件但仍然找不到工作而形成的失业。非自愿失业是由于经济衰退和萧条而造成的，因而也称周期性失业。</p><p>有效需求与充分就业的关系</p><p> N_0 = 充分就业（充分就业均衡）</p><p> N_0 &gt; 充分就业（通货膨胀条件下的就业状态）</p><p> N_0 &lt; 充分就业（经济衰退条件下的就业状态）</p><p>有效需求的决定模型</p><p>1.两部门经济的有效需求决定模型</p><p><img src="C:\Users\XYZ\Desktop\hg3.png" alt=""></p><script type="math/tex; mode=display">\begin{cases}    总供给Y = C + S\\    总需求Y = C + I\\    总需求 = 总供给I = S\end{cases}</script><p>如果居民在消费中并<strong>没有把所有的收入都用于消费</strong>，那么该循环更新为下图</p><p><img src="C:\Users\XYZ\Desktop\hg4.png" alt=""></p><pre><code class="hljs">如果居民将10%的收入用于储蓄，则下一轮生产周期，只有900亿被用来消费，即企业营收为900亿，如此类推，整个宏观经济是趋于收缩的。而当居民把储蓄存到银行，银行把收取的存款借款给企业，则能保持企业生产总规模至少维持1000亿不变。要维持原有的规模，则至少要保证银行吸收的储蓄和投资规模相等。总结两部门经济的有效需求决定模型如下：    总供给 Y = C+S    总需求 Y = C+I由此得到I = S，即投资等于储蓄，此时经济可以维持现有规模。如果I &lt; S，即总需求小于总供给，则经济增长收缩；如果I &gt; S，即总需求大于总供给，则经济增长扩张。理论上，只要不断扩大投资规模就可以不断扩大经济总规模，但实际上经济生产是建立在可利用的资源之上的，如果资源支撑不了经济的发展，即经济增长超过其可利用资源的制约的话，经济过热、泡沫、通货膨胀等问题就会出现。</code></pre><p>三部门经济的有效需求决定模型：</p><p>（pic）</p><p>此时</p><p>总供给 Y = C + S + T</p><p>总需求 Y = C + I + G(政府购买)</p><p>得到 I + G = S + T, I = S + T - G</p><p>T表示政府财政收入，G表示政府财政支出，则把$T-G$看作整体。</p><pre><code class="hljs">若I &lt; S + (T-G)，总需求小于总供给，经济规模缩小。要维持经济规模保持不变，在投资和储蓄都确定的情况下，可以通过政府的财政活动，即扩大政府购买（财政赤字）。若I &gt; S + (T-G)，总需求大于总供给，经济规模扩大。此时政府采取的措施与上述情况相反。由此可见，三部门经济相对于两部门经济，多了一个政府的调控过程。即尽量使经济活动中损失的经济回归到社会经济体中。</code></pre><p>四部门经济的有效需求决定模型：</p><pre><code class="hljs">总供给 Y = C+S+T+M总需求 Y = C+I+G+X</code></pre><p>I = S + (T-G) + (M-X)，M-X称为净出口</p><p>同上所述，如果I &lt; S，可以从T-G和M-X两个角度来调节经济规模</p><h3 id="有效需求变动及其规律"><a href="#有效需求变动及其规律" class="headerlink" title="有效需求变动及其规律"></a>有效需求变动及其规律</h3><p>   $ Y = C+I$</p><pre><code class="hljs">$C = a+bY$</code></pre><p>则$Y = (a+I) / (1-b)$</p><p>例1：已知消费函数C = 1000 + 0.8Y，投资I = 600亿，求总产出水平Y. Y = 8000亿</p><p>例2：假设上题中自发性消费从1000到900，I不变，求此时总产出水平Y. Y = 7500亿 </p><p>由此可见，<strong>消费减少了100亿，但是总产出水平减少了500亿！</strong></p><p>例3：假设消费函数仍为C = 1000 + 0.8Y，投资规模由600亿扩大至650亿，求总产出水平Y.    Y = 8250亿，$\Delta Y$ = 250亿. 即<strong>投资增加了50亿，总产出规模增加了250亿！</strong></p><p>这里就引出<mark>消费乘数</mark>和<mark>投资乘数</mark></p><details><summary>宏观经济学中的“破窗理论”</summary>    宏观经济学中的”破窗理论”：一个男孩打破了窗玻璃，他妈妈拿钱去买了新玻璃，玻璃店老板雇佣新工人，工人拿钱去买汉堡......如此循环下去，原先一个窗玻璃的消费引发了后续一系列经济活动，并且其总和是远大于一个窗玻璃的价值。</details><pre><code class="hljs">这里就引发一个**节约悖论**，宏观经济的角度，消费带动经济发展，反而是节约阻碍了消费。而实际上现实生活中，低收入人群需要钱来消费但是没有钱，高收入人群的钱相对他的需求过多的，所以这里就产生了一部分需求不被满足，以及一部分钱闲置的浪费。所以政府的**转移支付**就尤为重要。凯恩斯理论中有效需求的不足及其原因是**边际消费倾向递减规律；投资的边际效率递减规律；灵活偏好和流动性陷阱**。</code></pre><h4 id="消费乘数、投资乘数与政府购买乘数"><a href="#消费乘数、投资乘数与政府购买乘数" class="headerlink" title="消费乘数、投资乘数与政府购买乘数"></a>消费乘数、投资乘数与政府购买乘数</h4><p>政府对有效需求的调节：</p><pre><code class="hljs">$Y = C+I+G$</code></pre><p>考虑财政转移支付g和政府税收T，则有国民可支配收入：</p><p>   $ Yd = Y+g-T$</p><p>消费函数为：</p><pre><code class="hljs">$C = a+b(Y+g-T)$</code></pre><p>整理后得到：</p><pre><code class="hljs">$Y = \dfrac&#123;a+I+G+bg-bT&#125;&#123;1-b&#125;$</code></pre><p>$\Delta Y = \Delta a*\dfrac{1}{1-b}$，这里的$\dfrac{1}{1-b}$称为<mark>消费乘数</mark></p><p>同理，$I$和$G$的变动对$Y$也有相同的影响效果，则$\dfrac{1}{1-b}$也可以用来表示<mark>投资乘数</mark>和<mark>政府购买乘数</mark></p><p>现在考虑转移支付和税收：</p><p>$\Delta Y = \Delta g*\dfrac{b}{1-b}$，即<mark>转移支付乘数</mark></p><p>$\Delta Y = \Delta T*\dfrac{-b}{1-b}$，即<mark>政府税收乘数</mark></p><p>两种税收形式下的：</p><pre><code class="hljs">$Yd = Y + g - T - rY$，其中T称为固定税，rY称为比例税</code></pre><p>相应的消费函数为：</p><p>   $ C = a+b(Y+g-T-rY)$</p><p>整理可得$Y = \dfrac{a+I+G+bg-bT}{1-b+br}$，则各项乘数改写为</p><p><strong>KC(消费乘数)=KI(投资乘数)=KG(政府购买乘数)</strong> = $\dfrac{1-r}{1-b}$</p><p><strong>Kg(转移支付乘数)</strong> = $\dfrac{(1-r)b}{1-b}$</p><p><strong>kT(政府税收乘数)</strong> = $\dfrac{-(1-r)b}{1-b}$</p>]]></content>
    
    
    <categories>
      
      <category>课程笔记</category>
      
      <category>2023-2024秋冬学期</category>
      
      <category>宏观经济学</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>数值分析-Lecture1</title>
    <link href="/2023/11/19/%E6%95%B0%E5%80%BC%E5%88%86%E6%9E%90-Lecture1/"/>
    <url>/2023/11/19/%E6%95%B0%E5%80%BC%E5%88%86%E6%9E%90-Lecture1/</url>
    
    <content type="html"><![CDATA[<h1 id="数值分析——Lecture1"><a href="#数值分析——Lecture1" class="headerlink" title="数值分析——Lecture1"></a>数值分析——Lecture1</h1><h2 id="Chapter1-Mathematical-Preliminaries"><a href="#Chapter1-Mathematical-Preliminaries" class="headerlink" title="Chapter1 Mathematical Preliminaries"></a>Chapter1 Mathematical Preliminaries</h2><pre><code class="hljs">所有的计算最后都会回归到四则运算。计算机硬件角度看，实际上我们只有二进制的加减乘除。如何利用最简单的加减乘除来计算函数等输入，就是数值分析要解决的问题。</code></pre><p><img src="C:\Users\XYZ\Desktop\数值分析p1.png" alt=""></p><p>Transformation（变换）：将难以计算的式子转变成容易计算的，比如两个大数A*B，首先取对数log(AB)，则现在只要计算log(A) + log(B)，显然比原始的数好计算。</p><p>Roundoff Errors and Computer Arithmetic</p><p><img src="C:\Users\XYZ\Desktop\p2.png" alt=""></p><p>比如此题中使用泰勒展开来逼近$e^{-x^2}$，由于泰勒展开有无数项，所以这其实是一种逼近（approximation）而不是精确的计算。</p><pre><code class="hljs">在S4是精确计算的假设下，计算得到的结果与精确值误差在0.005以内。</code></pre><p><strong>Roundoff Error舍入误差：</strong> 是指运算得到的近似值和精确值之间的差异。在本题目中比如$\dfrac{1}{42}$，计算时我们只保留了三位小数，这里产生的误差就是舍入误差</p><p><strong>Truncation Error截断误差：</strong> 如本题中，我们只保留了S4部分而舍弃了R4部分，R4就是截断误差。</p><p><img src="C:\Users\XYZ\Desktop\p3.png" alt=""></p><p><img src="C:\Users\XYZ\Desktop\NA3.png" alt=""></p><p>如上图所示，误差分为<strong>绝对误差 （absolute error）</strong> 和 <strong>相对误差（relative error）</strong></p><p><img src="C:\Users\XYZ\Desktop\na4.png" alt=""></p><p>PS：教材上用<strong>significant digits</strong>来表示有效数字</p><pre><code class="hljs">此时只剩下一位有效数字，此时的相对误差可能是比较大的，比如原来a1 = 0.123450，a2 = 0.123462，则a2 - a1 = 0.000012，而我们用chopping的方法得到的差值是0.00001，这里就有20%的相对误差。由此可见，在输入信息给计算机时，尽可能把它化简</code></pre><p><img src="C:\Users\XYZ\Desktop\NA5.png" alt=""></p><pre><code class="hljs">如上例题，在$x = 4.71$时对$f(x)$值作一个三位有效数字的近似。注意，这里每一次计算都会chopping，比如计算$x^2$，会将$0.0841$舍去。在Rounding时也是类似，比如计算$x^3$时，中间会先计算得到$x^2$，再将$x^2$乘以x得到$x^3$，而$x^2$在rounding计算过程中得到结果是22.2，我们会用$22.2*4.71$后再rounding得到105.而如果采取上图所示的另一种解法，先提取因式后再计算，其实质是减少的乘法的次数来减少计算过程中chopping和rounding的精度损失</code></pre><p><img src="C:\Users\XYZ\Desktop\NA6.png" alt=""></p><h3 id="算法稳定性的定义："><a href="#算法稳定性的定义：" class="headerlink" title="算法稳定性的定义："></a>算法稳定性的定义：</h3><pre><code class="hljs">如果输入的数据的微小变化导致相应结果的微小变化而非产生巨大误差，那么称算法是稳定的，否则是不稳定的。对算法的stable和unstable进行量化，如果n次微小的输入扰动后产生的误差约等于$C*n*E_0$，此时称其为线性增长，这是可接受的误差。而如果n次输入扰动后产生误差约等于$C^n*E_0$，此时称其为指数级增长，这会导致不可接受的误差。</code></pre><p><img src="C:\Users\XYZ\Desktop\NA7.png" alt=""></p><p><img src="C:\Users\XYZ\Desktop\NA8.png" alt=""></p><p>观察两个递推式，$I<em>n = 1 - nI</em>{n-1}$，由于右侧系数为$n &gt; 1$，显然是不收敛的。而第二个递推式$ I_{n-1} = \dfrac{1}{n}(1 - I_n)$，显然右边的递推系数 &lt; 1是收敛的</p><p><img src="C:\Users\XYZ\Desktop\NA10.png" alt=""></p><p><img src="C:\Users\XYZ\Desktop\NA11.png" alt=""></p><p><strong>机器浮点数表示中有下界，即精度最高只能到某一定值。</strong></p><p><img src="C:\Users\XYZ\Desktop\NA12.png" alt=""></p>]]></content>
    
    
    <categories>
      
      <category>课程笔记</category>
      
      <category>2023-2024秋冬学期</category>
      
      <category>数值分析</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>宏观经济学-货币需求与货币供给</title>
    <link href="/2023/11/19/%E5%AE%8F%E8%A7%82%E7%BB%8F%E6%B5%8E%E5%AD%A6-%E8%B4%A7%E5%B8%81%E9%9C%80%E6%B1%82%E4%B8%8E%E8%B4%A7%E5%B8%81%E4%BE%9B%E7%BB%99/"/>
    <url>/2023/11/19/%E5%AE%8F%E8%A7%82%E7%BB%8F%E6%B5%8E%E5%AD%A6-%E8%B4%A7%E5%B8%81%E9%9C%80%E6%B1%82%E4%B8%8E%E8%B4%A7%E5%B8%81%E4%BE%9B%E7%BB%99/</url>
    
    <content type="html"><![CDATA[<h1 id="宏观经济学——Chapter1宏观经济变量"><a href="#宏观经济学——Chapter1宏观经济变量" class="headerlink" title="宏观经济学——Chapter1宏观经济变量"></a>宏观经济学——Chapter1宏观经济变量</h1><h2 id="第三章-货币需求与货币供给"><a href="#第三章-货币需求与货币供给" class="headerlink" title="第三章 货币需求与货币供给"></a>第三章 货币需求与货币供给</h2><h3 id="货币需求："><a href="#货币需求：" class="headerlink" title="货币需求："></a>货币需求：</h3><pre><code class="hljs">凯恩斯所提出的三种货币需求：</code></pre><script type="math/tex; mode=display">\begin{cases}交易性货币需求\\预防性货币需求\\投机性货币需求\end{cases}</script><h4 id="交易性货币需求"><a href="#交易性货币需求" class="headerlink" title="交易性货币需求:"></a>交易性货币需求:</h4><pre><code class="hljs">如日常交易所需要的货币</code></pre><h4 id="预防性货币需求："><a href="#预防性货币需求：" class="headerlink" title="预防性货币需求："></a>预防性货币需求：</h4><pre><code class="hljs">在日常消费之外为预防潜在的货币需求而存留在身边的钱。</code></pre><p>PS：交易性货币需求和预防性货币需求都是与生产规模成正比。</p><h4 id="投机性货币需求："><a href="#投机性货币需求：" class="headerlink" title="投机性货币需求："></a>投机性货币需求：</h4><pre><code class="hljs">一种用于投机的货币需求，一般不与生产的规模成正比，而是与同期的银行利率呈反向变化。如下图所示，与横轴平行的那一段投机性货币需求称之为&lt;mark&gt;流动性陷阱&lt;/mark&gt;。</code></pre><details>     <summary>流动性陷阱</summary>        指利率水平较低、证券市场的获利空间较大时，人们对货币的流动性偏好趋于无限大的现象，也称凯恩斯陷阱。</details><p>流动性过剩：货币（现金）过剩。</p><p>货币的流动性分级：</p><script type="math/tex; mode=display">\begin{cases}    M0：现金\\    M1：M0 + 企业的短期存款\\    M2：M1 + 企业的长期存款 + 居民的储蓄存款\\    M3：M2 + 各类短期债券\\    M4：M3 + 各类长期债券\\    M5：M4 + 各类股票等金融资产\end{cases}</script><p>从M1-&gt;M5规模越来越大，流动性越来越弱。</p><details>    <summary>股票为什么流动性最弱</summary>     从直觉来看，股票作为生活中非常常见的金融产品，其买卖流动比较便捷，但是实际上，其在二级市场上买卖流动时，股票本身并没有变现，只是股票的所有权在进行买卖。如果遇到企业行情非常不好濒临破产，此时想把股票变现是极其困难的。所以股票的流动性实际上是非常弱的，只有当企业破产清算时才算变现。</details><p>用通俗的语言说，所谓流动性就是<mark>变现的能力大小</mark>。</p><details>    <summary>巴塞尔协议</summary>    巴塞尔协议规定，无论一个银行规模多大，其自有资本占其总资本至少要达到8%</details><pre><code class="hljs">个人把现金存在银行取得利息报酬可以看作银行金融机构为购买货币的流动性所付出的代价。再回头看**流动性陷阱**，当利率低到一定程度，个人对把现金存在银行取得利息报酬不感兴趣，便会把货币转移到证券市场中，此时证券市场活跃。</code></pre><p>P：各种证券（包括股票）</p><p>$P = \dfrac{R}{r}$，其中R（金融债券、股票的收益率）、r（银行现行利率）</p><p>e.g. 某股票每股每年分红20元，当期银行利率为10%，则此时P = 200，即该股票每股价格为200元</p><details>    <summary>人力资本</summary>    比如当期银行利率为10%，一个人的年收入是20万，则他的收入相当于把200万现金存入银行取得的收益，则人力资本为200万（是虚拟的，因为没有这200万在银行）</details><p>货币总需求 $L= L1 + L2 = kY - hr$，</p><p>在图像中，竖直的部分与利率无关，是与Y有关的变量，但考虑到此图像是二维的，即是L关于r的，此时Y看作是外生变量，Y增大，则图像右移；Y减小，则图像左移。</p><h3 id="货币供给："><a href="#货币供给：" class="headerlink" title="货币供给："></a>货币供给：</h3><pre><code class="hljs">现金货币/存款货币现金货币：由一个国家中央银行发行的货币。存款货币：由一个国家商业银行经营活动创造的货币。理论上说，存款货币应该与现金货币规模相等，因为存款货币必须能被兑换成现金货币，否则就是空头支票。但实际上存款货币的数量远远大于现金货币。商业银行在经营过程中会放大现金的规模。银行为了经营活动的安全，为保证一些流动现金，一般会准备20%现金。e.g. A银行吸收100万存款，准备20万现金，借出贷款80万。借贷人把借到的80万拿来购买原材料，把80万打到B银行，B银行把20%作为现金准备，又将其余64万借出去...如此循环，最终的总借款达到</code></pre><script type="math/tex; mode=display">\sum\limits_{i = 1}^{\infty} 100*(\dfrac{4}{5})^i = 100/0.2</script><p><strong>即100万存款最终产生了500万的借款！</strong></p><pre><code class="hljs">上式中的0.2即为现金准备率20%，也叫做准备金率。显然准备金率越低，现金的流动率越高。但这是一种博弈，银行可能将准备金率放到很低，以提高自己的利润；但是如果所有银行均将准备金率定的很低，整个系统的抗风险能力是很低的。当前的美联储就是政府设定的，向所有银行收取规定比例的准备金，防止每家银行将准备金率定的过低导致系统性风险。</code></pre><p>美国联邦储备银行：按照国会讨论出来的法定准备金率，负责把各个商业银行的存款准备金收缴上来。</p><pre><code class="hljs">则上述的r可以称之为法定的存款准备金</code></pre><p><mark>货币乘数：</mark></p><pre><code class="hljs">如果用M表示货币供给，R表示中央银行发行的现金，r表示准备金率，则$M = R/r$法定的存款准备金率提高就意味着货币乘数缩小，则整个国家的货币供给就相应缩小</code></pre><p><strong>各国中央银行调控该国货币流通量的措施：</strong></p><script type="math/tex; mode=display">\begin{cases}    对基础货币发放的收缩或扩张\\    对存款准备金率的调控\end{cases}</script><p>美国联邦储蓄银行：代表美国国家利益，监管私人银行可能出现的有害于国家的事件</p><p>“金融创新”：实质上是金融投机者为逃避法律的监管，在现行法律中寻找漏洞以牟利的行为。</p><p><strong>社会主义生产方式的入口就是金融。</strong>（马克思）（此处留待拓展研究）</p><p>因为金融涉及社会的每一方面，且问题非常多。真正的生产方式的变革，并非所谓无产阶级革命，而是在私人资本的竞争和社会不断对私人资本的限制上逐步体现出来。</p><p>一般情况下，如果商业银行完全按照中央银行确定的存款准备金率来进行现金准备，并将吸收的存款剩余部分全部贷出去，显然它手上就没有现金了，如果储户要来取钱，商业银行需要向中央银行申请拨回部分现金，这是很麻烦的，所以商业银行一般会在上缴准备金后再留一部分现金作流通准备。称作商业银行的超额准备。</p><details>    <summary>头寸</summary>    中国旧时指银行钱庄等所拥有的款项，现指投资者拥有或借用的资金数量。</details><h3 id="货币市场的均衡"><a href="#货币市场的均衡" class="headerlink" title="货币市场的均衡"></a>货币市场的均衡</h3><details><summary>古典货币市场</summary> 货币必须是货真价实的贵金属（黄金、白银）。</details><pre><code class="hljs">现代货币制度和古典货币制度相比，最重大的区别是&lt;mark&gt;货币不再和黄金白银挂钩&lt;/mark&gt;了。</code></pre><details>    <summary>布林顿森林会议和美元</summary>    布林顿森林会议上美国提出国际贸易均以美元结算，并承诺美元跟黄金挂钩。</details><pre><code class="hljs">1971年美国宣布放弃金本位制，即美元不再与黄金挂钩。实际上，黄金作为一种总储量有限的贵金属，已经越来越难满足整个世界庞大的交易规模的货币需求，所以放弃黄金并非“阴谋”，而是迫不得已。现代货币制度的关键是靠政府信用来发行货币。政府追求的首要目标是维护政权的稳定，所以政府不会随意地发行货币。中国的金融还没有完全市场化，所以中国的利率水平往往是人民银行直接发布决定的。但是西方金融体制可能是偏向市场化的，即由市场自由决定利率。</code></pre><p><img src="C:\Users\XYZ\AppData\Roaming\marktext\images\2023-11-19-19-22-51-image.png" alt=""></p><p><strong>L：货币需求 M：货币供给</strong></p><pre><code class="hljs">从上图可以看出，当政府想要扩大投资规模时，可以通过**增加货币供给**（此时货币供给曲线右移，均衡点也右移）或**降低利率水平**。但是当货币供给扩大到一定程度，即货币供给曲线右移到一定程度，此时便陷入**流动性陷阱**（此时货币需求已经呈一条水平线），再多的货币供给都不会使均衡点利率水平降低。</code></pre>]]></content>
    
    
    <categories>
      
      <category>课程笔记</category>
      
      <category>2023-2024秋冬学期</category>
      
      <category>宏观经济学</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>宏观经济学-消费、储蓄和投资</title>
    <link href="/2023/11/18/%E5%AE%8F%E8%A7%82%E7%BB%8F%E6%B5%8E%E5%AD%A6-%E6%B6%88%E8%B4%B9%E3%80%81%E5%82%A8%E8%93%84%E5%92%8C%E6%8A%95%E8%B5%84/"/>
    <url>/2023/11/18/%E5%AE%8F%E8%A7%82%E7%BB%8F%E6%B5%8E%E5%AD%A6-%E6%B6%88%E8%B4%B9%E3%80%81%E5%82%A8%E8%93%84%E5%92%8C%E6%8A%95%E8%B5%84/</url>
    
    <content type="html"><![CDATA[<h1 id="宏观经济学-Chapter1宏观经济变量"><a href="#宏观经济学-Chapter1宏观经济变量" class="headerlink" title="宏观经济学-Chapter1宏观经济变量"></a>宏观经济学-Chapter1宏观经济变量</h1><h2 id="第二章-消费、储蓄和投资"><a href="#第二章-消费、储蓄和投资" class="headerlink" title="第二章 消费、储蓄和投资"></a>第二章 消费、储蓄和投资</h2><h3 id="消费："><a href="#消费：" class="headerlink" title="消费："></a>消费：</h3><pre><code class="hljs">消费函数：指消费支出与决定消费的各种因素之间的依存关系。影响消费的最重要的因素是&lt;mark&gt;收入水平&lt;/mark&gt;。C = c(Y)，且满足 $\dfrac&#123;dc&#125;&#123;dy&#125; &gt; 0$ ; $\dfrac&#123;dc^2&#125;&#123;d^2y&#125; &lt; 0$ .即消费随着收入增加而增加，但是边际消费倾向是递减的。  </code></pre><p><img src="C:\Users\XYZ\Desktop\边际消费倾向递减.jpg" alt=""></p><pre><code class="hljs">如果把该函数视作一个简单的线性函数，则其表达式为：$C = a + bY(1 &gt; b &gt; 0)$，其中a与Y无关，凯恩斯把它看作是保障一个人生存的最低消费需求。**bY**称为&lt;mark&gt;诱致性消费&lt;/mark&gt;，是居民个人或家庭的消费中受收入水平影响的变量。b即为&lt;mark&gt;边际消费倾向&lt;/mark&gt;。中国的边际消费倾向大约是0.6~0.65(11年左右)，而美国大约是0.9~0.95，所以会有一个直觉上反常的事实——中国人均GDP远低于美国，但是美国需要大量向中国借国债，因为美国居民把收入基本消费掉了，要投资发展生产没有钱，必须向其他国家借钱， 而中国作为储蓄率高的国家，刚好有余钱可以借给美国。“这就是宏观经济学中的合成谬误假设，个别情况下看到的经济现象放到整体上看未必就是这样子”（叶航）消费倾向：消费与收入的比率     平均消费倾向：消费总量与收入总量的比率，简称APC。根据定义有$APC = \dfrac&#123;C&#125;&#123;Y&#125;$    边际消费倾向：消费增量与收入增量的比率，简称MPC。根据定义$MPC =$ $\dfrac&#123;dC&#125;&#123;dY&#125;$</code></pre><h3 id="储蓄："><a href="#储蓄：" class="headerlink" title="储蓄："></a>储蓄：</h3><pre><code class="hljs">一个国家或地区一定时期内居民个人或家庭收入中未用于消费的部分。宏观经济学中的是广义的储蓄，即收入中没有用于消费的部分都叫储蓄。影响储蓄的最重要的因素是&lt;mark&gt;收入水平&lt;/mark&gt;。 简化影响因素，$S = s（Y）$。（$\dfrac&#123;dS&#125;&#123;dY&#125; &gt; 0$ ; $\dfrac&#123;dS^2&#125;&#123;d^2Y&#125; &gt; 0$）&lt;mark&gt;消费和储蓄是互补的概念！！&lt;/mark&gt;但是考虑储蓄函数时，我们仍然可以把其他影响因素（如社会文化氛围）单拎出来分析，此时需要构造新的储蓄函数。将其简化为线性函数，$S = -a + (1-b)Y$，储蓄倾向为 $1-b$ 平均储蓄倾向：消费总量与收入总量的比率，简称APS。根据定义有APS = $\dfrac&#123;S&#125;&#123;Y&#125;$边际储蓄倾向：消费增量与收入增量的比率，简称MPS。根据定义MPC = $\dfrac&#123;dS&#125;&#123;dY&#125;$</code></pre><p>PS：MPC + MPS = 1；APC + APS = 1</p><h3 id="投资："><a href="#投资：" class="headerlink" title="投资："></a>投资：</h3><pre><code class="hljs">一个国家或地区一个时期内&lt;mark&gt;社会资本&lt;/mark&gt;的形成和增加。由于现存资本的折旧损耗，显然在计算投资增加时要将新增的流量减去折旧损耗得到净增量。净投资 = 投资 - 折旧（也叫重置投资）净投资 = 期末的资本存量 - 期初的资本存量一般考虑的时候可以把折旧看作零。因为折旧实际上是存量的一部分，而我们考虑投资对宏观经济的影响，是考虑流量的影响。投资函数：“投资环境”：当前中国房价居高不下，是因为地方财政收入严重依赖于卖地所得，即地方财政收入和开发商有共同的利益，房价越高，开发商用越高的价格向政府购地，则政府的财政收入越高。但由此产生投资成本过高，投资者用地成本过高损害了投资环境。对投资影响最大的是利率水平。 $I = i（r）$，$\dfrac&#123;di&#125;&#123;dr&#125; &lt; 0$，即将投资看作是利率的函数。</code></pre><p>  $  I = \alpha - \beta r$ 其中 $\alpha$ 称为自发性投资（不受利率影响），在凯恩斯的理论中，$\alpha$ 是整个社会为维持正常运转而必需的投资，如今更多是政府投资，诱致性投资更多是社会企业的投资。</p><pre><code class="hljs">银行借款相当于是向银行购买借款的使用权，为使用权付出一定的价格，这个价格就是利率。</code></pre><p>PS：比较静态分析：主要用于分析不同数值的外生变量下的内生变量的不同数值。</p><p>凡是图形左右移动，都是由外生变量引起的变动。</p><p>投资的边际效率：</p><pre><code class="hljs">投资收益的增量与投资增量的比率。</code></pre><p>凯恩斯认为，投资收益是边际递减的。原因如下：</p><pre><code class="hljs">1.在竞争性市场中，一旦某种商品的生产有较高的投资收益率，许多厂商都会增加对该部门的投资，结果使得该产品的供给增加、价格回落，从而导致投资收益率的降低。2.投资所需的机器设备、原材料等投入品的需求增加，价格上涨，从而导致投资成本的增大，即使产品的销售价格不变，其投资利率也会降低。</code></pre>]]></content>
    
    
    <categories>
      
      <category>课程笔记</category>
      
      <category>2023-2024秋冬学期</category>
      
      <category>宏观经济学</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>宏观经济学-总产出</title>
    <link href="/2023/11/17/%E5%AE%8F%E8%A7%82%E7%BB%8F%E6%B5%8E%E5%AD%A6-%E6%80%BB%E4%BA%A7%E5%87%BA/"/>
    <url>/2023/11/17/%E5%AE%8F%E8%A7%82%E7%BB%8F%E6%B5%8E%E5%AD%A6-%E6%80%BB%E4%BA%A7%E5%87%BA/</url>
    
    <content type="html"><![CDATA[<h1 id="宏观经济学-Chapter1宏观经济变量"><a href="#宏观经济学-Chapter1宏观经济变量" class="headerlink" title="宏观经济学-Chapter1宏观经济变量"></a>宏观经济学-Chapter1宏观经济变量</h1><h2 id="第一章-总产出"><a href="#第一章-总产出" class="headerlink" title="第一章 总产出"></a>第一章 总产出</h2><pre><code class="hljs">冷战时期，社会主义阵营和资本主义阵营所选用的产出统计方法是不一致的。社会主义国家选用物质产品统计系统（WPS），资本主义国家选用国民产值统计系统（当前的GDP统计系统的前身）。</code></pre><p>总产出核算的指标：</p><script type="math/tex; mode=display">\begin{cases}国民生产总值(GNP)\\国内生产总值(GDP)\\其他指标\end{cases}</script><p>90年代以后，国际上统计指标选取</p><h3 id="国民生产总值（GNP）："><a href="#国民生产总值（GNP）：" class="headerlink" title="国民生产总值（GNP）："></a>国民生产总值（GNP）：</h3><pre><code class="hljs">指一个国家或一个地区一定时期内由**本地公民所生产的**&lt;mark&gt;全部最终产品和劳务的价格总和&lt;/mark&gt;。PS：所选取的国家或地区是可以动态调整的，时期也不一定规定在一年以内</code></pre><h4 id="统计GNP的三条原则："><a href="#统计GNP的三条原则：" class="headerlink" title="统计GNP的三条原则："></a>统计GNP的三条原则：</h4><pre><code class="hljs">1.**GNP统计的是最终产品，而不是中间产品。** 比如一辆汽车的价格十万元，假设车轮是从轮胎厂外购买入的，一辆车四个车轮共2000元。而轮胎厂从橡胶厂买入原材料800元。其中橡胶和车轮价格都不计入GNP，只记录汽车最终价格（十万元）。但是如果车胎破了要买新轮胎，此时轮胎是最终产品。</code></pre><p>PS：前面提到的物质产品统计系统是按部门统计生产产品价值，所以有重复计算的可能。</p><pre><code class="hljs">2.**GNP是流量而非存量。** 流量指一定时间内发生或产生的变量。存量是指某一时点上观测或测量到的变量。3.**GNP按国民原则，而不按国土原则计算**。通俗地说，任何一个人持有中国护照，拥有中国国籍，不管他在哪里，所生产的商品价值均要纳入GNP。</code></pre><h3 id="国内生产总值（GDP）："><a href="#国内生产总值（GDP）：" class="headerlink" title="国内生产总值（GDP）："></a>国内生产总值（GDP）：</h3><pre><code class="hljs">指一定时期内&lt;mark&gt;在一个国家或地区范围&lt;/mark&gt;所生产的全部最终产品和劳务的价格总和。</code></pre><h2 id="总产出核算的其他指标："><a href="#总产出核算的其他指标：" class="headerlink" title="总产出核算的其他指标："></a>总产出核算的其他指标：</h2><h3 id="GNP或GDP"><a href="#GNP或GDP" class="headerlink" title="GNP或GDP"></a>GNP或GDP</h3><pre><code class="hljs">减&lt;mark&gt;折旧&lt;/mark&gt;，等于：</code></pre><h3 id="国民净产值（NNP）或国内净产值（NDP）"><a href="#国民净产值（NNP）或国内净产值（NDP）" class="headerlink" title="国民净产值（NNP）或国内净产值（NDP）"></a>国民净产值（NNP）或国内净产值（NDP）</h3><pre><code class="hljs">减&lt;mark&gt;间接税&lt;/mark&gt;，等于：</code></pre><p>PS：间接税：指纳税义务人不是税收的实际负担人，纳税义务人通过提高价格等方法将税收负担转嫁给别人（消费者）的税种。</p><p>直接税：指直接向个人或企业开征的税，包括对所得、劳动报酬和利润的征税。</p><h3 id="国民收入（NI）Nation-Income"><a href="#国民收入（NI）Nation-Income" class="headerlink" title="国民收入（NI）Nation Income"></a>国民收入（NI）Nation Income</h3><pre><code class="hljs">减公司未分配利润、社会保障支付；加转移支付，等于：</code></pre><h3 id="个人收入（PI）"><a href="#个人收入（PI）" class="headerlink" title="个人收入（PI）"></a>个人收入（PI）</h3><pre><code class="hljs">减个人所得税，等于：</code></pre><h3 id="个人可支配收入（DPI）"><a href="#个人可支配收入（DPI）" class="headerlink" title="个人可支配收入（DPI）"></a>个人可支配收入（DPI）</h3><p>总产出核算的方法：收入法与支出法</p><p>收入法：把一个国家或地区一定时期内所有个人和部分的收入进行汇总。</p><p>用收入法计算的总产出可以表示为：</p><p>Y = DPI + Z + T</p><p>Y：总产出</p><p>Z：折旧基金收入</p><p>DPI：个人可支配收入</p><p>T：政府税收收入</p><p>而DPI可分解为C（消费）和S（储蓄）；Z（折旧基金收入）可表示为S（储蓄），因此</p><p>Y = C + S + T</p><p>支出法：把一个国家或地区一定时期内所有个人和部门购买最终产品和劳务的支出进行汇总。</p><p>用支出法计算的总产出可以表示为：</p><p>Y = C + I + G</p><p>I：国内私人投资</p><p>Y：总产出</p><p>G：政府购买</p><p>C：居民最终消费</p><p>用支出法和收入法统计得到的结果往往是不同的，主要原因是许多灰色收入不会被计入收入法统计（如贩毒业等）。加之许多企业为少交税等倾向于少报瞒报，所以以收入法统计的总产出往往比实际要少得多。</p><p>如果考虑进出口</p><p>Y = C + I + G + <mark>(X - M)</mark></p><p>X为出口额，M为进口额</p><p>X - M 称为净出口</p><p>总产出核算的校正</p><p>消费价格平减指数：</p><pre><code class="hljs">名义国内生产总值    用当期市场价格计算，没有扣减物价上涨因素实际国内生产总值：    用某一基期的市场价格计算，扣减物价上涨因素</code></pre><p>消费价格平减指数（通货膨胀率） = 名义国内生产总值 / 实际国内生产总值</p><p>实际媒体公布的GDP都是实际GDP，特殊情况下会特别标注是名义GDP</p><p>购买力平价（简称PPP）</p><pre><code class="hljs">以实际购买力计算的两个国家不同货币之间的比例。（选取一揽子商品，包含的商品越全越好）</code></pre>]]></content>
    
    
    <categories>
      
      <category>课程笔记</category>
      
      <category>2023-2024秋冬学期</category>
      
      <category>宏观经济学</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>DIP-HW3</title>
    <link href="/2023/11/16/DIP-HW3/"/>
    <url>/2023/11/16/DIP-HW3/</url>
    
    <content type="html"><![CDATA[<h1 id="图像信息处理HW3-实验报告"><a href="#图像信息处理HW3-实验报告" class="headerlink" title="图像信息处理HW3 实验报告"></a>图像信息处理HW3 实验报告</h1><p>曹正 3220102918</p><h2 id="一、实验目的和要求"><a href="#一、实验目的和要求" class="headerlink" title="一、实验目的和要求"></a>一、实验目的和要求</h2><pre><code class="hljs">**1.lmage logarithmic operation for visibility enhancement** 通过图像对数变换增强图像对比度**2.Histogram equalization** 通过直方图均衡化增强图像对比度</code></pre><h2 id="二、实验内容和原理"><a href="#二、实验内容和原理" class="headerlink" title="二、实验内容和原理"></a>二、实验内容和原理</h2><h3 id="1-图像对数变换-Logarithmic-Transformation"><a href="#1-图像对数变换-Logarithmic-Transformation" class="headerlink" title="1. 图像对数变换 (Logarithmic Transformation)"></a>1. 图像对数变换 (Logarithmic Transformation)</h3><ul><li><strong>目的</strong>: 图像对数变换主要用于处理动态范围较大的图像，比如在明亮区域和暗区域都有细节的图像。它通过压缩图像的高亮区域和扩展暗区域来增强图像的对比度。</li><li><strong>原理</strong>: 对数变换依据以下数学公式： $s=c⋅log(1+r)$  其中，r 是原始像素值，s 是变换后的像素值，而 c 是一个常数。对数函数的形状决定了暗区域的像素值会被拉伸（增加对比度），而亮区域的像素值被压缩。</li><li><strong>应用</strong>: 这种变换尤其适用于增强医学成像或天文图像中的细节，因为这些领域的图像通常包含广泛的亮度级别。</li></ul><h3 id="2-直方图均衡化-Histogram-Equalization"><a href="#2-直方图均衡化-Histogram-Equalization" class="headerlink" title="2. 直方图均衡化 (Histogram Equalization)"></a>2. 直方图均衡化 (Histogram Equalization)</h3><ul><li><strong>目的</strong>: 直方图均衡化是用来改善图像的全局对比度的技术。它对图像的直方图进行调整，使得像素的分布更加均匀，从而增强整体对比度。</li><li><strong>原理</strong>: 这个过程通过重新分配像素值来实现，使得直方图（即像素强度的分布）变得更加平坦和广泛。算法计算累积分布函数（CDF），并用它来映射旧的像素值到新的像素值，从而均衡直方图。</li><li><strong>应用</strong>: 直方图均衡化广泛用于各种图像处理领域，尤其是在低对比度图像中效果显著。例如，在消除雾霾影响、改善摄影图像或者医学图像分析中都非常有用。</li></ul><h2 id="三、实验步骤与分析"><a href="#三、实验步骤与分析" class="headerlink" title="三、实验步骤与分析"></a>三、实验步骤与分析</h2><ol><li><p><strong>读取 BMP 图像</strong>: 使用 <code>LoadBitmapFile</code> 函数读取 BMP 格式的图像，并存储图像头部信息和数据。</p></li><li><p><strong>图像数据处理</strong>:</p><ul><li><strong>读取和存储图像数据</strong>: 将图像的 RGB 值读入 <code>InitialRGB</code> 数组。</li><li><strong>计算亮度</strong>: 使用 <code>calculateLuminance</code> 函数计算每个像素的亮度。</li><li><strong>对数变换</strong>: 对 RGB 值应用对数变换，使用 <code>LogTransform</code> 函数。对数变换用于增强图像的暗部细节。</li></ul></li><li><p><strong>直方图均衡化</strong>: 对处理后的图像应用直方图均衡化，增强图像的对比度。这一步骤涉及计算直方图、累积分布函数（CDF）以及应用均衡化。</p></li><li><p><strong>输出处理后的图像</strong>: 将经过对数变换和直方图均衡化的图像数据写入新的 BMP 文件中。</p></li></ol><h2 id="四、实验环境及运行方法"><a href="#四、实验环境及运行方法" class="headerlink" title="四、实验环境及运行方法"></a>四、实验环境及运行方法</h2><p><strong>实验环境：</strong> VSCode</p><p><strong>测试方法：</strong> 输入原始bmp文件，运行程序，检查文件夹中生成相应的图像</p><h2 id="五、实验结果展示"><a href="#五、实验结果展示" class="headerlink" title="五、实验结果展示"></a>五、实验结果展示</h2><p><img src="C:\Users\XYZ\Documents\WeChat%20Files\wxid_bsolpufiwdz622\FileStorage\Temp\4ee6404381e7968ce0c9f2549453f7d.png" alt="4ee6404381e7968ce0c9f2549453f7d.png"></p><p><img src="C:\Users\XYZ\Documents\WeChat%20Files\wxid_bsolpufiwdz622\FileStorage\Temp\459376f90f567a57b1f81074920b98d.png" alt="459376f90f567a57b1f81074920b98d.png"></p>]]></content>
    
    
    <categories>
      
      <category>课程笔记</category>
      
      <category>2023-2024秋冬学期</category>
      
      <category>图像信息处理</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>宏观经济学-导论</title>
    <link href="/2023/11/16/%E5%AE%8F%E8%A7%82%E7%BB%8F%E6%B5%8E%E5%AD%A6-%E5%AF%BC%E8%AE%BA/"/>
    <url>/2023/11/16/%E5%AE%8F%E8%A7%82%E7%BB%8F%E6%B5%8E%E5%AD%A6-%E5%AF%BC%E8%AE%BA/</url>
    
    <content type="html"><![CDATA[<h1 id="宏观经济学——导论"><a href="#宏观经济学——导论" class="headerlink" title="宏观经济学——导论"></a>宏观经济学——导论</h1><p><strong>课外参考教材：</strong></p><p>保罗·萨缪尔森：《经济学》</p><p>格里高利·曼昆：《经济学原理》</p><h2 id="宏观经济学的一些基本概念和定义："><a href="#宏观经济学的一些基本概念和定义：" class="headerlink" title="宏观经济学的一些基本概念和定义："></a>宏观经济学的一些基本概念和定义：</h2><p>宏观经济学强调 <mark>总量</mark> 的概念，如总产量，总需求，国民收入等</p><p>宏观经济学创始人：凯恩斯，著作 <strong>《就业利息和货币通论》</strong>，简称 <strong>《通论》</strong> </p><h2 id="微观经济学和宏观经济学的差别："><a href="#微观经济学和宏观经济学的差别：" class="headerlink" title="微观经济学和宏观经济学的差别："></a>微观经济学和宏观经济学的差别：</h2><script type="math/tex; mode=display">\begin{cases} 微观经济学：理性人假设\\ 宏观经济学：合成谬误假设\end{cases}\\</script><p><strong>合成谬误假设</strong>：个体追求效用最大化不一定导致集体效用最大化</p><p>e.g. 剧场火灾/银行挤兑（假设有传言银行要破产，每个存款人都选择取钱，保证自己的利益损失最小，但是所有存款人挤兑导致银行破产，使一部分存款人损失存款）</p><script type="math/tex; mode=display">\begin{cases} 微观经济学：市场出清假设\\ 宏观经济学：市场非出清假设\end{cases}</script><p><strong>市场出清假设</strong>：从理论上说，价格过高，供过于求；价格过低，供不应求。市场上供不应求和供过于求都是暂时的，只要价格调整到合适的高低，市场就能达到出清的状态。</p><p><strong>市场非出清假设</strong>：宏观经济学认为市场在很多时候都是非出清的。其中一个重要因素就是菜单成本——指零售商在价格调整时产生的成本负担（餐厅餐品价格变动，所有的菜单都需要重新印刷引发的成本。广义上说，每个厂商改变价格都需要一定成本，或许是宣传，或许是印刷等）。<u>如果菜单成本比改变价格带来的利润增量高</u>，商家作为理性人一定会选择不改变价格。</p><script type="math/tex; mode=display">\begin{cases}    微观经济学：市场的帕累托有效性\\    宏观经济学：市场失灵\end{cases}</script><p><strong>帕累托有效性</strong>：按照市场均衡理论，经过市场的自动调节，一定能达到某个状态使得任意一点扰动都会减少市场中一部分人的利润。这个需求供给的均衡点称为帕累托最优或帕累托有效。</p><p><strong>市场失灵</strong>：市场非出清假设导致实际上市场不可能根据微观经济学所设想的最终达到帕累托最优均衡，而是很可能发生偏移甚至造成市场崩溃。</p><script type="math/tex; mode=display">\begin{cases} 微观经济学：自由放任市场组织\\ 宏观经济学：国家干预\end{cases}</script><script type="math/tex; mode=display">\begin{cases}微观经济学：亚当·斯密的“看不见的手”\\宏观经济学：凯恩斯的“看得见的手”\end{cases}</script><p>:chestnut:：美国次贷危机后奥巴马的财政支持计划/中国2008金融危机的四万亿财政投资计划</p><p>凯恩斯指出经济危机产生的三大规律</p><script type="math/tex; mode=display">\begin{cases} 边际消费倾向递减规律\\ 投资边际收益递减规律\\灵活偏好与流动性陷阱\end{cases}</script><pre><code class="hljs">（前两个同微观经济学边际倾向递减规律很好理解）如图，四十五度线表示消费C = 收入Y，即所有收入均用于收入。而消费曲线的一阶导数大于0，二阶导数小于0。但是实际的消费曲线在交点以前消费大于收入（极端情况即使收入等于 0，人为维持基本生活也需要固定的消费），在交点以后消费小于收入且储蓄不断增加。此时引发一个重要问题：储蓄不断扩大，即收入中消费占比下降，宏观市场的供求均衡逐渐被破坏。这个问题暂时不会引发危机，因为储蓄的增加可以推动投资的增加，投资规模扩大的前期，显然带来的收益增长率是很高的。但是当投资扩大到一定规模，投资的边际收益不断减少，直到接近银行利率（此时相当于把钱放在银行和投资获得的收益持平）。投资规模便不会再进一步扩大。</code></pre><p>宏观经济学中的储蓄是<strong>广义</strong>的：即除了消费以外都归于储蓄</p><p><strong>灵活偏好：</strong> 钱以现金形式放在身边和存在银行，显然放在身边灵活性更好（即更方便使用），但也会损失存在银行的利息。理性人此时会在两者间作权衡，如果银行的利率过低，显然把钱放在身边的“收益”更高。所以银行不可能把利率定得过低，即投资不可能无限制扩大。  </p><p><strong>流动性陷阱：</strong> 指当名义利率降低到无可再降低的地步，甚至接近于零时，由于人们对于<strong>灵活偏好</strong>的作用，宁愿以现金或储蓄的方式持有财富，而不愿意把这些财富以资本的形式作为投资，也不愿意把这些财富作为个人享乐的消费资料消费掉。国家任何货币供给量的增加，都会以“闲资”的方式被吸收，仿佛掉入了“流动性陷阱”，因而对总体需求、所得及物价均不产生任何影响。</p><p>凯恩斯的反危机政策：</p><script type="math/tex; mode=display">\begin{cases}政府通过反危机政策干预\\通过政府购买来扩大有效需求\\通过政府财政赤字降低失业率\end{cases}</script><pre><code class="hljs">如果直接通过发钱来刺激消费，可能会使金钱的激励作用损失。换一种思路，政府出面推动大量工程，从政府财政出钱，解决大量失业者的就业问题。:chestnut:： **罗斯福新政** 罗斯福黄金法案：法律规定个人不允许持有黄金（由于出现黄金挤兑潮，美国经济面临崩溃）1971年美元与黄金脱钩，即废除金本位制。</code></pre><p>马克思和凯恩斯一致认为：<mark>以生产过剩为特征的危机是资本主义市场经济不可避免的。</mark></p><p>但两人的经济观点有本质区别：马克思认为资本主义市场经济必然覆灭，凯恩斯试图找到问题所在并挽救资本主义市场经济。</p><h2 id="对马克思和凯恩斯之间异同的解读"><a href="#对马克思和凯恩斯之间异同的解读" class="headerlink" title="对马克思和凯恩斯之间异同的解读"></a>对马克思和凯恩斯之间异同的解读</h2><p><strong>一致性：</strong> 马克思和凯恩斯都认为完全自由放任的资本主义经济制度无法避免以生产过剩为特征的经济危机以及持续存在的高失业率。</p><p><strong>差异性：</strong>   </p><pre><code class="hljs">1.马克思认为资本主义经济危机是资本主义生产方式的基本矛盾（生产的社会性与生产资料私人占有之间的矛盾）造成的。凯恩斯则认为资本主义经济危机是人类经济行为的三大规律（见上文）造成的。2.马克思认为要消除资本主义经济危机就必须废除资本主义生产方式而代之以社会主义生产方式。凯恩斯则认为可以在现行生产方式的基础上通过国家对市场的干预来消除上述危机3. 从马克思辩证唯物主义和历史唯物主义的立场看，只有当一个矛盾体内部的矛盾充分发展以后，才会引起变革；因此，新的社会变革必然发生在最发达的资本主义国家；当代资本主义的国家干预与混合经济是对传统资本主义的扬弃，它既是一种“量变”，也是一种“局部质变”。</code></pre>]]></content>
    
    
    <categories>
      
      <category>课程笔记</category>
      
      <category>2023-2024秋冬学期</category>
      
      <category>宏观经济学</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>FDS-Chapter8</title>
    <link href="/2023/11/15/FDS-Chapter8/"/>
    <url>/2023/11/15/FDS-Chapter8/</url>
    
    <content type="html"><![CDATA[<h1 id="Chapter-8-不相交集ADT"><a href="#Chapter-8-不相交集ADT" class="headerlink" title="Chapter 8 不相交集ADT"></a>Chapter 8 不相交集ADT</h1><h2 id="8-1-等价关系"><a href="#8-1-等价关系" class="headerlink" title="8.1 等价关系"></a>8.1 等价关系</h2><pre><code class="hljs">等价关系（equivalence relation）满足自反性、对称性、传递性（在离散数学里已经学习过，不再赘述）    </code></pre><h2 id="8-2-动态等价性关系"><a href="#8-2-动态等价性关系" class="headerlink" title="8.2 动态等价性关系"></a>8.2 动态等价性关系</h2><p><strong>教材原文</strong>摘抄如下：</p><p>$a\in S$的等价类（equivalence class）是S的一个子集，它包含所有与a有关系的元素。注意，等价类形成对S的一个划分：S的每一个成员恰好出现在一个等价类中。为确定是否a~b，我们只需验证a和b是否都在同一个等价类中。</p><p>这段话看着头大..举个例子：在集合 $ A = { {a,b,c },d } $ 中，集合{a,b,c} 就是a、b、c的等价类。</p><h2 id="8-3-基本数据结构"><a href="#8-3-基本数据结构" class="headerlink" title="8.3 基本数据结构"></a>8.3 基本数据结构</h2><pre><code class="hljs">一维数组，数组元素储存该点所在树的根节点编号，根节点储存$-树的结点数$。其余略。</code></pre><h2 id="8-4-灵巧求并算法-UnionBySize"><a href="#8-4-灵巧求并算法-UnionBySize" class="headerlink" title="8.4 灵巧求并算法 UnionBySize"></a>8.4 灵巧求并算法 UnionBySize</h2><pre><code class="hljs">为维护树的深度（一般最坏情况为$logN$），进而控制Find的时间复杂度，我们在Union两个集合的时候一般选择Union-By-Size。即：每次执行Union时都将较小的树作为子树连接到较大的那棵树下。</code></pre>]]></content>
    
    
    <categories>
      
      <category>课程笔记</category>
      
      <category>2023-2024秋冬学期</category>
      
      <category>数据结构基础</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>宏观经济学-IS-LM模型</title>
    <link href="/2023/11/15/%E5%AE%8F%E8%A7%82%E7%BB%8F%E6%B5%8E%E5%AD%A6-IS-LM%E6%A8%A1%E5%9E%8B/"/>
    <url>/2023/11/15/%E5%AE%8F%E8%A7%82%E7%BB%8F%E6%B5%8E%E5%AD%A6-IS-LM%E6%A8%A1%E5%9E%8B/</url>
    
    <content type="html"><![CDATA[<h1 id="宏观经济学——Chapter2宏观经济模型"><a href="#宏观经济学——Chapter2宏观经济模型" class="headerlink" title="宏观经济学——Chapter2宏观经济模型"></a>宏观经济学——Chapter2宏观经济模型</h1><h2 id="第五章-IS-LM模型"><a href="#第五章-IS-LM模型" class="headerlink" title="第五章 IS-LM模型"></a>第五章 IS-LM模型</h2><p><strong>I：投资 S：储蓄 L：货币需求 M：货币供给</strong></p><p>PS：这个模型不是凯恩斯提出来的，在凯恩斯的模型中，没有把货币纳入考虑中，只考虑了实体经济。</p><h3 id="商品市场的均衡与IS曲线"><a href="#商品市场的均衡与IS曲线" class="headerlink" title="商品市场的均衡与IS曲线"></a>商品市场的均衡与IS曲线</h3><h4 id="IS曲线的经济含义"><a href="#IS曲线的经济含义" class="headerlink" title="IS曲线的经济含义"></a>IS曲线的经济含义</h4><p>IS曲线的第一条经济学含义：IS曲线是一条描述商品市场达到宏观均衡，即<mark>I = S</mark>时，总产出和总利率之间关系的曲线。</p><p>IS曲线的第二条经济学含义：在商品市场上，总产出与利率之间存在着反向变化的关系，即利率提高时总产出水平趋于减少，利率降低时总产出水平趋于增加（利率提高导致社会投资减少，则产出减少）。</p><p>IS曲线的第三条经济含义：处于IS曲线上的任何点位都表示I = S，即商品市场实现了宏观均衡。如果在r-S曲线中，某一点落在曲线的右侧（上边）表示 I &lt; S，即<strong>现行的利率水平过高</strong>，从而导致投资规模小于储蓄规模。如果某一点位处在曲线的左侧（下边）表示 I  &gt; S，即<strong>现行的利率水平过低</strong>，从而导致投资规模大于储蓄规模。</p><h4 id="IS曲线的推导："><a href="#IS曲线的推导：" class="headerlink" title="IS曲线的推导："></a>IS曲线的推导：</h4><script type="math/tex; mode=display">\begin{cases}I = S\\I = α - βr\\S = -a + （1-b）Y\end{cases}</script><p>其中 $ \alpha $ 为 <strong>自发性投资</strong>，$a$ <strong>自发性消费</strong>，$b$为<strong>边际消费倾向</strong>，$\beta$为<strong>投资系数</strong></p><p>由以上式子可以得出：</p><script type="math/tex; mode=display">\begin{cases}r = \dfrac{a+α}{β}-\dfrac{(1-b)Y}{β}\\Y = \dfrac{\alpha+a-\beta r}{1-b}\\\end{cases}</script><p>可以令 $ \dfrac{a+\alpha}{\beta}=A$， $\dfrac{1-b}{\beta}$ = B，则 $r = A - BY$</p><p><img src="C:\Users\XYZ\Desktop\第五章1.png" alt=""></p><p><strong>PS：此处的X即为利率r</strong></p><h4 id="IS图形的变化："><a href="#IS图形的变化：" class="headerlink" title="IS图形的变化："></a>IS图形的变化：</h4><p>1.IS的水平移动：IS曲线的斜率不发生变化（lec 2）</p><p>2.IS的旋转移动：随着利率的下降，投资规模会增加，产出也会增加。相对于不同斜率的IS曲线，利率下降相同的水平，产出水平的增加不同。（+图像）</p><p><img src="C:\Users\XYZ\hexo-blog\source\_posts\IS-LM模型\屏幕截图%202023-11-21%20000456.png" alt=""></p><pre><code class="hljs">国企改革前，国企不面向市场，完全由政府掌控，即企业的投资，生产，产品销售全是由政府规划，其**IS曲线斜率极大（对利率变化非常不敏感）**，甚至可以看成一条垂直X轴的直线。国企改革（1990~1995年）后，国企开始面向市场，不再由政府完全包办，其IS曲线变缓。决定IS曲线斜率的是$ \dfrac&#123;1-b&#125;&#123;\beta&#125;$，其中边际消费倾向相对比较稳定，则主要是&lt;mark&gt;投资系数&lt;/mark&gt;决定IS曲线斜率。</code></pre><h2 id="货币市场的均衡和LM曲线"><a href="#货币市场的均衡和LM曲线" class="headerlink" title="货币市场的均衡和LM曲线"></a>货币市场的均衡和LM曲线</h2>]]></content>
    
    
    <categories>
      
      <category>课程笔记</category>
      
      <category>2023-2024秋冬学期</category>
      
      <category>宏观经济学</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>FDS Chapter9</title>
    <link href="/2023/11/13/FDS-Chapter9/"/>
    <url>/2023/11/13/FDS-Chapter9/</url>
    
    <content type="html"><![CDATA[<h1 id="Chapter-9-Graph-Algorithm"><a href="#Chapter-9-Graph-Algorithm" class="headerlink" title="Chapter 9 Graph Algorithm"></a>Chapter 9 Graph Algorithm</h1><h2 id="9-1-若干定义"><a href="#9-1-若干定义" class="headerlink" title="9.1 若干定义"></a>9.1 若干定义</h2><pre><code class="hljs">图 **G = （V，E）** 由顶点`vertex`集V和边`edge`集E组成。如果在一个无向图中从每一个顶点到每个其他顶点都存在一条路径，则称该无向图是连通的（connected）强连通（strongly connected）图：有向图中每一个顶点到每个其他顶点都存在一条路径。基础图（underlying graph）：有向图去掉方向后得到的无向图弱联通（weakly connected）图：基础图是连通的度（degree）：与某个顶点相连的边数。在有向图中还可分为入度和出度。</code></pre><h4 id="9-1-1-图的表示"><a href="#9-1-1-图的表示" class="headerlink" title="9.1.1 图的表示"></a>9.1.1 图的表示</h4><pre><code class="hljs">最简单的方式构造一张图就是使用二维数组</code></pre><div class="table-container"><table><thead><tr><th></th><th>1</th><th>2</th><th>3</th></tr></thead><tbody><tr><td><strong>1</strong></td><td>0</td><td>4</td><td>0</td></tr><tr><td><strong>2</strong></td><td>3</td><td>0</td><td>0</td></tr><tr><td><strong>3</strong></td><td>0</td><td>7</td><td>0</td></tr></tbody></table></div><p>如上数组表示1-&gt;2存在一条长度为4的边，2-&gt;1存在一条长度为3的边（其他边同理）</p><pre><code class="hljs">当图为稠密（dense）图时，二维数组空间浪费少且时间复杂度低。但是显然，G = （V，E）中，若结点数比较多，边数比较少，则存在极大的空间浪费。虽然每次查找的时间复杂度都是 **O(1)** 。但是对于一个V = 3000，E = 4000的边，显然有 $3000^2-4000$ 的数组空间被浪费了。相应地，邻接表是牺牲了部分查找的时间复杂度，但是可以把空间复杂度控制在**O(|V| + |E|)**，当图是稀疏（sparse）图时，显然邻接表节省了极大的空间。</code></pre><p><img title="" src="file:///C:/Users/XYZ/Desktop/邻接表示意图.jpg" alt="" width="640" data-align="center"></p><pre><code class="hljs">如上图所示，左侧index从1-7是顶点编号，在顶点struct里存储从该顶点引出的边。具体代码实现如下（in C）：</code></pre><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-comment">// Definition of an Edge in the graph</span><br><span class="hljs-keyword">typedef</span> <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Edge</span> &#123;</span><br>    <span class="hljs-type">int</span> to; <span class="hljs-comment">// Destination node of the edge</span><br>    <span class="hljs-type">int</span> weight; <span class="hljs-comment">// Weight of the edge</span><br>    <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Edge</span> *<span class="hljs-title">next</span>;</span> <span class="hljs-comment">// Pointer to the next edge in the list</span><br>&#125; Edge;<br><br><span class="hljs-comment">// Definition of a Vertex in the graph</span><br><span class="hljs-keyword">typedef</span> <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">vertex</span>&#123;</span><br>    <span class="hljs-type">int</span> number; <span class="hljs-comment">// Number of the current node</span><br>    Edge *next; <span class="hljs-comment">// Pointer to the list of edges connected to this node</span><br>&#125;Vertex;<br></code></pre></td></tr></table></figure><pre><code class="hljs">若用邻接表表示无向图则空间使用是**double**的（a到b和b到a各存一条边）。</code></pre><h2 id="9-2-拓扑排序"><a href="#9-2-拓扑排序" class="headerlink" title="9.2 拓扑排序"></a>9.2 拓扑排序</h2><pre><code class="hljs">拓扑排序是对有向无圈图的顶点的一种排序，它使得如果存在一条从 $v_i$ 到 $v_j$ 的路径，那么在排序中$ v_j $出现在 $v_i$ 后面。</code></pre><h2 id="9-3-最短路径算法"><a href="#9-3-最短路径算法" class="headerlink" title="9.3 最短路径算法"></a>9.3 最短路径算法</h2><h3 id="9-3-1"><a href="#9-3-1" class="headerlink" title="9.3.1"></a>9.3.1</h3>]]></content>
    
    
    <categories>
      
      <category>课程笔记</category>
      
      <category>2023-2024秋冬学期</category>
      
      <category>数据结构基础</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>Union/Find</title>
    <link href="/2023/11/10/Union-Find/"/>
    <url>/2023/11/10/Union-Find/</url>
    
    <content type="html"><![CDATA[<h3 id="7-1-File-Transfer"><a href="#7-1-File-Transfer" class="headerlink" title="7-1 File Transfer"></a>7-1 File Transfer</h3><p><strong>Score</strong>: 13<br><strong>Author</strong>: 陈越<br><strong>Affiliation</strong>: 浙江大学  </p><h4 id="Description"><a href="#Description" class="headerlink" title="Description"></a>Description</h4><p>We have a network of computers and a list of bi-directional connections. Each of these connections allows a file transfer from one computer to another. The question is: Is it possible to send a file from any computer on the network to any other?</p><h4 id="Input-Specification"><a href="#Input-Specification" class="headerlink" title="Input Specification"></a>Input Specification</h4><p>Each input file contains one test case. For each test case, the first line contains <code>N</code> (2 ≤ N ≤ 10^4), the total number of computers in a network. Each computer in the network is then represented by a positive integer between 1 and N. Then in the following lines, the input is given in the format:</p><ul><li><p><code>I c1 c2</code><br>where <code>I</code> stands for inputting a connection between <code>c1</code> and <code>c2</code>; or</p></li><li><p><code>C c1 c2</code><br>where <code>C</code> stands for checking if it is possible to transfer files between <code>c1</code> and <code>c2</code>; or</p></li><li><p><code>S</code><br>where <code>S</code> stands for stopping this case.</p></li></ul><h4 id="Output-Specification"><a href="#Output-Specification" class="headerlink" title="Output Specification"></a>Output Specification</h4><p>For each <code>C</code> case, print in one line the word <code>&quot;yes&quot;</code> or <code>&quot;no&quot;</code> if it is possible or impossible to transfer files between <code>c1</code> and <code>c2</code>, respectively. At the end of each case, print in one line <code>&quot;The network is connected.&quot;</code> if there is a path between any pair of computers; or <code>&quot;There are k components.&quot;</code> where <code>k</code> is the number of connected components in this network.</p><h4 id="Sample-Input-1"><a href="#Sample-Input-1" class="headerlink" title="Sample Input 1"></a>Sample Input 1</h4><p>5<br>C 3 2<br>I 3 2<br>C 1 5<br>I 4 5<br>I 2 4<br>C 3 5<br>S</p><h4 id="Sample-Output-1"><a href="#Sample-Output-1" class="headerlink" title="Sample Output 1"></a>Sample Output 1</h4><p>no<br>no<br>yes<br>There are 2 components.</p><h4 id="Sample-Input-2"><a href="#Sample-Input-2" class="headerlink" title="Sample Input 2"></a>Sample Input 2</h4><p>5<br>C 3 2<br>I 3 2<br>C 1 5<br>I 4 5<br>I 2 4<br>C 3 5<br>I 1 3<br>C 1 5<br>S</p><h4 id="Sample-Output-2"><a href="#Sample-Output-2" class="headerlink" title="Sample Output 2"></a>Sample Output 2</h4><p>no<br>no<br>yes<br>yes<br>The network is connected.</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdlib.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> MaxNodes 10005</span><br><span class="hljs-keyword">typedef</span> <span class="hljs-type">int</span> DisjSet; <span class="hljs-comment">// disjoint set的缩写</span><br><br>DisjSet S[MaxNodes]; <span class="hljs-comment">// 记录结点的root</span><br><br><span class="hljs-type">int</span> n; <span class="hljs-comment">// 结点总数</span><br><span class="hljs-type">char</span> Type;<br><br><span class="hljs-type">int</span> <span class="hljs-title function_">findRoot</span><span class="hljs-params">(<span class="hljs-type">int</span> vertice)</span>&#123; <span class="hljs-comment">// 寻找vertice的根节点、压缩路径并返回该根节点</span><br>    <span class="hljs-type">int</span> present = vertice;<br>    <span class="hljs-type">int</span> temp ,root;<br>    <span class="hljs-keyword">while</span>(S[present] &gt; <span class="hljs-number">0</span> &amp;&amp; S[present] != present)&#123;<br>        present = S[present];<br>    &#125;<br>    root = present;<br><br>    <span class="hljs-comment">// path compression</span><br>    <span class="hljs-keyword">while</span>(S[vertice] &gt; <span class="hljs-number">0</span> &amp;&amp; S[vertice] != vertice)&#123; <br>        temp = S[vertice];<br>        S[vertice] = root;<br>        vertice = temp;<br>    &#125;<br>    <span class="hljs-keyword">return</span> root;<br>&#125;<br><br><span class="hljs-type">void</span> <span class="hljs-title function_">Union</span><span class="hljs-params">(<span class="hljs-type">int</span> vertice1, <span class="hljs-type">int</span> vertice2)</span>&#123;<br>    <span class="hljs-type">int</span> root1 = findRoot(vertice1);<br>    <span class="hljs-type">int</span> root2 = findRoot(vertice2);<br>    <span class="hljs-keyword">if</span>(root1 != root2)&#123; <span class="hljs-comment">// union by size</span><br>        <span class="hljs-keyword">if</span>(S[root1] &lt;= S[root2])&#123;<br>            S[root1] += S[root2];<br>            S[root2] = root1;<br>        &#125;<br>        <span class="hljs-keyword">else</span>&#123;<br>            S[root2] += S[root1];<br>            S[root1] = root2;<br>        &#125;<br>    &#125;<br>&#125;<br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span>&#123;<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>,&amp;n);<br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>;i &lt;= n;i++) S[i] = <span class="hljs-number">-1</span>;<br>    <span class="hljs-keyword">while</span>((Type = getchar()) != <span class="hljs-string">&#x27;S&#x27;</span>)&#123;<br>        <span class="hljs-keyword">if</span>(Type == <span class="hljs-string">&#x27;I&#x27;</span>)&#123;<br>            <span class="hljs-type">int</span> index1, index2;<br>            <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d %d&quot;</span>,&amp;index1, &amp;index2);<br>            Union(index1, index2);<br>        &#125;<br><br>        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(Type == <span class="hljs-string">&#x27;C&#x27;</span>)&#123;<br>            <span class="hljs-type">int</span> index1, index2;<br>            <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d %d&quot;</span>,&amp;index1, &amp;index2);<br>            <span class="hljs-keyword">if</span>(findRoot(index1) == findRoot(index2)) <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;yes\n&quot;</span>);<br>            <span class="hljs-keyword">else</span> <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;no\n&quot;</span>);<br>        &#125;<br>    &#125;<br><br>    <span class="hljs-type">int</span> count = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>;i &lt;= n;i++)&#123;<br>        count += (S[i] &lt; <span class="hljs-number">0</span> ? <span class="hljs-number">1</span>:<span class="hljs-number">0</span>);<br>    &#125; <br><br>    <span class="hljs-keyword">if</span>(count == <span class="hljs-number">1</span>) <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;The network is connected.&quot;</span>);<br>    <span class="hljs-keyword">else</span> <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;There are %d components.\n&quot;</span>,count);<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>Algorithm</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>FDSProject3Report</title>
    <link href="/2023/11/08/FDSProject3Report/"/>
    <url>/2023/11/08/FDSProject3Report/</url>
    
    <content type="html"><![CDATA[<h3 id="FDS-Project3-Report"><a href="#FDS-Project3-Report" class="headerlink" title="FDS Project3 Report"></a>FDS Project3 Report</h3><h3 id="Chapter-1-Introduction"><a href="#Chapter-1-Introduction" class="headerlink" title="Chapter 1 Introduction"></a>Chapter 1 Introduction</h3><pre><code class="hljs">Railway transportation remains one of the most utilized methods for long-distance travel, offering a balance between speed, cost, and convenience. Efficient pathfinding algorithms are critical in optimizing railway networks, ensuring minimal travel time and enhancing passenger experience. The conventional approach to pathfinding in railway networks typically involves finding the shortest route from the origin to the destination. However, this approach does not account for various real-world scenarios such as network congestion, scheduled maintenance, or the traveler&#39;s preference for a non-shortest path due to reasons like sightseeing.</code></pre><p>In light of these considerations, there emerges a need for an algorithm capable of identifying not just the shortest path but also alternative routes that are the next best in terms of travel distance. Such an algorithm expands the operational flexibility of railway networks and accommodates a broader range of traveler preferences.</p><h3 id="Chapter2-Algorithm-Specification"><a href="#Chapter2-Algorithm-Specification" class="headerlink" title="Chapter2 Algorithm Specification"></a>Chapter2 Algorithm Specification</h3><h4 id="Overview"><a href="#Overview" class="headerlink" title="Overview"></a>Overview</h4><pre><code class="hljs">The core problem addressed in this report is the computation of the second-shortest path in a directed railway network graph. The approach taken can be segmented into two primary components: the Dijkstra algorithm&#39;s application to identify the shortest path and the identification of cycles to facilitate the discovery of the second-shortest path when the direct approach is insufficient.</code></pre><h4 id="Shortest-Path-Computation"><a href="#Shortest-Path-Computation" class="headerlink" title="Shortest Path Computation"></a>Shortest Path Computation</h4><pre><code class="hljs">The algorithm begins with a conventional Dijkstra&#39;s algorithm to calculate the shortest path from the start station to the destination. Each node&#39;s minimum distance from the start node is stored, along with its predecessor, to reconstruct the path upon completion of the algorithm.</code></pre><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">void</span> <span class="hljs-title function_">Dijkstra</span><span class="hljs-params">(Graph* <span class="hljs-built_in">map</span>)</span> &#123;<br>    <span class="hljs-comment">// Start with node 1 in the min heap (priority queue)</span><br>    MinHeap[Head] = <span class="hljs-number">1</span>;<br>    <span class="hljs-type">int</span> HeapSize = <span class="hljs-number">1</span>; <span class="hljs-comment">// Initialize heap size</span><br><br>    <span class="hljs-comment">// Loop to process all nodes in the graph</span><br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>; i &lt;= m; i++) &#123;<br>        <span class="hljs-comment">// Extract node with the smallest distance</span><br>        <span class="hljs-type">int</span> currentNode = MinHeap[Head];<br><br>        <span class="hljs-comment">// Access all edges connected to the current node</span><br>        Edge* currentEdge = <span class="hljs-built_in">map</span>-&gt;vertice[currentNode]-&gt;next;<br><br>        <span class="hljs-comment">// Mark the current node as visited</span><br>        isvisited[currentNode] = <span class="hljs-number">1</span>;<br><br>        <span class="hljs-comment">// Remove the top element from the heap</span><br>        <span class="hljs-keyword">if</span>(HeapSize == <span class="hljs-number">1</span>) &#123;<br>            HeapSize--;<br>        &#125; <span class="hljs-keyword">else</span> &#123;<br>            MinHeap[Head] = MinHeap[HeapSize--];<br>            percolateDown(Head, HeapSize); <span class="hljs-comment">// Restore heap property</span><br>        &#125;<br><br>        <span class="hljs-comment">// Traverse all edges of the current node</span><br>        <span class="hljs-keyword">while</span> (currentEdge != <span class="hljs-literal">NULL</span>) &#123;<br>            <span class="hljs-type">int</span> nextNode = currentEdge-&gt;to; <span class="hljs-comment">// Get the adjacent node</span><br><br>            <span class="hljs-comment">// Check if a shorter path is found</span><br>            <span class="hljs-keyword">if</span> (currentEdge-&gt;weight + <span class="hljs-built_in">map</span>-&gt;vertice[currentNode]-&gt;minnRoute &lt; <span class="hljs-built_in">map</span>-&gt;vertice[nextNode]-&gt;minnRoute) &#123;<br>                <span class="hljs-comment">// Update the distance and predecessor</span><br>                <span class="hljs-built_in">map</span>-&gt;vertice[nextNode]-&gt;minnRoute = currentEdge-&gt;weight + <span class="hljs-built_in">map</span>-&gt;vertice[currentNode]-&gt;minnRoute;<br>                <span class="hljs-built_in">map</span>-&gt;vertice[nextNode]-&gt;predecessor = currentNode;<br><br>                <span class="hljs-comment">// Add the node to the heap if it hasn&#x27;t been visited</span><br>                <span class="hljs-keyword">if</span> (!isvisited[nextNode]) &#123;<br>                    MinHeap[++HeapSize] = nextNode;<br>                    percolateUp(HeapSize); <span class="hljs-comment">// Maintain heap property</span><br>                    isvisited[nextNode] = <span class="hljs-number">1</span>;<br>                &#125;<br>            &#125;<br><br>            <span class="hljs-comment">// Move to the next edge in the adjacency list</span><br>            currentEdge = currentEdge-&gt;next;<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="Edge-Blocking-and-Re-evaluation"><a href="#Edge-Blocking-and-Re-evaluation" class="headerlink" title="Edge Blocking and Re-evaluation"></a>Edge Blocking and Re-evaluation</h4><pre><code class="hljs">Subsequently, the algorithm iteratively &quot;blocks&quot; sections of this shortest path by temporarily assigning an excessively high weight to the edges in the path and then re-applying the Dijkstra algorithm. This process is intended to reveal alternate routes that are longer than the shortest path but potentially the second-shortest. These paths are evaluated against the existing second-shortest path candidate, with the shortest among them being selected.</code></pre><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-comment">// Block each path in the shortest path and run Dijkstra&#x27;s algorithm again to find the next shortest path</span><br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>; i &lt;= inde - <span class="hljs-number">1</span>; i++) &#123; <span class="hljs-comment">// For a path with n nodes, there are n-1 edges</span><br>        <span class="hljs-comment">// Reset the visited status for all nodes</span><br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> j = <span class="hljs-number">1</span>; j &lt;= m; j++) isvisited[j] = <span class="hljs-number">0</span>;<br><br>        <span class="hljs-comment">// Get the edge in the stored shortest path. If track[] stored 6 3 2 1, and i=1, then currentEdge is the first edge from node 3</span><br>        Edge* currentEdge = graph-&gt;vertice[track[i+<span class="hljs-number">1</span>]]-&gt;next;<br>        <span class="hljs-comment">// Find the edge pointing to track[i]</span><br>        <span class="hljs-keyword">while</span>(currentEdge-&gt;to != track[i]) currentEdge = currentEdge-&gt;next;<br><br>        <span class="hljs-comment">// Store the original length of the edge</span><br>        <span class="hljs-type">int</span> temp = currentEdge-&gt;weight;<br>        <span class="hljs-comment">// Assign a very high value to the current edge, effectively blocking it from being used</span><br>        currentEdge-&gt;weight = Max_int - <span class="hljs-number">5000000</span>;<br><br>        <span class="hljs-comment">// Initialize the graph to run Dijkstra&#x27;s algorithm</span><br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> k = <span class="hljs-number">1</span>; k &lt;= m; k++) &#123;<br>            graph-&gt;vertice[k]-&gt;minnRoute = Max_int;<br>            graph-&gt;vertice[k]-&gt;predecessor = <span class="hljs-number">-1</span>;<br>        &#125;<br>        <span class="hljs-comment">// Set the starting node&#x27;s distance to 0 and predecessor to itself</span><br>        graph-&gt;vertice[<span class="hljs-number">1</span>]-&gt;minnRoute = <span class="hljs-number">0</span>;<br>        graph-&gt;vertice[<span class="hljs-number">1</span>]-&gt;predecessor = <span class="hljs-number">1</span>;<br><br>        <span class="hljs-comment">// Run Dijkstra&#x27;s algorithm with the current edge blocked</span><br>        Dijkstra(graph);<br><br>        <span class="hljs-comment">// Print the updated distances and predecessors after running Dijkstra</span><br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> j = <span class="hljs-number">1</span>; j &lt;= m; j++) <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d %d\n&quot;</span>, graph-&gt;vertice[j]-&gt;minnRoute, graph-&gt;vertice[j]-&gt;predecessor);<br><br>        <span class="hljs-comment">// Restore the original length of the current edge</span><br>        currentEdge-&gt;weight = temp;<br><br>        <span class="hljs-comment">// Update the length of the second shortest path</span><br>        <span class="hljs-comment">// Check if the new path is shorter than the second shortest but longer than the shortest path</span><br>        <span class="hljs-keyword">if</span>(graph-&gt;vertice[m]-&gt;minnRoute &lt; secondlen &amp;&amp; graph-&gt;vertice[m]-&gt;minnRoute &gt; minlen) &#123;<br>            <span class="hljs-comment">// If a new path is found, record the path</span><br>            <span class="hljs-keyword">if</span>(secondlen &gt; minlen) &#123;<br>                secondlen = graph-&gt;vertice[m]-&gt;minnRoute;<br>                <span class="hljs-comment">// Reset the path tracking index</span><br>                inde = <span class="hljs-number">1</span>;<br>                <span class="hljs-comment">// Start from the destination node</span><br>                track[<span class="hljs-number">1</span>] = m;<br>                <span class="hljs-comment">// Backtrack from the destination to the source by predecessors to record the path</span><br>                <span class="hljs-type">int</span> position = graph-&gt;vertice[m]-&gt;predecessor;<br>                <span class="hljs-keyword">while</span>(position != <span class="hljs-number">1</span>) &#123;<br>                    track[++inde] = position;<br>                    position = graph-&gt;vertice[position]-&gt;predecessor;<br>                &#125;<br>                <span class="hljs-comment">// Add the source node to the path</span><br>                track[++inde] = position;<br>            &#125;<br>        &#125;<br>    &#125;    <br></code></pre></td></tr></table></figure><h4 id="Cycle-Detection"><a href="#Cycle-Detection" class="headerlink" title="Cycle Detection"></a>Cycle Detection</h4><pre><code class="hljs">The algorithm also incorporates a depth-first search (DFS) to identify the smallest cycle originating from each node. The cycle&#39;s length is compared to the second-shortest path candidate, and the shorter of the two is chosen as the solution.</code></pre><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">void</span> <span class="hljs-title function_">DFS</span><span class="hljs-params">(<span class="hljs-type">int</span> currentNode, <span class="hljs-type">int</span> startNode, <span class="hljs-type">int</span> totalWeight, Graph* <span class="hljs-built_in">map</span>, <span class="hljs-type">int</span>* visited)</span> &#123;<br>    visited[currentNode] = <span class="hljs-number">1</span>; <span class="hljs-comment">// Mark the current node as visited</span><br>    Push(currentNode);        <span class="hljs-comment">// Push the current node onto the stack to keep track of the path</span><br><br>    <span class="hljs-comment">// Iterate through all edges of the current node</span><br>    Edge* edge = <span class="hljs-built_in">map</span>-&gt;vertice[currentNode]-&gt;next;<br>    <span class="hljs-keyword">while</span> (edge != <span class="hljs-literal">NULL</span>) &#123;<br>        <span class="hljs-comment">// Check if we have returned to the start node, forming a cycle</span><br>        <span class="hljs-keyword">if</span> (edge-&gt;to == startNode &amp;&amp; totalWeight + edge-&gt;weight &lt; minCycle[startNode]) &#123;<br>            <span class="hljs-comment">// If a smaller cycle is found, update the smallest cycle for the start node</span><br>            minCycle[startNode] = totalWeight + edge-&gt;weight;<br>            PrintCycle(startNode, <span class="hljs-built_in">map</span>); <span class="hljs-comment">// Print the path of the cycle</span><br>        &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (!visited[edge-&gt;to]) &#123;<br>            <span class="hljs-comment">// Continue DFS if the next node has not been visited</span><br>            DFS(edge-&gt;to, startNode, totalWeight + edge-&gt;weight, <span class="hljs-built_in">map</span>, visited);<br>        &#125;<br>        <span class="hljs-comment">// Move to the next edge</span><br>        edge = edge-&gt;next;<br>    &#125;<br><br>    <span class="hljs-comment">// Backtrack: pop the current node from the stack</span><br>    Pop();<br>    <span class="hljs-comment">// Unmark the current node as visited to allow revisiting in different paths</span><br>    visited[currentNode] = <span class="hljs-number">0</span>;<br>&#125;<br><br><span class="hljs-type">void</span> <span class="hljs-title function_">FindCycles</span><span class="hljs-params">(Graph* <span class="hljs-built_in">map</span>)</span> &#123;<br>    <span class="hljs-comment">// Initialize the array that will store the length of the smallest cycle for each node</span><br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>; i &lt;= <span class="hljs-built_in">map</span>-&gt;numNodes; i++) &#123;<br>        minCycle[i] = Max_int; <span class="hljs-comment">// Set the initial length to the maximum integer value, effectively infinity</span><br>    &#125;<br><br>    <span class="hljs-comment">// Create and initialize an array to keep track of visited nodes during DFS</span><br>    <span class="hljs-type">int</span> visited[MAX_NODES] = &#123;<span class="hljs-number">0</span>&#125;; <span class="hljs-comment">// 0 indicates that a node has not been visited</span><br><br>    <span class="hljs-comment">// Iterate over all nodes to find cycles starting from each node</span><br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>; i &lt;= <span class="hljs-built_in">map</span>-&gt;numNodes; i++) &#123;<br>        <span class="hljs-comment">// Perform Depth-First Search (DFS) starting from the current node to find cycles</span><br>        DFS(i, i, <span class="hljs-number">0</span>, <span class="hljs-built_in">map</span>, visited); <span class="hljs-comment">// Start DFS with the current node as the start node, total weight as 0</span><br><br>        <span class="hljs-comment">// After DFS, check if a cycle was found for the current node</span><br>        <span class="hljs-keyword">if</span> (minCycle[i] == Max_int) &#123;<br>            <span class="hljs-comment">// If the smallest cycle length is still set to Max_int, no cycle was found</span><br>            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;No cycle found for vertex %d\n&quot;</span>, i);<br>        &#125; <span class="hljs-keyword">else</span> &#123;<br>            <span class="hljs-comment">// If a cycle was found, print the length of the smallest cycle for the current node</span><br>            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Minimum cycle length for vertex %d is %d\n&quot;</span>, i, minCycle[i]);<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="Data-Structures"><a href="#Data-Structures" class="headerlink" title="Data Structures"></a>Data Structures</h4><p>The implementation uses adjacency lists to represent the graph, with vertices and edges encapsulated in structs. A priority queue, realized through a min-heap, is employed for efficient retrieval of the node with the smallest tentative distance during the Dijkstra algorithm’s execution. Additionally, arrays are used to track the shortest path, the existence of cycles, and other intermediate states within the algorithm.</p><pre><code class="hljs">Data structures defined are as follow</code></pre><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">int</span> m, n; <span class="hljs-comment">// Number of nodes (m) and edges (n)</span><br><span class="hljs-type">int</span> from, to, weight; <span class="hljs-comment">// Variables to read edge data (from node, to node, weight of edge)</span><br><span class="hljs-type">int</span> minlen = Max_int; <span class="hljs-comment">// Length of the shortest path found in the first round of Dijkstra&#x27;s algorithm</span><br><span class="hljs-type">int</span> secondlen = Max_int; <span class="hljs-comment">// Length of the second shortest path</span><br><span class="hljs-type">int</span> minCycle[MAX_NODES]; <span class="hljs-comment">// Stores the length of the shortest cycle for each node</span><br><br><span class="hljs-type">int</span> <span class="hljs-built_in">stack</span>[MAX_NODES]; <span class="hljs-comment">// Array to simulate a stack for storing paths</span><br><span class="hljs-type">int</span> top = <span class="hljs-number">-1</span>; <span class="hljs-comment">// Stack pointer indicating the top of the stack</span><br><span class="hljs-type">int</span> loops[MAX_NODES][MAX_NODES]; <span class="hljs-comment">// Stores cycles in the original graph</span><br><span class="hljs-type">int</span> MinTrack[MAX_NODES]; <span class="hljs-comment">// Stores the shortest path from node 1 to each node (in the original graph)</span><br><br><span class="hljs-type">int</span> track[<span class="hljs-number">1001</span>]; <span class="hljs-comment">// Stores the nodes visited in the shortest path</span><br><span class="hljs-type">int</span> inde = <span class="hljs-number">1</span>; <span class="hljs-comment">// Index for tracking the elements in the array track[]</span><br><br><span class="hljs-type">int</span> Fixedtrack[MAX_NODES]; <span class="hljs-comment">// Stores the shortest path of the original graph</span><br><span class="hljs-type">int</span> Fixedlen; <span class="hljs-comment">// Length of the path stored in Fixedtrack[]</span><br><br><span class="hljs-comment">// Definition of an Edge in the graph</span><br><span class="hljs-keyword">typedef</span> <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Edge</span> &#123;</span><br>    <span class="hljs-type">int</span> to; <span class="hljs-comment">// Destination node of the edge</span><br>    <span class="hljs-type">int</span> weight; <span class="hljs-comment">// Weight of the edge</span><br>    <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Edge</span> *<span class="hljs-title">next</span>;</span> <span class="hljs-comment">// Pointer to the next edge in the list</span><br>&#125; Edge;<br><br><span class="hljs-comment">// Definition of a Vertex in the graph</span><br><span class="hljs-keyword">typedef</span> <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">vertex</span>&#123;</span><br>    <span class="hljs-type">int</span> predecessor; <span class="hljs-comment">// Predecessor node in the shortest path</span><br>    <span class="hljs-type">int</span> number; <span class="hljs-comment">// Number of the current node</span><br>    <span class="hljs-type">int</span> minnRoute; <span class="hljs-comment">// Length of the shortest path from node 1 to the current node</span><br>    <span class="hljs-type">int</span> loop[<span class="hljs-number">1001</span>]; <span class="hljs-comment">// Array to store a cycle if found starting from this node</span><br>    Edge *next; <span class="hljs-comment">// Pointer to the list of edges connected to this node</span><br>&#125;Vertex;<br><br><span class="hljs-comment">// Definition of a Graph</span><br><span class="hljs-keyword">typedef</span> <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Graph</span> &#123;</span><br>    <span class="hljs-type">int</span> numNodes; <span class="hljs-comment">// Number of nodes in the graph</span><br>    Vertex *vertice[MAX_NODES]; <span class="hljs-comment">// Array of pointers to vertices, representing the adjacency list</span><br>&#125; Graph;<br><br><span class="hljs-type">int</span> MinHeap[MAX_NODES]; <span class="hljs-comment">// Min-heap to store node numbers for Dijkstra&#x27;s algorithm</span><br><span class="hljs-type">int</span> isvisited[MAX_NODES]; <span class="hljs-comment">// Array to track visited nodes during the search</span><br>Graph* graph; <span class="hljs-comment">// Pointer to the graph</span><br></code></pre></td></tr></table></figure><h4 id="Complexity-Analysis"><a href="#Complexity-Analysis" class="headerlink" title="Complexity Analysis"></a>Complexity Analysis</h4><pre><code class="hljs">The time complexity of Dijkstra&#39;s algorithm is **O((M+N)logM)**, where M is the number of nodes and N is the number of edges. The edge blocking and re-evaluation process add an additional factor, as the Dijkstra algorithm is applied iteratively. Cycle detection through DFS contributes **O(N+M)** per node for a complete traversal. The overall complexity is dominated by the repeated application of Dijkstra&#39;s algorithm.</code></pre><h4 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h4><pre><code class="hljs">The specified algorithm is designed to balance computational efficiency with the need to address the non-trivial problem of second-shortest path discovery in graphs that may contain numerous cycles and varying edge lengths. The following chapters will delve into the implementation details, providing code snippets and explanations of key functions within the algorithm.</code></pre><h3 id="Chapter-3-Testing-results"><a href="#Chapter-3-Testing-results" class="headerlink" title="Chapter 3 Testing results"></a>Chapter 3 Testing results</h3><h3 id="Chapter-4-Analysis-and-Comments"><a href="#Chapter-4-Analysis-and-Comments" class="headerlink" title="Chapter 4 Analysis and Comments"></a>Chapter 4 Analysis and Comments</h3><pre><code class="hljs">In the analysis above, weve reached the conclusion that the time complexity of Dijkstra algorithm is **O((M+N)logM)** and FindCycle has the time complexity of  **O(N+M)**, it&#39;s highly acceptable because of the application of priority queue(min heap in the code) to optimize the Dijkstra process.</code></pre><h4 id="Potential-Improvement"><a href="#Potential-Improvement" class="headerlink" title="Potential Improvement"></a>Potential Improvement</h4><h3 id="Appendix-Source-Code"><a href="#Appendix-Source-Code" class="headerlink" title="Appendix : Source Code"></a>Appendix : Source Code</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;string.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;stdlib.h&gt;</span></span><br><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> MAX_NODES 1005</span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> Max_int 2147483647</span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> Head 1</span><br><br><span class="hljs-type">int</span> m, n; <span class="hljs-comment">// Number of nodes (m) and edges (n)</span><br><span class="hljs-type">int</span> from, to, weight; <span class="hljs-comment">// Variables to read edge data (from node, to node, weight of edge)</span><br><span class="hljs-type">int</span> minlen = Max_int; <span class="hljs-comment">// Length of the shortest path found in the first round of Dijkstra&#x27;s algorithm</span><br><span class="hljs-type">int</span> secondlen = Max_int; <span class="hljs-comment">// Length of the second shortest path</span><br><span class="hljs-type">int</span> minCycle[MAX_NODES]; <span class="hljs-comment">// Stores the length of the shortest cycle for each node</span><br><br><span class="hljs-type">int</span> <span class="hljs-built_in">stack</span>[MAX_NODES]; <span class="hljs-comment">// Array to simulate a stack for storing paths</span><br><span class="hljs-type">int</span> top = <span class="hljs-number">-1</span>; <span class="hljs-comment">// Stack pointer indicating the top of the stack</span><br><span class="hljs-type">int</span> loops[MAX_NODES][MAX_NODES]; <span class="hljs-comment">// Stores cycles in the original graph</span><br><span class="hljs-type">int</span> MinTrack[MAX_NODES]; <span class="hljs-comment">// Stores the shortest path from node 1 to each node (in the original graph)</span><br><br><span class="hljs-type">int</span> track[<span class="hljs-number">1001</span>]; <span class="hljs-comment">// Stores the nodes visited in the shortest path</span><br><span class="hljs-type">int</span> inde = <span class="hljs-number">1</span>; <span class="hljs-comment">// Index for tracking the elements in the array track[]</span><br><br><span class="hljs-type">int</span> Fixedtrack[MAX_NODES]; <span class="hljs-comment">// Stores the shortest path of the original graph</span><br><span class="hljs-type">int</span> Fixedlen; <span class="hljs-comment">// Length of the path stored in Fixedtrack[]</span><br><br><span class="hljs-comment">// Definition of an Edge in the graph</span><br><span class="hljs-keyword">typedef</span> <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Edge</span> &#123;</span><br>    <span class="hljs-type">int</span> to; <span class="hljs-comment">// Destination node of the edge</span><br>    <span class="hljs-type">int</span> weight; <span class="hljs-comment">// Weight of the edge</span><br>    <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Edge</span> *<span class="hljs-title">next</span>;</span> <span class="hljs-comment">// Pointer to the next edge in the list</span><br>&#125; Edge;<br><br><span class="hljs-comment">// Definition of a Vertex in the graph</span><br><span class="hljs-keyword">typedef</span> <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">vertex</span>&#123;</span><br>    <span class="hljs-type">int</span> predecessor; <span class="hljs-comment">// Predecessor node in the shortest path</span><br>    <span class="hljs-type">int</span> number; <span class="hljs-comment">// Number of the current node</span><br>    <span class="hljs-type">int</span> minnRoute; <span class="hljs-comment">// Length of the shortest path from node 1 to the current node</span><br>    <span class="hljs-type">int</span> loop[<span class="hljs-number">1001</span>]; <span class="hljs-comment">// Array to store a cycle if found starting from this node</span><br>    Edge *next; <span class="hljs-comment">// Pointer to the list of edges connected to this node</span><br>&#125;Vertex;<br><br><span class="hljs-comment">// Definition of a Graph</span><br><span class="hljs-keyword">typedef</span> <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Graph</span> &#123;</span><br>    <span class="hljs-type">int</span> numNodes; <span class="hljs-comment">// Number of nodes in the graph</span><br>    Vertex *vertice[MAX_NODES]; <span class="hljs-comment">// Array of pointers to vertices, representing the adjacency list</span><br>&#125; Graph;<br><br><span class="hljs-type">int</span> MinHeap[MAX_NODES]; <span class="hljs-comment">// Min-heap to store node numbers for Dijkstra&#x27;s algorithm</span><br><span class="hljs-type">int</span> isvisited[MAX_NODES]; <span class="hljs-comment">// Array to track visited nodes during the search</span><br>Graph* graph; <span class="hljs-comment">// Pointer to the graph</span><br><br><span class="hljs-comment">// The percolateUp function is used to restore the heap property by moving a node up in the heap.</span><br><span class="hljs-comment">// This is necessary when the value of a node becomes smaller than its parent&#x27;s value, </span><br><span class="hljs-comment">// which can happen after a decrease-key operation in a min-heap.</span><br><span class="hljs-type">void</span> <span class="hljs-title function_">percolateUp</span><span class="hljs-params">(<span class="hljs-type">int</span> position)</span> &#123;<br>    <span class="hljs-comment">// Keep adjusting the heap upwards from the given position.</span><br>    <span class="hljs-keyword">while</span> (position &gt; <span class="hljs-number">1</span> &amp;&amp; graph-&gt;vertice[MinHeap[position]]-&gt;minnRoute &lt; graph-&gt;vertice[MinHeap[position/<span class="hljs-number">2</span>]]-&gt;minnRoute) &#123;<br>        <span class="hljs-comment">// If the node&#x27;s minnRoute (shortest path distance) is less than its parent&#x27;s,</span><br>        <span class="hljs-comment">// they are swapped to maintain the min-heap property.</span><br>        <span class="hljs-type">int</span> temp = MinHeap[position];<br>        MinHeap[position] = MinHeap[position / <span class="hljs-number">2</span>];<br>        MinHeap[position / <span class="hljs-number">2</span>] = temp;<br><br>        <span class="hljs-comment">// Move up to the parent&#x27;s position to continue the percolation as necessary.</span><br>        position /= <span class="hljs-number">2</span>;<br>    &#125;<br>&#125;<br><br><span class="hljs-comment">// The percolateDown function is used to restore the heap property by moving a node down in the heap.</span><br><span class="hljs-comment">// This is necessary when the value of a node is greater than one of its children&#x27;s values, </span><br><span class="hljs-comment">// which can happen after an extract-min or delete operation in a min-heap.</span><br><span class="hljs-type">void</span> <span class="hljs-title function_">percolateDown</span><span class="hljs-params">(<span class="hljs-type">int</span> position, <span class="hljs-type">int</span> hSize)</span> &#123;<br>    <span class="hljs-comment">// Begin percolation down from the given position.</span><br>    <span class="hljs-keyword">while</span> (position * <span class="hljs-number">2</span> &lt;= hSize) &#123;  <span class="hljs-comment">// Check if the current node has at least one child.</span><br>        <span class="hljs-type">int</span> child = position * <span class="hljs-number">2</span>;  <span class="hljs-comment">// Position of the left child.</span><br>        <span class="hljs-comment">// Determine the smaller of the two children (if there are two) to maintain the min-heap property.</span><br>        <span class="hljs-keyword">if</span> (child &lt; hSize &amp;&amp; graph-&gt;vertice[MinHeap[child]]-&gt;minnRoute &gt; graph-&gt;vertice[MinHeap[child + <span class="hljs-number">1</span>]]-&gt;minnRoute) &#123;<br>            child++;  <span class="hljs-comment">// If the right child is smaller, choose the right child&#x27;s position.</span><br>        &#125;<br>        <span class="hljs-comment">// If the parent&#x27;s minnRoute is less than or equal to the smaller child&#x27;s, the heap is correct and we stop.</span><br>        <span class="hljs-keyword">if</span> (graph-&gt;vertice[MinHeap[position]]-&gt;minnRoute &lt;= graph-&gt;vertice[MinHeap[child]]-&gt;minnRoute) &#123;<br>            <span class="hljs-keyword">break</span>;<br>        &#125;<br>        <span class="hljs-comment">// Swap the parent with the smaller child.</span><br>        <span class="hljs-type">int</span> temp = MinHeap[position];<br>        MinHeap[position] = MinHeap[child];<br>        MinHeap[child] = temp;<br><br>        <span class="hljs-comment">// Move down to the child&#x27;s position to continue the percolation as necessary.</span><br>        position = child;<br>    &#125;<br>&#125;<br><br><span class="hljs-type">void</span> <span class="hljs-title function_">Initialize</span><span class="hljs-params">(Graph* <span class="hljs-built_in">map</span>)</span>&#123;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>;i &lt;= m;i++)&#123;<br>        Vertex* newVertice;<br>        newVertice = (Vertex*)<span class="hljs-built_in">malloc</span>(<span class="hljs-keyword">sizeof</span>(<span class="hljs-keyword">struct</span> vertex));<br>        <span class="hljs-built_in">map</span>-&gt;vertice[i] = newVertice;<br>        <span class="hljs-built_in">map</span>-&gt;vertice[i]-&gt;minnRoute = Max_int; <span class="hljs-comment">// initialize it as the max int</span><br>        newVertice-&gt;number = i;<br>        newVertice-&gt;next = <span class="hljs-literal">NULL</span>;<br>        newVertice-&gt;predecessor = <span class="hljs-number">-1</span>; <span class="hljs-comment">// no predecessor for every vertex before reading edges</span><br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>;i &lt;= <span class="hljs-number">1000</span>;i++) newVertice-&gt;loop[i] = <span class="hljs-number">-1</span>;<br>    &#125;<br>    <span class="hljs-built_in">map</span>-&gt;vertice[<span class="hljs-number">1</span>]-&gt;minnRoute = <span class="hljs-number">0</span>;<br>    <span class="hljs-built_in">map</span>-&gt;vertice[<span class="hljs-number">1</span>]-&gt;predecessor = <span class="hljs-number">1</span>;<br>&#125;<br><br><span class="hljs-type">void</span> <span class="hljs-title function_">BuildMap</span><span class="hljs-params">(Graph* <span class="hljs-built_in">map</span>, <span class="hljs-type">int</span> begin, <span class="hljs-type">int</span> end, <span class="hljs-type">int</span> len)</span>&#123;<br>    Edge* newEdge;<br>    newEdge = (Edge*)<span class="hljs-built_in">malloc</span>(<span class="hljs-keyword">sizeof</span>(<span class="hljs-keyword">struct</span> Edge));<br>    newEdge-&gt;to = end;<br>    newEdge-&gt;weight = len;<br>    newEdge-&gt;next = <span class="hljs-literal">NULL</span>;<br><br>    <span class="hljs-comment">// store the new edge into the graph</span><br>    <span class="hljs-keyword">if</span>(<span class="hljs-built_in">map</span>-&gt;vertice[begin]-&gt;next == <span class="hljs-literal">NULL</span>) <span class="hljs-built_in">map</span>-&gt;vertice[begin]-&gt;next = newEdge;<br>    <span class="hljs-keyword">else</span> &#123;<br>        Edge* track = <span class="hljs-built_in">map</span>-&gt;vertice[begin]-&gt;next;<br>        <span class="hljs-keyword">while</span>(track-&gt;next != <span class="hljs-literal">NULL</span>) track = track-&gt;next;<br>        track-&gt;next = newEdge;<br>    &#125;<br>&#125;<br><br><span class="hljs-type">int</span> <span class="hljs-title function_">Max</span><span class="hljs-params">(<span class="hljs-type">int</span> a, <span class="hljs-type">int</span> b)</span>&#123;<br>    <span class="hljs-keyword">return</span> a &gt; b ? a : b;<br>&#125;<br><br><span class="hljs-comment">// Implementation of Dijkstra&#x27;s algorithm to find the shortest path in a graph</span><br><span class="hljs-type">void</span> <span class="hljs-title function_">Dijkstra</span><span class="hljs-params">(Graph* <span class="hljs-built_in">map</span>)</span> &#123;<br>    <span class="hljs-comment">// Start with node 1 in the min heap (priority queue)</span><br>    MinHeap[Head] = <span class="hljs-number">1</span>;<br>    <span class="hljs-type">int</span> HeapSize = <span class="hljs-number">1</span>; <span class="hljs-comment">// Initialize heap size</span><br><br>    <span class="hljs-comment">// Loop to process all nodes in the graph</span><br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>; i &lt;= m; i++) &#123;<br>        <span class="hljs-comment">// Extract node with the smallest distance</span><br>        <span class="hljs-type">int</span> currentNode = MinHeap[Head];<br><br>        <span class="hljs-comment">// Access all edges connected to the current node</span><br>        Edge* currentEdge = <span class="hljs-built_in">map</span>-&gt;vertice[currentNode]-&gt;next;<br><br>        <span class="hljs-comment">// Mark the current node as visited</span><br>        isvisited[currentNode] = <span class="hljs-number">1</span>;<br><br>        <span class="hljs-comment">// Remove the top element from the heap</span><br>        <span class="hljs-keyword">if</span>(HeapSize == <span class="hljs-number">1</span>) &#123;<br>            HeapSize--;<br>        &#125; <span class="hljs-keyword">else</span> &#123;<br>            MinHeap[Head] = MinHeap[HeapSize--];<br>            percolateDown(Head, HeapSize); <span class="hljs-comment">// Restore heap property</span><br>        &#125;<br><br>        <span class="hljs-comment">// Traverse all edges of the current node</span><br>        <span class="hljs-keyword">while</span> (currentEdge != <span class="hljs-literal">NULL</span>) &#123;<br>            <span class="hljs-type">int</span> nextNode = currentEdge-&gt;to; <span class="hljs-comment">// Get the adjacent node</span><br><br>            <span class="hljs-comment">// Check if a shorter path is found</span><br>            <span class="hljs-keyword">if</span> (currentEdge-&gt;weight + <span class="hljs-built_in">map</span>-&gt;vertice[currentNode]-&gt;minnRoute &lt; <span class="hljs-built_in">map</span>-&gt;vertice[nextNode]-&gt;minnRoute) &#123;<br>                <span class="hljs-comment">// Update the distance and predecessor</span><br>                <span class="hljs-built_in">map</span>-&gt;vertice[nextNode]-&gt;minnRoute = currentEdge-&gt;weight + <span class="hljs-built_in">map</span>-&gt;vertice[currentNode]-&gt;minnRoute;<br>                <span class="hljs-built_in">map</span>-&gt;vertice[nextNode]-&gt;predecessor = currentNode;<br><br>                <span class="hljs-comment">// Add the node to the heap if it hasn&#x27;t been visited</span><br>                <span class="hljs-keyword">if</span> (!isvisited[nextNode]) &#123;<br>                    MinHeap[++HeapSize] = nextNode;<br>                    percolateUp(HeapSize); <span class="hljs-comment">// Maintain heap property</span><br>                    isvisited[nextNode] = <span class="hljs-number">1</span>;<br>                &#125;<br>            &#125;<br><br>            <span class="hljs-comment">// Move to the next edge in the adjacency list</span><br>            currentEdge = currentEdge-&gt;next;<br>        &#125;<br>    &#125;<br>&#125;<br><br><br><span class="hljs-type">void</span> <span class="hljs-title function_">Push</span><span class="hljs-params">(<span class="hljs-type">int</span> v)</span> &#123;<br>    <span class="hljs-built_in">stack</span>[++top] = v; <br>&#125;<br><br><span class="hljs-type">void</span> <span class="hljs-title function_">Pop</span><span class="hljs-params">()</span> &#123;<br>    top--; <br>&#125;<br><br><span class="hljs-type">void</span> <span class="hljs-title function_">PrintCycle</span><span class="hljs-params">(<span class="hljs-type">int</span> currentNode, Graph* <span class="hljs-built_in">map</span>)</span> &#123;<br>    <span class="hljs-comment">// 当找到一个环时，打印出环的路径</span><br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt;= top; i++) &#123;<br>        <span class="hljs-built_in">map</span>-&gt;vertice[currentNode]-&gt;loop[i] = <span class="hljs-built_in">stack</span>[i];<br>    &#125;<br>    <span class="hljs-built_in">map</span>-&gt;vertice[currentNode]-&gt;loop[top+<span class="hljs-number">1</span>] = <span class="hljs-number">-1</span>;<br>&#125;<br><br><span class="hljs-type">void</span> <span class="hljs-title function_">DFS</span><span class="hljs-params">(<span class="hljs-type">int</span> currentNode, <span class="hljs-type">int</span> startNode, <span class="hljs-type">int</span> totalWeight, Graph* <span class="hljs-built_in">map</span>, <span class="hljs-type">int</span>* visited)</span> &#123;<br>    visited[currentNode] = <span class="hljs-number">1</span>; <span class="hljs-comment">// Mark the current node as visited</span><br>    Push(currentNode);        <span class="hljs-comment">// Push the current node onto the stack to keep track of the path</span><br><br>    <span class="hljs-comment">// Iterate through all edges of the current node</span><br>    Edge* edge = <span class="hljs-built_in">map</span>-&gt;vertice[currentNode]-&gt;next;<br>    <span class="hljs-keyword">while</span> (edge != <span class="hljs-literal">NULL</span>) &#123;<br>        <span class="hljs-comment">// Check if we have returned to the start node, forming a cycle</span><br>        <span class="hljs-keyword">if</span> (edge-&gt;to == startNode &amp;&amp; totalWeight + edge-&gt;weight &lt; minCycle[startNode]) &#123;<br>            <span class="hljs-comment">// If a smaller cycle is found, update the smallest cycle for the start node</span><br>            minCycle[startNode] = totalWeight + edge-&gt;weight;<br>            PrintCycle(startNode, <span class="hljs-built_in">map</span>); <span class="hljs-comment">// Print the path of the cycle</span><br>        &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (!visited[edge-&gt;to]) &#123;<br>            <span class="hljs-comment">// Continue DFS if the next node has not been visited</span><br>            DFS(edge-&gt;to, startNode, totalWeight + edge-&gt;weight, <span class="hljs-built_in">map</span>, visited);<br>        &#125;<br>        <span class="hljs-comment">// Move to the next edge</span><br>        edge = edge-&gt;next;<br>    &#125;<br><br>    <span class="hljs-comment">// Backtrack: pop the current node from the stack</span><br>    Pop();<br>    <span class="hljs-comment">// Unmark the current node as visited to allow revisiting in different paths</span><br>    visited[currentNode] = <span class="hljs-number">0</span>;<br>&#125;<br><br><span class="hljs-type">void</span> <span class="hljs-title function_">FindCycles</span><span class="hljs-params">(Graph* <span class="hljs-built_in">map</span>)</span> &#123;<br>    <span class="hljs-comment">// Initialize the array that will store the length of the smallest cycle for each node</span><br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>; i &lt;= <span class="hljs-built_in">map</span>-&gt;numNodes; i++) &#123;<br>        minCycle[i] = Max_int; <span class="hljs-comment">// Set the initial length to the maximum integer value, effectively infinity</span><br>    &#125;<br><br>    <span class="hljs-comment">// Create and initialize an array to keep track of visited nodes during DFS</span><br>    <span class="hljs-type">int</span> visited[MAX_NODES] = &#123;<span class="hljs-number">0</span>&#125;; <span class="hljs-comment">// 0 indicates that a node has not been visited</span><br><br>    <span class="hljs-comment">// Iterate over all nodes to find cycles starting from each node</span><br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>; i &lt;= <span class="hljs-built_in">map</span>-&gt;numNodes; i++) &#123;<br>        <span class="hljs-comment">// Perform Depth-First Search (DFS) starting from the current node to find cycles</span><br>        DFS(i, i, <span class="hljs-number">0</span>, <span class="hljs-built_in">map</span>, visited); <span class="hljs-comment">// Start DFS with the current node as the start node, total weight as 0</span><br>    &#125;<br>&#125;<br><br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span>&#123;<br>    graph = (Graph*)<span class="hljs-built_in">malloc</span>(<span class="hljs-keyword">sizeof</span>(<span class="hljs-keyword">struct</span> Graph)); <span class="hljs-comment">// Allocate memory for a graph structure and assign it to the graph pointer</span><br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d %d&quot;</span>,&amp;m, &amp;n); <span class="hljs-comment">// Input the number of nodes (m) and edges (n)</span><br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>; i &lt;= m; i++) isvisited[i] = <span class="hljs-number">0</span>; <span class="hljs-comment">// Initialize the visited array with zeros indicating that no nodes have been visited yet</span><br>    graph-&gt;numNodes = m; <span class="hljs-comment">// Set the number of nodes in the graph</span><br>    Initialize(graph); <span class="hljs-comment">// Initialize the graph with nodes</span><br><br>    <span class="hljs-comment">// Read the edge data and store it in the graph</span><br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i++) &#123;<br>        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d %d %d&quot;</span>, &amp;from, &amp;to, &amp;weight); <span class="hljs-comment">// Input the edge data: start node, end node, and weight</span><br>        BuildMap(graph, from, to, weight); <span class="hljs-comment">// Add the edge to the graph</span><br>    &#125;<br><br>    <span class="hljs-comment">// Apply Dijkstra&#x27;s algorithm to find the shortest path in the initial graph</span><br>    Dijkstra(graph);<br>    minlen = graph-&gt;vertice[m]-&gt;minnRoute; <span class="hljs-comment">// Store the shortest path length in minlen</span><br><br>    <span class="hljs-comment">/* Debugging code: Check the shortest path length and predecessor of each node</span><br><span class="hljs-comment">    for(int i = 1; i &lt;= m; i++) &#123;</span><br><span class="hljs-comment">        MinTrack[i] = graph-&gt;vertice[i]-&gt;minnRoute;</span><br><span class="hljs-comment">        printf(&quot;%d %d\n&quot;, graph-&gt;vertice[i]-&gt;minnRoute, graph-&gt;vertice[i]-&gt;predecessor);</span><br><span class="hljs-comment">    &#125;</span><br><span class="hljs-comment">    */</span><br><br>    <span class="hljs-comment">// Find the nodes along the shortest path</span><br>    track[<span class="hljs-number">1</span>] = m; <span class="hljs-comment">// Start from the destination node</span><br>    <span class="hljs-type">int</span> position = graph-&gt;vertice[m]-&gt;predecessor; <span class="hljs-comment">// Initialize position with the predecessor of the destination node</span><br><br>    <span class="hljs-comment">// Backtrack from the destination node to the start node, storing the path in reverse order</span><br>    <span class="hljs-keyword">while</span>(position != <span class="hljs-number">1</span>) &#123;<br>        track[++inde] = position; <span class="hljs-comment">// Store the node in the path</span><br>        position = graph-&gt;vertice[position]-&gt;predecessor; <span class="hljs-comment">// Move to the predecessor node</span><br>    &#125;<br>    track[++inde] = <span class="hljs-number">1</span>; <span class="hljs-comment">// Store the start node in the path</span><br>    <span class="hljs-comment">// The path in track[] is now stored in reverse order, e.g., for a path 1 2 3 6, track[] contains 6 3 2 1</span><br><br>    Fixedlen = inde; <span class="hljs-comment">// Store the length of the path</span><br>    <span class="hljs-comment">// Store the shortest path in Fixedtrack[] in reverse order</span><br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = inde; i &gt;= <span class="hljs-number">1</span>; i--) Fixedtrack[i] = track[i];<br><br>    <span class="hljs-comment">// Find cycles in the initial graph</span><br>    FindCycles(graph);<br><br>    <span class="hljs-comment">// Store the cycle information in the loops 2D array</span><br><br>    <span class="hljs-comment">/*for(int i = 1; i &lt;= m; i++) &#123;</span><br><span class="hljs-comment">        for(int j = 0; graph-&gt;vertice[i]-&gt;loop[j] != -1; j++) &#123;</span><br><span class="hljs-comment">            printf(&quot;%d &quot;, graph-&gt;vertice[i]-&gt;loop[j]); // Print the cycle</span><br><span class="hljs-comment">            loops[i][j] = graph-&gt;vertice[i]-&gt;loop[j]; // Store the cycle in loops array</span><br><span class="hljs-comment">            loops[i][j+1] = -1; // Mark the end of the cycle</span><br><span class="hljs-comment">        &#125;</span><br><span class="hljs-comment">        printf(&quot;\n&quot;); // Print a new line after each cycle</span><br><span class="hljs-comment">    &#125;*/</span><br><br><br>    <span class="hljs-comment">/*puts(&quot;check:&quot;);</span><br><span class="hljs-comment">    for(int i = 1;i &lt;= m;i++)&#123;</span><br><span class="hljs-comment">        for(int j = 0;graph-&gt;vertice[i]-&gt;loop[j] != -1;j++)&#123;</span><br><span class="hljs-comment">            printf(&quot;%d &quot;,graph-&gt;vertice[i]-&gt;loop[j]);</span><br><span class="hljs-comment"></span><br><span class="hljs-comment">        &#125;</span><br><span class="hljs-comment">        printf(&quot;\n&quot;);</span><br><span class="hljs-comment">    &#125;*/</span><br><br>    <span class="hljs-type">int</span> flag = <span class="hljs-number">1</span>;<br><br>    <span class="hljs-comment">// Block each path in the shortest path and run Dijkstra&#x27;s algorithm again to find the next shortest path</span><br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>; i &lt;= inde - <span class="hljs-number">1</span>; i++) &#123; <span class="hljs-comment">// For a path with n nodes, there are n-1 edges</span><br>        <span class="hljs-comment">// Reset the visited status for all nodes</span><br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> j = <span class="hljs-number">1</span>; j &lt;= m; j++) isvisited[j] = <span class="hljs-number">0</span>;<br><br>        <span class="hljs-comment">// Get the edge in the stored shortest path. If track[] stored 6 3 2 1, and i=1, then currentEdge is the first edge from node 3</span><br>        Edge* currentEdge = graph-&gt;vertice[track[i+<span class="hljs-number">1</span>]]-&gt;next;<br>        <span class="hljs-comment">// Find the edge pointing to track[i]</span><br>        <span class="hljs-keyword">while</span>(currentEdge-&gt;to != track[i]) currentEdge = currentEdge-&gt;next;<br><br>        <span class="hljs-comment">// Store the original length of the edge</span><br>        <span class="hljs-type">int</span> temp = currentEdge-&gt;weight;<br>        <span class="hljs-comment">// Assign a very high value to the current edge, effectively blocking it from being used</span><br>        currentEdge-&gt;weight = Max_int - <span class="hljs-number">5000000</span>;<br><br>        <span class="hljs-comment">// Initialize the graph to run Dijkstra&#x27;s algorithm</span><br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> k = <span class="hljs-number">1</span>; k &lt;= m; k++) &#123;<br>            graph-&gt;vertice[k]-&gt;minnRoute = Max_int;<br>            graph-&gt;vertice[k]-&gt;predecessor = <span class="hljs-number">-1</span>;<br>        &#125;<br>        <span class="hljs-comment">// Set the starting node&#x27;s distance to 0 and predecessor to itself</span><br>        graph-&gt;vertice[<span class="hljs-number">1</span>]-&gt;minnRoute = <span class="hljs-number">0</span>;<br>        graph-&gt;vertice[<span class="hljs-number">1</span>]-&gt;predecessor = <span class="hljs-number">1</span>;<br><br>        <span class="hljs-comment">// Run Dijkstra&#x27;s algorithm with the current edge blocked</span><br>        Dijkstra(graph);<br><br>        <span class="hljs-comment">// Print the updated distances and predecessors after running Dijkstra</span><br>        <span class="hljs-comment">/*for(int j = 1; j &lt;= m; j++) printf(&quot;%d %d\n&quot;, graph-&gt;vertice[j]-&gt;minnRoute, graph-&gt;vertice[j]-&gt;predecessor);</span><br><span class="hljs-comment">        */</span><br>        <span class="hljs-comment">// Restore the original length of the current edge</span><br>        currentEdge-&gt;weight = temp;<br><br>        <span class="hljs-comment">// Update the length of the second shortest path</span><br>        <span class="hljs-comment">// Check if the new path is shorter than the second shortest but longer than the shortest path</span><br>        <span class="hljs-keyword">if</span>(graph-&gt;vertice[m]-&gt;minnRoute &lt; secondlen &amp;&amp; graph-&gt;vertice[m]-&gt;minnRoute &gt; minlen) &#123;<br>            <span class="hljs-comment">// If a new path is found, record the path</span><br>            <span class="hljs-keyword">if</span>(secondlen &gt; minlen) &#123;<br>                secondlen = graph-&gt;vertice[m]-&gt;minnRoute;<br>                <span class="hljs-comment">// Reset the path tracking index</span><br>                inde = <span class="hljs-number">1</span>;<br>                <span class="hljs-comment">// Start from the destination node</span><br>                track[<span class="hljs-number">1</span>] = m;<br>                <span class="hljs-comment">// Backtrack from the destination to the source by predecessors to record the path</span><br>                <span class="hljs-type">int</span> position = graph-&gt;vertice[m]-&gt;predecessor;<br>                <span class="hljs-keyword">while</span>(position != <span class="hljs-number">1</span>) &#123;<br>                    track[++inde] = position;<br>                    position = graph-&gt;vertice[position]-&gt;predecessor;<br>                &#125;<br>                <span class="hljs-comment">// Add the source node to the path</span><br>                track[++inde] = position;<br>            &#125;<br>        &#125;<br>    &#125;<br><br>    <span class="hljs-comment">// If no second shortest path has been found through the previous process,</span><br>    <span class="hljs-comment">// attempt to find it by traversing the smallest cycle.</span><br>    <span class="hljs-type">int</span> minloop = Max_int;<br>    <span class="hljs-type">int</span> minloopindex;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>; i &lt;= Fixedlen; i++)&#123;<br>        <span class="hljs-comment">// Check if the current node is part of a smaller cycle than previously found.</span><br>        <span class="hljs-keyword">if</span>(minCycle[Fixedtrack[i]] &lt; minloop)&#123;<br>            minloop = minCycle[Fixedtrack[i]];<br>            minloopindex = Fixedtrack[i];<br>        &#125;<br>    &#125;<br><br>    <span class="hljs-comment">// Set a flag to indicate whether the second shortest path has been found.</span><br>    <span class="hljs-comment">// If the sum of the shortest path and the minimum cycle is less than the second shortest path,</span><br>    <span class="hljs-comment">// then we have not yet found a valid second shortest path.</span><br>    <span class="hljs-type">int</span> flag = <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">if</span>(minlen + minloop &lt; secondlen) flag = <span class="hljs-number">0</span>;<br><br>    <span class="hljs-comment">// If the flag is still set (indicating a second shortest path has been found),</span><br>    <span class="hljs-comment">// print the length of the second shortest path and the path itself.</span><br>    <span class="hljs-keyword">if</span>(flag)&#123;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d&quot;</span>, secondlen);<br>        <span class="hljs-comment">// Print the path in reverse order as it was stored.</span><br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = inde; i &gt;= <span class="hljs-number">1</span>; i--) <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot; %d&quot;</span>, track[i]);<br>    &#125;<br>    <span class="hljs-keyword">else</span> &#123;<br>        <span class="hljs-comment">// If a second shortest path hasn&#x27;t been found, print the sum of the shortest path</span><br>        <span class="hljs-comment">// and the minimum cycle as the second shortest path.</span><br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d&quot;</span>, minlen + minloop);<br>        <span class="hljs-comment">// Print the path, including the smallest cycle found along the path.</span><br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = Fixedlen; i &gt;= <span class="hljs-number">1</span>; i--)&#123;<br>            <span class="hljs-comment">// If the current node is not the starting node of the minimum cycle,</span><br>            <span class="hljs-comment">// print it as part of the path.</span><br>            <span class="hljs-keyword">if</span>(Fixedtrack[i] != minloopindex) <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot; %d&quot;</span>, Fixedtrack[i]);<br>            <span class="hljs-keyword">else</span> &#123;<br>                <span class="hljs-comment">// If the current node is the starting node of the minimum cycle,</span><br>                <span class="hljs-comment">// print the entire cycle, then continue printing the rest of the path.</span><br>                <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> j = <span class="hljs-number">0</span>; graph-&gt;vertice[minloopindex]-&gt;loop[j] != <span class="hljs-number">-1</span>; j++) <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot; %d&quot;</span>, graph-&gt;vertice[minloopindex]-&gt;loop[j]);<br>                <span class="hljs-comment">// After printing the cycle, print the node where the cycle begins to indicate closure of the cycle.</span><br>                <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot; %d&quot;</span>, minloopindex);<br>            &#125;<br>        &#125;<br>    &#125;<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="Declaration"><a href="#Declaration" class="headerlink" title="Declaration"></a>Declaration</h3><pre><code class="hljs">**I hereby declare that all the work done in this project titled &quot;MAXIMUM SUBMATRIX SUM PROBLEM &quot; is of my independent effort.**</code></pre>]]></content>
    
    
    <categories>
      
      <category>课程笔记</category>
      
      <category>2023-2024秋冬学期</category>
      
      <category>数据结构基础</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>Dijkstra</title>
    <link href="/2023/11/06/Dijkstra/"/>
    <url>/2023/11/06/Dijkstra/</url>
    
    <content type="html"><![CDATA[<h3 id="Dijkstra算法求有向图最短路径"><a href="#Dijkstra算法求有向图最短路径" class="headerlink" title="Dijkstra算法求有向图最短路径"></a>Dijkstra算法求有向图最短路径</h3><h4 id="前提知识："><a href="#前提知识：" class="headerlink" title="前提知识："></a>前提知识：</h4><h5 id="1-邻接表存图："><a href="#1-邻接表存图：" class="headerlink" title="1.邻接表存图："></a>1.邻接表存图：</h5><h5 id="2-维护优先队列（最小堆）"><a href="#2-维护优先队列（最小堆）" class="headerlink" title="2.维护优先队列（最小堆）"></a>2.维护优先队列（最小堆）</h5><p>Dijkstra算法思路</p><p>1.</p>]]></content>
    
    
    <categories>
      
      <category>Algorithm</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>健身计划-蹲</title>
    <link href="/2023/11/04/%E5%81%A5%E8%BA%AB%E8%AE%A1%E5%88%92-%E8%B9%B2/"/>
    <url>/2023/11/04/%E5%81%A5%E8%BA%AB%E8%AE%A1%E5%88%92-%E8%B9%B2/</url>
    
    <content type="html"><![CDATA[<h4 id="蹲："><a href="#蹲：" class="headerlink" title="蹲："></a>蹲：</h4><p><strong>热身：</strong></p><p>上半身同推日热身</p><p>泡沫轴放松小腿后侧 左右各8-12次</p><p>泡沫轴放松大腿后侧 左右各8-12次</p><p>泡沫轴压大腿前侧8-10次</p><p>髋关节拉伸（左右90°下压）8次</p><p>髋关节拉伸变式（下压后顶跨起身）5次</p><p>拉伸大腿后侧立链（手抓脚尖对抗起立）8次</p><p>一侧腿跪地另一侧腿45°下压 10次</p><p><strong>深蹲</strong>：</p><p>1.高度</p><p>2.握距</p><p>3.单脚进杠 杠铃稳定放在斜方肌上 双脚进杠</p><p>4.吸气 发力出杠</p><p>5.四五步内调整好站位 吸气 下蹲 膝盖向外打开 完全蹲起后呼气</p><p>注意杠铃左右平衡和双脚对称</p><p><strong>保加利亚蹲</strong>：</p><p>单脚放在凳子上，坐下，另一只脚伸直就是站位</p>]]></content>
    
    
    <categories>
      
      <category>训练计划</category>
      
      <category>蹲</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>训练日记</title>
    <link href="/2023/11/03/%E8%AE%AD%E7%BB%83%E6%97%A5%E8%AE%B0/"/>
    <url>/2023/11/03/%E8%AE%AD%E7%BB%83%E6%97%A5%E8%AE%B0/</url>
    
    <content type="html"><![CDATA[<h3 id="2023-11-03-推"><a href="#2023-11-03-推" class="headerlink" title="2023/11/03 推"></a>2023/11/03 推</h3><p>卧推：<strong>20kg</strong>          2 * 8~10 </p><pre><code class="hljs">        **40kg**         1 * 5        **47.5kg**      5 * 5            </code></pre><p>起桥出杠时控制肩膀锁在平面上，不要爆发出杠，有控制地推起，在最高处保持一定的肘关节角度。注意两边同时发力。</p><p>实力推：<strong>25kg</strong>    5 * 5</p><p>注意杠铃曲线，尽量做到直线（多做泡沫轴开胸椎练习）</p><p>双杠臂屈伸：<strong>减重20kg</strong>  4 * 8 ~ 12</p><p>（选取能做八到十二次的重量，注意身体倾斜角度）</p><p>直臂下压：3 * 8 ~ 10</p><pre><code class="hljs"> 大臂垂直于地面，大臂小臂90°，动作全程匀速，保持挺胸，两脚站窄一点，增加动作行程</code></pre><p>侧平举：<del>没学会</del></p><pre><code class="hljs">找到肩中束发力的感觉，避免斜方肌用力过度。哑铃角度在大腿两侧45°，肘关节不要下沉（防止向后甩）</code></pre><h3 id="2023-11-04-拉"><a href="#2023-11-04-拉" class="headerlink" title="2023/11/04 拉"></a>2023/11/04 拉</h3><h4 id="热身："><a href="#热身：" class="headerlink" title="热身："></a>热身：</h4><pre><code class="hljs">        泡沫轴放松胸椎、背部，侧压放松背阔肌        泡沫轴放松小腿大腿后侧、压泡沫轴放松大腿前侧、臀大肌        髋关节伸展、猿式伸展、单腿跪地下压激活脚踝        弹力带拉伸肩关节（注意匀速）高位面拉激活肩膀后束 单臂下压</code></pre><h4 id="激活组："><a href="#激活组：" class="headerlink" title="激活组："></a>激活组：</h4><pre><code class="hljs">        直臂下压 2*8    高位下拉 2\*8</code></pre><h4 id="正式组："><a href="#正式组：" class="headerlink" title="正式组："></a>正式组：</h4><pre><code class="hljs">    引体向上（减重25kg） 4*8~12    杠铃划船  4*8： 确定握距站距（站距跟肩宽差不多，起杠后双臂下放能自然在身体两侧）类似哑铃硬拉，先找下放位置。感受后侧绷紧，附身下放一点点，背部肌肉发力划船，沿着大腿方向贴着腿向小腹划。划船过程可以自然上半身上挺夹紧背部肌肉（可以有一点爆发）。有控制下放     坐姿划船 4*8：确定高度，大概划船能拉到胸口下方。全程保持张力（器械不完全复原）。肩膀前伸拉长背阔肌，带动手臂向前。手腕内旋，背阔肌发力向后拉，上半身跟随自然挺胸。动作末端不要太靠后。有控制回放     哑铃硬拉 4*8~12</code></pre><h4 id="核心训练："><a href="#核心训练：" class="headerlink" title="核心训练："></a>核心训练：</h4><pre><code class="hljs">    卷腹5*12</code></pre><h3 id="2023-11-06-推"><a href="#2023-11-06-推" class="headerlink" title="2023/11/06 推"></a>2023/11/06 推</h3><h4 id="热身：-1"><a href="#热身：-1" class="headerlink" title="热身："></a>热身：</h4><pre><code class="hljs">上肢热身</code></pre><h4 id="正式组：-1"><a href="#正式组：-1" class="headerlink" title="正式组："></a>正式组：</h4><pre><code class="hljs">卧推 50kg 5 * 5 尝试**极限65kg**成功实力推： 30kg 2 * 5    25kg 3 * 5双杠臂屈伸：减重 4 * 8固定器械推胸：5 * 8~12</code></pre><h3 id="2023-11-07-拉"><a href="#2023-11-07-拉" class="headerlink" title="2023/11/07 拉"></a>2023/11/07 拉</h3><h4 id="正式组：-2"><a href="#正式组：-2" class="headerlink" title="正式组："></a>正式组：</h4><pre><code class="hljs">引体向上 减重25kg 4 * 8~10                减重30kg 1*9 划船        40kg 5 * 8~10硬拉： 站距比肩宽窄`，`手臂能自然垂放身体两边，确认握距后手臂下放找握距（能保证拉起来后在身体两侧垂直地面），握紧杠铃，肩胛骨收紧，手臂全程保持张力。在手臂保持张力基础上略微站起后膝盖向前下蹲找臀位（无法继续下放的最低处）。股四头肌发力站起，在杠铃到膝盖处开始顶髋站直锁定。</code></pre><h3 id="2023-11-08-蹲"><a href="#2023-11-08-蹲" class="headerlink" title="2023/11/08 蹲"></a>2023/11/08 蹲</h3><h4 id="正式组：-3"><a href="#正式组：-3" class="headerlink" title="正式组："></a>正式组：</h4><pre><code class="hljs">  深蹲  100  2 * 1            90    4 * 2            80    5 * 2            70    6 * 1             60    6 * 1保加利亚蹲 7kg 6 * 3               </code></pre><h3 id="2023-11-09-篮球"><a href="#2023-11-09-篮球" class="headerlink" title="2023/11/09 篮球"></a>2023/11/09 篮球</h3><h3 id="2023-11-10-拉"><a href="#2023-11-10-拉" class="headerlink" title="2023/11/10 拉"></a>2023/11/10 拉</h3><h4 id="正式组：-4"><a href="#正式组：-4" class="headerlink" title="正式组："></a>正式组：</h4><pre><code class="hljs">引体向上（减重20kg）2 * 8                  (减重25kg)  3 * 8                （减重30kg）1 * 8划船   （40kg） 5 * 8硬拉    80kg 2 * 3坐姿划船    30kg    4 * 8</code></pre><h3 id="2023-11-11-推"><a href="#2023-11-11-推" class="headerlink" title="2023/11/11 推"></a>2023/11/11 推</h3><h4 id="正式组：-5"><a href="#正式组：-5" class="headerlink" title="正式组："></a>正式组：</h4><pre><code class="hljs">卧推 50kg 5 * 5实力推 30kg 1*5             25kg 4*5双杠臂屈伸 减重45 4*8                    减重50 1*8屈臂下压    32 4*8</code></pre><h3 id="2023-11-12-腿"><a href="#2023-11-12-腿" class="headerlink" title="2023/11/12 腿"></a>2023/11/12 腿</h3><h4 id="正式组：-6"><a href="#正式组：-6" class="headerlink" title="正式组："></a>正式组：</h4><pre><code class="hljs">深蹲 90 1*5         85 1*5                     80 3*5硬拉  80~100 1*8</code></pre><h3 id="2023-11-13-爆发力训练"><a href="#2023-11-13-爆发力训练" class="headerlink" title="2023/11/13 爆发力训练"></a>2023/11/13 爆发力训练</h3><p>第一组：壶铃单腿硬拉 8个（支撑腿微曲，另一条腿抬高，每次回复时不落地，壶铃离身体远一些）</p><pre><code class="hljs">            跪姿火箭推 10个（）</code></pre><h3 id="2023-11-14摆烂"><a href="#2023-11-14摆烂" class="headerlink" title="2023/11/14摆烂"></a>2023/11/14摆烂</h3><h3 id="2023-11-15-蹲"><a href="#2023-11-15-蹲" class="headerlink" title="2023/11/15 蹲"></a>2023/11/15 蹲</h3><pre><code class="hljs">出杠后蹲前找屈髋的感觉！死虫式训练核心</code></pre><h3 id="2023-11-16摆烂"><a href="#2023-11-16摆烂" class="headerlink" title="2023/11/16摆烂"></a>2023/11/16摆烂</h3><h3 id="2023-11-17摆烂"><a href="#2023-11-17摆烂" class="headerlink" title="2023/11/17摆烂"></a>2023/11/17摆烂</h3><h3 id="2023-11-18摆烂"><a href="#2023-11-18摆烂" class="headerlink" title="2023/11/18摆烂"></a>2023/11/18摆烂</h3><h3 id="2023-11-19-推"><a href="#2023-11-19-推" class="headerlink" title="2023/11/19 推"></a>2023/11/19 推</h3><pre><code class="hljs">卧推45kg 2*8        40kg 3*8实力推 25kg 3*5            30kg1\*5 + 1*\*3 双杠臂屈伸 减重45kg 4*8器械推胸    50kg 3*10</code></pre>]]></content>
    
    
    <categories>
      
      <category>训练计划</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>图像信息处理HW2Report</title>
    <link href="/2023/11/02/%E5%9B%BE%E5%83%8F%E4%BF%A1%E6%81%AF%E5%A4%84%E7%90%86HW2Report/"/>
    <url>/2023/11/02/%E5%9B%BE%E5%83%8F%E4%BF%A1%E6%81%AF%E5%A4%84%E7%90%86HW2Report/</url>
    
    <content type="html"><![CDATA[<p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABFgAAAFqAQMAAAAUR3znAAAABGdBTUEAALGIlZj0pgAAAAZQTFRFAAAA////pdmf3QAAAAlwSFlzAAAXEQAAFxEByibzPwAAFFNJREFUeJztnU2u7DoRgN3qQc9oFvBEkNgAQwaIbIWFPClGbyFsxU8sgC0YMWBImAUpL+Ek/qsqVyWVTu45V6hrcvukHfuzXS7b5XJfM38/Yr4aAMibhZc3Cy9vFl7eLLy8WXh5s/DyZuHlzcLLm4WXNwsvgGV6fh3GKoBlvH8dxiqQ5av7C5Q/mPYrCP6WPwGW3nyJwtzyJ8Ty+AKUqRAAFm9uTNpvLaPpWJavUF6gpaB4ZwriZ7I0PEv7+SxgxAAWawriZ7LkEQNYjPmKgeS/K5Y89WCWL5iRXLEkmOULDIwrlgSzfMGgtqVQwtJ+OosRWZprC1LoH2gAwnLtQBoV+gcagLBcO5AUq7Ppo9BkeA16evFAUqzONliunan7ff0bgWJQlu5alt2V4rDB0l7LsjsWBqCklKW5ksXvs/Sfx7I7LnmWdUyrtgJjp2Rx++PSg8FLWTTGrm+uY3EnWbx2H/UJLFZrnRWreYHFqlm01lnBYk+yqGcKxc7C8CxOzaKdKdy+jTjP0l3FMgksXrlomNQzxessvZ5lpwQ9ywjLfIFl1FnnwLKTUmIZ9CzKpaiSpV4zYMbt95WD2u5SD3AOfI1FOahfZ9Euvkf18s/u5tfDdcqLLO2VLCkzyGL1LLqBZHc1y8M1NmRxOrs7XM2S/jDkCwXLqEsWWHa0HC4ZXmXRrWC+PctgtAbG7o44pKKURaEI44UsZoul0bHoDIzdzRAtU74DFs6/uxqeli0dlTwZHTMpiZNJZPFSfQdU8oUsI8qKsBCdjMd+Pcpw2i0CsmwOzBFOAZSF2I3o5PI4w0Msm5YIqx5hacKnPj7pA7SrWVSGd5dlgFMAZUkMbWJZ4WzNojK8Zs8S9SJLn5vLPRPdQjGZb8nCnjfOfS4g7ZjD5nxkWFSGdzehQ7VCLMUC3nLarnZ1HWLZnBzxKgUmLSYt5eDWEefIqNktQp0QG2Y+aRpobk1KR7C9ioVYTTZp3qW6pQl7amUvYzHI1Iksz8Ryrz0XV7H0Gpa8M1x06zfVLHWMpRO/duR7ieUOUtOCr2KxSpYbZCED+HKWn7ZZDGQhE6GaxW6zmKQvZodlzcLn5FUechHqhCHzJh/tqFi4PBQoOyxTZBldtBkaFro+OMYifjsGlnuflIBNOmCWZq+In8+wlNqKLG1h6XaKmCS3w6UsjhnRdRGDtBJn3+ZY7jLLiFiqpS1lEY/PWJb/pA9TYbnJLENSEseM6OrAdhJXeSyLQ18bMFIVLB35diRF9GJH8Cwtw9LpWKo6TwY/dRILTRjEciytjqVSF+rvtEzblcIqlqLotrA0OpbqW+Qfpns/KBNOmFhy5VxheW6yPGPquvnJHha5RfdZwAYHsDxULMxwxSyWrT0DvcVyV7E09df+7srjqeS1A53S57SA5bbJstJbySFTHveXsJh9Fre/TgH1Yr9ryLOxpP3I/e44lhF0eQ54sLtrg/Ecy7OPLB1kGUALZK/pLssA25hlaWt4wNKm5RpigXEzehZ3mGUqaVdtHFiW0knZRWNXJC9MwzMw4+K3Xc2S8EJNQ3VayALjQwiLvAaZNlkmgaXJLEvGPcdSSswsa1dNMktZDtEiNSxhgAw1iwN1oyziwB7324V5mM/0VrUYWZZcImYZvx3LM6XCuuuAylcs7cxLHtJiH9XdC1mazDITlgYWEWaIpUcr/8tZlnwevdaxLFkhSx66iSWsZL3sWe53WeqJKj9LemgMnacpyz2zONmzfIplBCx4/eLAe2luzCySN/c1lltmSanIus6Bvk1rzOATssIweZHFFpabzALmg6BWwVcmFTVrdLfuXZvKGQBLg1g8YelCUQ9+hgMJX2bpA0tZu6N2SRkmFr/ktXV09Uq7uJQ4sgw8Sxs/+6g76wgiWxCBhfsWxgkzLOsMeAfnNqiPmpI8LV8em6EoL7K08cNtOSwrUbOoXdKLNpuXxCLM1Hk+Yr+f2M6NLEOzvNXfQDQxapdinFeWELgwiPXeYxlZFh9Y/PqWN6tyyiwpeKLXs7B9yAfKRBa35uoCC/HX+ZLjbyOL07Owuh1ZmoqloSxNzWJKAUvm1sRjEmHM6lgm8l10W9q1vI+Mfc4d2TdTPulY8nqXnciDa5ZebY0sZo9lfeZT5oHJa1iaDRai132oaND4jwQuawDDYiNLNCxugyXvSVqZZSDv9kEvV5YpsNwJSzbFU2r0GBNpNSzs1+GIo99gWZYwtmbJU9SQWEKD/BgK41Gym4v9MrB40mhDsEaZpWgbZmnmNPc2yLUH7AeOP4ksvFkOx1CeKBNk+fgMjHNmmTZZgEsM5ewoqorFaFl8ZBkhS8kOx59EFn4aDyyOYeli0PnH6yCisvQ0ZekhS5eT4csBXsPSSiyxafZZPGQBLYHK7WkX1iyWsMSGiC1660vuNUvSF8uz4IsKI+3CmoUO+AGx3D0X772U3RYWpC5gnOAxM9EurFiq3XicMQFLXqoglm7O9mWALKAtiC2xpNk4lurpwpI0TWSZM8v948+GYaHVdKTZKpa+igcLfZpYHBfXbA3YI4SWt/ssfWvE1fAYVm6bLE8HfEM5TcoT+L0YlqFSjk2WZbVEY9MqlrZisTSI4S6wtDMSK+5YVpbq2xgWHVkay8U15zxTwzw5ltoZI7Msmvf7Kn1kiTVugeYjlmcub0Uu3lvEQgybEd0zUfO6+mlh+RMbS2xzDXIePAvpf5klmgWGELEw8bs2a8KU8uBZyLgwO7ttqthxxxP7/48SS1eyj1MJx0IqakQvRF6VcSwx51+zLA4oUSw/t0tRzuSC0LDQeCiOxQgsRYliEsuzoNynWjsxC/0y7NKnTRb4ow0m69d9xO1cdnlaFvoUeAxMUgbKUiIgA0sTVchVLFVkMY8SWKq5SsMCpLDcaKR+8QpEGcUpIJhWnLhlWBhbR1lalmWg2U+ieSkbUIZlOMQyLyx3GqlfvEiFpRVYnKHKNcSt8X3dyaah0e2x3FaWB9VWjkVAYaJE+kdi+ahh47Usd56lusCxcdLlKtXt4+71tnqEei3LU80ihltbqi6Ley6yfHB2SWfaPZZ2jscruyxieD4sB7Osy7RZzdKdZmGOG/3y9/J4istymeWXkkk8ynpSq1+d203bB134kUssP0Ibw7L8V2IpxTEs7cxLz7G0geUPS9ZpTkq5o8R9qdADsYDiqgKWqo7NXIujwz/u8zPBJovvcoWaUG6jYJn5k33uHMEClg5QMSwusPhUuoplPallxnWfLANieWaCOX/i7qDOtrB0apafwBEiLtcYqteAJfnsJJZyKyAeoiSWboMle72qh5V5mcGKLvt4eZYp+XxzgOSS1z4LG3jok1LwLM+U1zZLPrKcskNgm8VzfeQMkzKzPHJeAkv8WbsRs+y3i5MCJavmWhOW9tpgiR7qvHQrLCg7poR6F8uGl02ZZU6V3mFx6esp3vjZYWHv6oYuIo8zyw3w8ix9OdN/xkJYFlJbz7HgUgrLDbC4TZZUTcjiKxZc8MgUmpr/WT29oWEqs/jiI8MssFOqEtjY0DCiGXfHjXE6cSzulrNptlhwCZ4vdJVWYHnkSm+zmF2WDhXgmEJ7niUcBaTSfWJJFYEsqxu532UhesoVmrQSUxeWJiV6SixrN7rCMqxK6/HAoerC/lyX5VnCkLR5RRJOj9h13VLjdOFEZiFjg3MmZK2UWNo5rR6NYfeNa8TxCDq651gs2wT44bDHsjwPU43AMgJXZ2S51SxEomZwfNXjaKpseB6mGsP7GQbo6gyvxnhJmWXiCi0nTyxLdDr5tRjD37fvwQKwDXWOA0vw3865NzCslVhcZHmkWnQoFAQk92CbAFi2+uiXWCz1gkShE3piec7pijA44UMsC6+DShcq4Dfahc60q0T1tzJLM6cdC1qeIpYbPvveZ0noDfdQYlk3svEeA1IAeHpnzK8Iy/MVlqIutG99YYk7FnS8AFgMkC5kKrH8lbC04LvquhVlWZcmLlTBQf0WWGIFG4El1SU1QQe+A2fJ9L1g6/p7erODTmXIMulZJsoCvzR7LMOj/H4UUvuSzciwtAILCDhbBOoozIau9sI8PaQYkkfcDepZXM0yEpb8/c+oi7iV5y04JaK6YMdj+TwwLJ3AkipjSZk3MKL/LLHMZaEx4qVR/tTrWQbCkv6cg1EPbcWEZk+JZYyF9Hg5wrLctlly3ElkaXNuRRouTBwdrz5oDAg8J6EsTmLxKYfYIV2pd5aOY7F5Qxp61iJrgM6yKpZZx5Keo8MPjiX+0sOQepZYgy2WFDhLdTBflwxtmfsc3bbtmYMCX1bd4UI5qiXD8kgsXmLJ1yV9LLdmaVgWsEsO4W4oBTr7jNmk6PBwusWxdDnv2PEVS7d815H35rHsTJcy+toLGT/lbNIkMaa7fNUWHbM0NctaEHP2t3Zn7lmHJ8/MAkIq0ITFsqRPxClXzOVjLbFmWcWm1qS/WVLV6V6zNOiVeSQv5SILS9hR8CixB9rKZU6quGaDw0RqliGjJvtJ6xODkHiUHBYwkAT5z2x2mwMs5Fo3uo7kqiUmKumWxinD4ssIqFhakhn4WR1DgoZSP88kFyA2aRRRXRwHH6vkkQmqWXzJw5rq+nIsKBycMlJcVpZ6LDBtjKAkLB1+B9THGTjKkKfJCkv2HF1TuQnKxro07wEWb6rDpVhQ7agB+KsqVKdgiQVWySPgejyAQkA0JaxQO9eOmihjbv6+ypdlgcD1eLCYBeaW9V88z+9z84ssWe2afRasrfBbmyu9fBNYyJmbz9rtqW4nlmzqWhrlWo1N9JNgho5/wBIgBqw2NlfZUX2qWLpdlhE2Ph4tfRnShYULJl2r3AgsffTjBU8UZKnsxABZsJ6DENohseD/RCCZ94+P/yAokCXHHzjCQtoSZY5LAhF1eSnVS734L4nFhxVqtN6dmgUvzcCpEWBBPuQ8jOZ/SyzLaEnn0pSl8qKC4kc8QdhUUFm+9JwF+ijmn3+XWBatiBGBeyxInSZsJFxS3bJ8wfuBYjmqYYRYknfcofwrFoz6l5olLU0zSz17tjRwHLKsLwRH90fpmKXBrzhp7ThHS9aGVLfyKL+QWDq6NwIs0Uqm63s7LCIKuq1zLywtZZmJu4Nh8WtrYqNP4/sJKpYSZ5J7xhtm1zJzc2dhKZQ7LHKAFDhPLkV5U+8sb+vwF+aAAbEgrTrEkq+dlp8b8AbMn4hFmBvhhpNEY9UHMhtHFfnQbMwZ9pBlyqYuRCk1DItD+oV33EQ92ACTLDZmVGL3izpH1tB0C9UPWGUKS04+YBZbHY3LRxXFxBXL3+dhHllNuQ3HsliZharHsMky5DP59Bo+M/bJ7E5bLPkR+d95aJfo/pvH8vMgAypzSmZ3Sp1VsRjE0qAUpBm8isUJLFl9RJYJLlvJxTuLyKi/T5Ky0qAxXDb/9oMhw9qk9JClQylI0dWcwEppCsriy+VsBQtW1vL7YakU8kBgScTVr5KZcsYnsIC9IPEWdS+wTIQFVW+9CiiyoLNW8l8KEVO3EccMZCTmjZk2JN3F650OvUOy2fhlGoHFnmAh8pNciizwZpjN6wgooq3zcjA7lUGO7wbiQH4OTUiYpa1Z3PUsLfjMsRBXX2GxjO9ekOpeHitw7eeqBsgsWDHSglDN4jeXDDlbkMjLLIx/d+QSCyK6BKFMeMvNVbWvCbODXssiuQSRjHjLzbEwWrSyeE65BNmK+gDFoz8YlnQoXLE4PQuzfGfEQf3mApzBZpewWD3LqBr9aH/KstSWLrKwhlFkaXYT4fsLA1MsOewpLOzvhgkyaFhG1Moci5dYqnsZG8Kd3NUsSBEGTjUklv4YS7fPglqBYeGvxi8svh5eojj96EcFY5boQWxrFneM5SAKx+JEFnuAxap7c4NFCKk1zOJ4m0WbcoPFiizcJRRR9NQbLEZk4cbcRr5aasxypw94lv4Ay/ACS1XXXmbx3HwhSH3F/QUWew2L1y8ARZYSIVCzOMYESuJeZaHrPIHFHmCpM9iXkeRvrmHZuLitZum3WLjHG9keRQksJX93EcvwCgu+/wlDCk+xsLfBdsXAGvirWPxLLMijEjF+2GDpVLm6F6ajGbmE03lvd5rFvsYyl1JjF4VLCqdYzAvT0SJT/hCb5ZF/KulVFvZm2iFJA7rZYlHlVP1QxFHJdi5QnWHx5oXpCEpqltsWi26kMu8fk9Qsd3YPf4iF6eNDAoNseBZrtCNVP+B4gYvLkyxH9t3bLPNpliP77k2W23mWQd2ZGxkYkwI4OBantWD9WRZ4RegkizrhHks7sz7CIyz2KrM7iyxeW4Q5yzIU1RVYtLPMdBVLvg3LszSKnOje4rhAd5T/9RmW4SqWdmU51S6MB/+gwF+NPMdiz05HaZ6eZZZByWLOs9g8jOjPPhxjGS9gWRojmm6eZTzCcgoFup1kllaZz6lpGpmFUyzuAhawK+JZJh2LKX39urjczTyLzsHDxKu8IGVrfYZlvISl+EEFFqc6+yjT2hnJQ/YMS77vdk5y5CBvdzduLVUs7VmWHOgjsKjOp/prWObfxX9dndtBlv10WjnD4j+HZdCzXIYi+F90oT5XszDad4zl7HRUZJJZ9l++mGUUWDZ+VpKwnJ0ai3CLZzXLkdO3ffmFs1YhtkJR32tZnMhiFWVcyhJQWJbqVpLEcnqaDpL8MByLb+v07PvNNSzCz0+FODLF+1ey+A0WjQzXTNOXsIwXTo3/TyynnbsXs1w1HW2NI5V8ZyxXTY1yXJBS7HfE4i6cGr8nFjmmTc1y0dQ4p4Z5mcVfycLu/PQs3G/LvCzsjljPoopQVYs/xTJeNk0vIu1J1G9fyIKvph5lqS46npR6qj3AsnUn9wWp/jOiIyz+WpaxjkfXvzxct2tcxdMHB1jGy6YAQY60e/OtIKJcqwPn5M3Cy5uFlzcLL28WXt4svLxZeHmz8PJm4eXNwsubhZfvieV/PHZiMHL6dgYAAAAASUVORK5CYII=" alt="">实验报告</p><p>课程名称：       图像信息处理       指导老师：   宋明黎    成绩：                   </p><p>实验名称：           bmp图像二值化及相关处理</p><p>姓名： 曹正</p><p>学号： 3220102918</p><p>日期：2023/11/02</p><h3 id="一、实验目的和要求"><a href="#一、实验目的和要求" class="headerlink" title="一、实验目的和要求"></a>一、实验目的和要求</h3><pre><code class="hljs">1.利用otsu算法求threshold实现bmp图像的二值化2.实现binary image erosion3.实现binary image dilation4.实现binary image opening5.实现binary image closing </code></pre><h3 id="二、实验内容和原理"><a href="#二、实验内容和原理" class="headerlink" title="二、实验内容和原理"></a>二、实验内容和原理</h3><ol><li><p><strong>图像二值化 (Image binarization)</strong>: 这是将图像转化为仅包含两个可能的值（例如，0和1或黑和白）的过程。这通常是通过选择一个阈值并将所有低于此值的像素设置为0（或黑色），而所有高于此值的像素设置为1（或白色）来实现的。</p><p>其中阈值threshold需要通过otsu算法求解：</p></li><li><p><strong>二值图像侵蚀 (Binary image erosion)</strong>: 这是一种减少图像中白色区域大小的过程。它通过将每个白色像素与其邻域进行比较并决定是否将其变为黑色来工作。</p><figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><code class="hljs arduino"><span class="hljs-comment">// 声明腐蚀函数，对二值化图像进行腐蚀操作</span><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">erosion</span><span class="hljs-params">(<span class="hljs-type">int</span> width, <span class="hljs-type">int</span> height)</span> </span>&#123;<br>    <span class="hljs-comment">// 初始化腐蚀结果图像，使其与原始二值图像相同</span><br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; height; i++) <br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> j = <span class="hljs-number">0</span>; j &lt; width ; j++)&#123;<br>            Erode[i][j] = Binarize[i][j];<br>        &#125;<br><br>    <span class="hljs-comment">// 定义8个方向的移动向量，用于检查当前像素点周围的像素</span><br>    <span class="hljs-type">int</span> dx[] = &#123;<span class="hljs-number">-1</span>,  <span class="hljs-number">0</span>,  <span class="hljs-number">1</span>, <span class="hljs-number">-1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">-1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>&#125;;<br>    <span class="hljs-type">int</span> dy[] = &#123;<span class="hljs-number">-1</span>, <span class="hljs-number">-1</span>, <span class="hljs-number">-1</span>,  <span class="hljs-number">0</span>, <span class="hljs-number">0</span>,  <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>&#125;;<br><br>    <span class="hljs-comment">// 对图像进行遍历，除去边界像素</span><br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> y = <span class="hljs-number">1</span>; y &lt; height - <span class="hljs-number">1</span>; y++) &#123;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> x = <span class="hljs-number">1</span>; x &lt; width - <span class="hljs-number">1</span>; x++) &#123;<br>            <span class="hljs-comment">// 用于标记当前像素点是否被腐蚀</span><br>            <span class="hljs-type">int</span> isEroded = <span class="hljs-number">0</span>;<br><br>            <span class="hljs-comment">// 检查当前像素点的8个邻居</span><br>            <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> d = <span class="hljs-number">0</span>; d &lt; <span class="hljs-number">8</span>; d++) &#123;<br>                <span class="hljs-comment">// 计算邻居的坐标</span><br>                <span class="hljs-type">int</span> nx = x + dx[d];<br>                <span class="hljs-type">int</span> ny = y + dy[d];<br>                <span class="hljs-comment">// 计算邻居的灰度值（因为是二值图像，所以RGB值相同）</span><br>                <span class="hljs-type">int</span> gray = (Binarize[ny][nx].Red + Binarize[ny][nx].Green + Binarize[ny][nx].Blue) / <span class="hljs-number">3</span>;<br><br>                <span class="hljs-comment">// 如果邻居是黑色像素，则当前像素点需要被腐蚀</span><br>                <span class="hljs-keyword">if</span> (gray == <span class="hljs-number">0</span>) &#123;<br>                    isEroded = <span class="hljs-number">1</span>;<br>                    <span class="hljs-keyword">break</span>;<br>                &#125;<br>            &#125;<br><br>            <span class="hljs-comment">// 如果确定当前像素点被腐蚀，则将其设置为黑色</span><br>            <span class="hljs-keyword">if</span> (isEroded) &#123;<br>                Erode[y][x].Red = Erode[y][x].Green = Erode[y][x].Blue = <span class="hljs-number">0</span>;<br>            &#125;<br>        &#125;<br>    &#125;<br><br>    <span class="hljs-comment">// 试图打开文件以写入腐蚀后的图像数据</span><br>    FILE* fr;<br>    <span class="hljs-keyword">if</span>( ( fr = <span class="hljs-built_in">fopen</span>(<span class="hljs-string">&quot;testero.bmp&quot;</span>,<span class="hljs-string">&quot;wb&quot;</span>) ) == <span class="hljs-literal">NULL</span>)&#123;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;erode Opening Error!&quot;</span>); <span class="hljs-comment">// 如果文件打开失败，则打印错误信息并退出</span><br>        <span class="hljs-built_in">exit</span>(<span class="hljs-number">0</span>);<br>    &#125;<br><br>    <span class="hljs-comment">// 将位图文件头写入文件</span><br>    <span class="hljs-built_in">fwrite</span>(&amp;filehead,<span class="hljs-number">1</span>,<span class="hljs-built_in">sizeof</span>(BMPFILEHEADER),fr);<br>    <span class="hljs-comment">// 将位图信息头写入文件</span><br>    <span class="hljs-built_in">fwrite</span>(&amp;infohead,<span class="hljs-number">1</span>,<span class="hljs-built_in">sizeof</span>(BMPINFOHEADER),fr);<br>    <span class="hljs-comment">// 移动文件指针到像素数据的起始位置</span><br>    <span class="hljs-built_in">fseek</span>(fr, filehead.bfOffset, SEEK_SET);<br><br>    <span class="hljs-comment">// 将腐蚀后的图像数据写入文件</span><br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>;i &lt; height;i++)<br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> j = <span class="hljs-number">0</span>;j &lt; width;j++)&#123;<br>            <span class="hljs-built_in">fwrite</span>(&amp;Erode[i][j].Blue,<span class="hljs-number">1</span>,<span class="hljs-number">1</span>,fr);<br>            <span class="hljs-built_in">fwrite</span>(&amp;Erode[i][j].Green,<span class="hljs-number">1</span>,<span class="hljs-number">1</span>,fr);<br>            <span class="hljs-built_in">fwrite</span>(&amp;Erode[i][j].Red,<span class="hljs-number">1</span>,<span class="hljs-number">1</span>,fr);<br>        &#125;<br><br>    <span class="hljs-comment">// 关闭文件</span><br>    <span class="hljs-built_in">fclose</span>(fr);<br>&#125;<br></code></pre></td></tr></table></figure></li><li><p><strong>二值图像扩张 (Binary image dilation)</strong>: 与侵蚀相反，扩张是增加图像中白色区域的过程。它通过检查每个黑色像素的邻域并决定是否将其变为白色来工作。</p><p>几乎同上，区别：</p><figure class="highlight inform7"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs inform7">for (int y = 1; y &lt; height - 1; y++) &#123;<br>        for (int x = 1; x &lt; width - 1; x++) &#123;<br>            int isEroded = 0;<br><br>            for (int d = 0; d &lt; 8; d++) &#123;<br>                int nx = x + dx<span class="hljs-comment">[d]</span>;<br>                int ny = y + dy<span class="hljs-comment">[d]</span>;<br>                int gray = (Binarize<span class="hljs-comment">[ny]</span><span class="hljs-comment">[nx]</span>.Red + Binarize<span class="hljs-comment">[ny]</span><span class="hljs-comment">[nx]</span>.Green + Binarize<span class="hljs-comment">[ny]</span><span class="hljs-comment">[nx]</span>.Blue) / 3;<br><br>                if (gray == 0) &#123; // 检查周围是否有黑色像素<br>                    isEroded = 1;<br>                    break;<br>                &#125;<br>            &#125;<br><br>            if (isEroded) &#123;<br>                Erode<span class="hljs-comment">[y]</span><span class="hljs-comment">[x]</span>.Red = Erode<span class="hljs-comment">[y]</span><span class="hljs-comment">[x]</span>.Green = Erode<span class="hljs-comment">[y]</span><span class="hljs-comment">[x]</span>.Blue = 0;<br>            &#125;<br>        &#125;<br>    &#125;<br></code></pre></td></tr></table></figure></li><li><p><strong>二值图像开操作 (Binary image opening)</strong>: 这是先进行侵蚀然后进行扩张的过程。这可以帮助消除小的白色噪声区域。</p></li><li><p><strong>二值图像闭操作 (Binary image closing)</strong>: 这是先进行扩张然后进行侵蚀的过程。这可以帮助填充图像中的小黑色孔洞。</p></li></ol><h3 id="三、实验步骤与分析"><a href="#三、实验步骤与分析" class="headerlink" title="三、实验步骤与分析"></a>三、实验步骤与分析</h3><p>1.读取bmp图像并储存</p><figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><code class="hljs arduino"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdint.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdlib.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;math.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> MAX_VALUE 256</span><br><br><span class="hljs-keyword">typedef</span> <span class="hljs-type">unsigned</span> <span class="hljs-type">short</span> WORD;<br><span class="hljs-keyword">typedef</span> <span class="hljs-type">unsigned</span> <span class="hljs-type">int</span> DWORD;<br><span class="hljs-meta">#<span class="hljs-keyword">pragma</span> pack(push, 1)</span><br><br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">struct</span> <span class="hljs-title class_">BITMAPFILEHEADER</span>&#123;<br>    WORD bfTYPE;<br>    DWORD bfSIZE;<br>    WORD bfReserved1;<br>    WORD bfReserved2;<br>    DWORD bfOffset;<br>&#125;BMPFILEHEADER;<br><br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">struct</span> <span class="hljs-title class_">BITMAPINFOHEADER</span>&#123;<br>    DWORD bInfoSize;<br>    DWORD bWidth;<br>    DWORD bHeight;<br>    WORD bPlanes;<br>    WORD bBitCount;<br>    DWORD bCompression;<br>    DWORD bmpImageSize;<br>    DWORD bXPelsPerMeter;<br>    DWORD bYPelsPerMeter;<br>    DWORD bClrUsed;<br>    DWORD bClrImportant;<br>&#125;BMPINFOHEADER;<br><span class="hljs-meta">#<span class="hljs-keyword">pragma</span> pack(pop)</span><br><br>BMPFILEHEADER filehead;<br>BMPINFOHEADER infohead;<br><span class="hljs-type">int</span> ImageHeight, ImageWidth;<br><br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">struct</span> <span class="hljs-title class_">RGB</span>&#123;<br>    WORD Blue;<br>    WORD Green;<br>    WORD Red;<br>    WORD rgbReserved;<br>&#125; RGBQUAD;<br><br>RGBQUAD InitialRGB[<span class="hljs-number">1001</span>][<span class="hljs-number">1001</span>];<br><span class="hljs-type">double</span> GrayY[<span class="hljs-number">1001</span>][<span class="hljs-number">1001</span>];<br><span class="hljs-type">double</span> GrayU[<span class="hljs-number">1001</span>][<span class="hljs-number">1001</span>];<br><span class="hljs-type">double</span> GrayV[<span class="hljs-number">1001</span>][<span class="hljs-number">1001</span>];<br>RGBQUAD Gray[<span class="hljs-number">1001</span>][<span class="hljs-number">1001</span>];<br>RGBQUAD Binarize[<span class="hljs-number">1001</span>][<span class="hljs-number">1001</span>];<br>RGBQUAD Erode[<span class="hljs-number">1001</span>][<span class="hljs-number">1001</span>];<br>RGBQUAD dilate[<span class="hljs-number">1001</span>][<span class="hljs-number">1001</span>];<br>RGBQUAD open[<span class="hljs-number">1001</span>][<span class="hljs-number">1001</span>];<br>RGBQUAD close[<span class="hljs-number">1001</span>][<span class="hljs-number">1001</span>];<br></code></pre></td></tr></table></figure><figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs mipsasm">FILE *<span class="hljs-built_in">fp</span>;<br>    if( ( <span class="hljs-built_in">fp</span> = fopen(<span class="hljs-string">&quot;Lena.bmp&quot;</span>,<span class="hljs-string">&quot;rb&quot;</span>) ) == NULL )&#123;<br>        printf(<span class="hljs-string">&quot;Image Opening Error!&quot;</span>);<br>        exit(<span class="hljs-number">0</span>);<br>    &#125;<br><br>    fseek(<span class="hljs-built_in">fp</span> ,<span class="hljs-number">0</span> ,SEEK_SET);<br>    fread(&amp;filehead,sizeof(<span class="hljs-keyword">BMPFILEHEADER),1,fp);</span><br><span class="hljs-keyword"></span>    fread(&amp;infohead,sizeof(<span class="hljs-keyword">BMPINFOHEADER),1,fp);</span><br><span class="hljs-keyword"></span>    fseek(<span class="hljs-built_in">fp</span>,filehead.<span class="hljs-keyword">bfOffset,SEEK_SET);</span><br><span class="hljs-keyword"></span><br>    ImageHeight = infohead.<span class="hljs-keyword">bHeight;</span><br><span class="hljs-keyword"></span>    ImageWidth = infohead.<span class="hljs-keyword">bWidth;</span><br><span class="hljs-keyword"></span><br>    for(int i = <span class="hljs-number">0</span><span class="hljs-comment">;i &lt; ImageHeight;i++)</span><br>        for(int <span class="hljs-keyword">j </span>= <span class="hljs-number">0</span><span class="hljs-comment">;j &lt; ImageWidth;j++)&#123;</span><br>            fread(&amp;InitialRGB[i][<span class="hljs-keyword">j].Blue,1,1,fp);</span><br><span class="hljs-keyword"></span>            fread(&amp;InitialRGB[i][<span class="hljs-keyword">j].Green,1,1,fp);</span><br><span class="hljs-keyword"></span>            fread(&amp;InitialRGB[i][<span class="hljs-keyword">j].Red,1,1,fp);</span><br><span class="hljs-keyword"></span>        &#125;<br></code></pre></td></tr></table></figure><p>2.将原始图像转化为灰度图</p><figure class="highlight inform7"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs inform7">void getGrayimage(int width, int height)&#123;<br>    for(int i = 0;i &lt; height;i++)<br>        for(int j = 0;j &lt; width;j++)&#123;<br>            GrayY<span class="hljs-comment">[i]</span><span class="hljs-comment">[j]</span> = (double)InitialRGB<span class="hljs-comment">[i]</span><span class="hljs-comment">[j]</span>.Red*0.299 + (double)InitialRGB<span class="hljs-comment">[i]</span><span class="hljs-comment">[j]</span>.Green*0.587 + (double)InitialRGB<span class="hljs-comment">[i]</span><span class="hljs-comment">[j]</span>.Blue*0.114;<br>            GrayU<span class="hljs-comment">[i]</span><span class="hljs-comment">[j]</span> = -InitialRGB<span class="hljs-comment">[i]</span><span class="hljs-comment">[j]</span>.Red*0.147 - InitialRGB<span class="hljs-comment">[i]</span><span class="hljs-comment">[j]</span>.Green*0.289 + InitialRGB<span class="hljs-comment">[i]</span><span class="hljs-comment">[j]</span>.Blue*0.435;<br>            GrayV<span class="hljs-comment">[i]</span><span class="hljs-comment">[j]</span> = InitialRGB<span class="hljs-comment">[i]</span><span class="hljs-comment">[j]</span>.Red*0.615 - InitialRGB<span class="hljs-comment">[i]</span><span class="hljs-comment">[j]</span>.Green*0.515 - InitialRGB<span class="hljs-comment">[i]</span><span class="hljs-comment">[j]</span>.Blue*0.100;<br>        &#125;<br><br>    for(int i = 0;i &lt; height;i++)<br>        for(int j = 0;j &lt; width;j++)&#123;<br><br>            if(GrayY<span class="hljs-comment">[i]</span><span class="hljs-comment">[j]</span> &gt; 255)&#123;<br>                Gray<span class="hljs-comment">[i]</span><span class="hljs-comment">[j]</span>.Red = 255;<br>                Gray<span class="hljs-comment">[i]</span><span class="hljs-comment">[j]</span>.Green = 255;<br>                Gray<span class="hljs-comment">[i]</span><span class="hljs-comment">[j]</span>.Blue = 255;<br>            &#125;<br><br>            else if(GrayY<span class="hljs-comment">[i]</span><span class="hljs-comment">[j]</span>&lt;0)&#123;<br>                Gray<span class="hljs-comment">[i]</span><span class="hljs-comment">[j]</span>.Red = 0;<br>                Gray<span class="hljs-comment">[i]</span><span class="hljs-comment">[j]</span>.Green = 0;<br>                Gray<span class="hljs-comment">[i]</span><span class="hljs-comment">[j]</span>.Blue = 0;<br>            &#125;<br><br>            else&#123;<br>                Gray<span class="hljs-comment">[i]</span><span class="hljs-comment">[j]</span>.Red = GrayY<span class="hljs-comment">[i]</span><span class="hljs-comment">[j]</span>;<br>                Gray<span class="hljs-comment">[i]</span><span class="hljs-comment">[j]</span>.Green = GrayY<span class="hljs-comment">[i]</span><span class="hljs-comment">[j]</span>;<br>                Gray<span class="hljs-comment">[i]</span><span class="hljs-comment">[j]</span>.Blue = GrayY<span class="hljs-comment">[i]</span><span class="hljs-comment">[j]</span>;<br>            &#125;<br><br>        &#125;<br><br>&#125;<br></code></pre></td></tr></table></figure><p>3.对图像进行二值化、erosion、dilation、opening、closing操作</p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs scss">    <span class="hljs-built_in">binarization</span>(ImageWidth, ImageHeight, otsuThreshold(ImageWidth ,ImageHeight));<br><span class="hljs-built_in">erosion</span>(ImageWidth, ImageHeight);<br><span class="hljs-built_in">dilation</span>(ImageWidth, ImageHeight);<br><span class="hljs-built_in">opening</span>(ImageWidth, ImageHeight);<br><span class="hljs-built_in">closing</span>(ImageWidth, ImageHeight);<br></code></pre></td></tr></table></figure><h3 id="四、实验环境及运行方法"><a href="#四、实验环境及运行方法" class="headerlink" title="四、实验环境及运行方法"></a>四、实验环境及运行方法</h3><pre><code class="hljs">实验环境：VSCode测试方法：输入原始bmp文件，运行程序，检查文件夹中生成相应的图像</code></pre><h3 id="五、实验结果展示"><a href="#五、实验结果展示" class="headerlink" title="五、实验结果展示"></a>五、实验结果展示</h3><p>原始图片(Lena)：</p><p><img src="file:///C:/Users/XYZ/Documents/WeChat%20Files/wxid_bsolpufiwdz622/FileStorage/Temp/6ba1ea31e3ed24ec3c8f862b1397524.png" title="" alt="6ba1ea31e3ed24ec3c8f862b1397524.png" width="385"></p><p>二值化图片：</p><p><img src="file:///C:/Users/XYZ/Documents/WeChat%20Files/wxid_bsolpufiwdz622/FileStorage/Temp/4f370b067bf6c372aba3f468ca9bdb4.png" title="" alt="4f370b067bf6c372aba3f468ca9bdb4.png" width="383"></p><p>erosion：</p><p><img src="file:///C:/Users/XYZ/Documents/WeChat%20Files/wxid_bsolpufiwdz622/FileStorage/Temp/848daf187445808be2a00859366356a.png" title="" alt="848daf187445808be2a00859366356a.png" width="385"></p><p>dilation：</p><p><img src="file:///C:/Users/XYZ/Documents/WeChat%20Files/wxid_bsolpufiwdz622/FileStorage/Temp/9e92991266504c17d06b7597960ddb6.png" title="" alt="9e92991266504c17d06b7597960ddb6.png" width="382"></p><p>opening:</p><p><img src="file:///C:/Users/XYZ/Documents/WeChat%20Files/wxid_bsolpufiwdz622/FileStorage/Temp/4c7c067e7961590ab6423b4a7c4ef09.png" title="" alt="4c7c067e7961590ab6423b4a7c4ef09.png" width="384"></p><p>closing: </p><p><img src="file:///C:/Users/XYZ/Documents/WeChat%20Files/wxid_bsolpufiwdz622/FileStorage/Temp/73d076d8f96a7e50f2140ae22c60085.png" title="" alt="73d076d8f96a7e50f2140ae22c60085.png" width="385"></p><h3 id="六、实验心得"><a href="#六、实验心得" class="headerlink" title="六、实验心得"></a>六、实验心得</h3><pre><code class="hljs">    实验过程中，我深切体会到理论与实践结合的重要性。这题目依旧是看着不难实际操作要考虑很多细节。实验中遇到最大的问题是threshold的otsu算法，希望是对的（大哭</code></pre>]]></content>
    
    
    <categories>
      
      <category>课程笔记</category>
      
      <category>2023-2024秋冬学期</category>
      
      <category>图像信息处理</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>FDSProject2Report</title>
    <link href="/2023/11/01/FDSProject2Report/"/>
    <url>/2023/11/01/FDSProject2Report/</url>
    
    <content type="html"><![CDATA[<h2 id=""><a href="#" class="headerlink" title=" "></a> </h2><style></style><p><img src="file:///C:/Users/XYZ/AppData/Local/Temp/msohtmlclip1/01/clip_image002.png" title="" alt="" data-align="center"></p><p><img src="file:///C:/Users/XYZ/AppData/Local/Temp/msohtmlclip1/01/clip_image004.png" title="" alt="" data-align="center"></p><h3 id="Chapter-1：Introduction"><a href="#Chapter-1：Introduction" class="headerlink" title="Chapter 1：Introduction"></a>Chapter 1：Introduction</h3><pre><code class="hljs">Differentiation is an indispensable part of advanced mathematics, but when the number of variables becomes too large, manual differentiation becomes particularly cumbersome. Consequently, we aim to write a program that automatically differentiates with respect to all the variables contained in an expression and provides the simplified results.</code></pre><h3 id="Chapter-2-：Algorithm-Specification"><a href="#Chapter-2-：Algorithm-Specification" class="headerlink" title="Chapter 2 ：Algorithm Specification"></a>Chapter 2 ：Algorithm Specification</h3><pre><code class="hljs">The data structures and definitions involved in this program are listed as follows.</code></pre><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">char</span> input[<span class="hljs-number">256</span>]; <span class="hljs-comment">// store the input algebraic expression</span><br><span class="hljs-type">int</span> varinum = <span class="hljs-number">0</span>; <span class="hljs-comment">// Counter for the number of different variables</span><br><span class="hljs-type">int</span> lenofpost = <span class="hljs-number">0</span>; <span class="hljs-comment">// Length of the postfix expression </span><br><span class="hljs-type">int</span> position = <span class="hljs-number">0</span>; <span class="hljs-comment">// Position index </span><br><span class="hljs-type">char</span> *<span class="hljs-built_in">stack</span>[<span class="hljs-number">256</span>]; <span class="hljs-comment">// store operators during expression parsing.</span><br><span class="hljs-type">int</span> top = <span class="hljs-number">-1</span>; <br><span class="hljs-type">int</span> lenofvari = <span class="hljs-number">-1</span>; <span class="hljs-comment">// Length of the variable list</span><br><br><span class="hljs-comment">// Define a structure for tree nodes</span><br><span class="hljs-keyword">typedef</span> <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">treeNode</span> &#123;</span><br>    <span class="hljs-type">char</span> value[<span class="hljs-number">8</span>]; <span class="hljs-comment">// String to store the value of the node</span><br>    <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">treeNode</span>* <span class="hljs-title">left</span>;</span> <br>    <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">treeNode</span>* <span class="hljs-title">right</span>;</span><br>&#125; Node;<br><br><span class="hljs-comment">// Define a structure to represent variables in the expression.</span><br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">variable</span> &#123;</span><br>    <span class="hljs-type">char</span> name[<span class="hljs-number">10</span>]; <span class="hljs-comment">// store the name of the variable</span><br>&#125; vari[<span class="hljs-number">256</span>]; <br></code></pre></td></tr></table></figure><h4 id="From-Infix-To-Postfix"><a href="#From-Infix-To-Postfix" class="headerlink" title="From Infix To Postfix"></a>From Infix To Postfix</h4><pre><code class="hljs">Then we need to convert the infix expression that has been read into a postfix expression before transforming it into an expression tree. Actually, it is possible to directly convert from an infix expression to an expression tree, but the aforementioned process is simpler and easier to understand. **The key point** during the conversion to a postfix expression is how to distinguish between variable names like &quot;x&quot; and &quot;xy&quot;, as well as function names such as &quot;log&quot; and &quot;pow&quot;.Converting an infix expression to a postfix expression involves a process where operators are moved after their operands. </code></pre><ol><li><p><strong>Create an Operator Stack:</strong> A stack is initialized to keep track of operators and to help with the precedence rules.</p></li><li><p><strong>Iterate through Characters in the Infix Expression:</strong> The function loops through each character of the infix expression.</p></li><li><p><strong>Handling Operands (Variables and Numbers):</strong></p><ul><li>If the character is an alphabetic letter, it may be part of a variable or a function like <code>sin</code>, <code>cos</code>, <code>ln</code>, etc.</li><li>For functions, the code checks for precedence before pushing them onto the stack.</li><li>If it is a standalone variable, it is directly moved to the postfix array.</li><li>Numbers are similarly directly moved to the postfix array.</li></ul></li><li><p><strong>Handling Operators:</strong></p><ul><li>When an operator is encountered, any operators on the stack with higher or equal precedence are popped from the stack and added to the postfix array.</li><li>The encountered operator is then pushed onto the stack.</li></ul></li><li><p><strong>Handling Parentheses:</strong></p><ul><li>An opening parenthesis <code>(</code> is pushed onto the stack.</li><li>If an opening parenthesis is immediately followed by a unary <code>+</code> or <code>-</code>, the code modifies the expression to handle it correctly.</li><li>A closing parenthesis <code>)</code> causes the stack to be popped until the corresponding opening parenthesis is encountered. The operators popped off are added to the postfix array.</li></ul></li><li><p><strong>Handling Functions with Arguments (like <code>log</code>, <code>pow</code>):</strong></p><ul><li>The code identifies functions with arguments by matching specific function names and then parses their arguments.</li><li>The arguments themselves are processed by a recursive call to <code>infixToPostfix</code>.</li><li>After processing the arguments, the function name is treated as an operator and handled accordingly.</li></ul></li><li><p><strong>Completing the Postfix Array:</strong></p><ul><li>After the entire infix expression has been read, any remaining operators on the stack are popped and added to the postfix array.</li></ul></li></ol><p>The <code>precedence</code> function (not shown in the code provided) likely determines the precedence of operators. The precedence rules define the order in which operators should be evaluated, typically: <code>()</code> &gt; <code>^</code> &gt; <code>*/</code> &gt; <code>+-</code>.</p><p>The <code>postfix</code> array holds the resulting postfix expression, and memory allocation is performed as needed for each token added to this array. Memory management is crucial in this process to avoid leaks.</p><pre><code class="hljs">**Warning**：It‘s so long and I know that you don&#39;t want to read it at all. Please pay attention to some special string like &quot;log&quot;&quot;exp&quot;</code></pre><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">void</span> <span class="hljs-title function_">infixToPostfix</span><span class="hljs-params">(<span class="hljs-type">char</span>* infix, <span class="hljs-type">char</span>* postfix[])</span> &#123; <br>    <span class="hljs-type">char</span> *<span class="hljs-built_in">stack</span>[<span class="hljs-number">256</span>]; <span class="hljs-comment">// create a operator stack to store operators</span><br>    <span class="hljs-type">int</span> top = <span class="hljs-number">-1</span>; <span class="hljs-comment">// top of the stack</span><br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-built_in">strlen</span>(infix) ;i++) &#123;<br>        <span class="hljs-type">char</span> ch = infix[i];<br>        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">isalpha</span>(ch)) &#123;<br>            <span class="hljs-type">int</span> posi = <span class="hljs-number">0</span>;<br>            <span class="hljs-type">char</span> name[<span class="hljs-number">10</span>];  <span class="hljs-comment">// get a name string</span><br>            <span class="hljs-keyword">while</span>(<span class="hljs-built_in">isalpha</span>(infix[i+posi]) &amp;&amp; infix[i+posi] != <span class="hljs-string">&#x27;\0&#x27;</span>)&#123;<br>                name[posi] = infix[i+posi];<br>                posi++;<br>            &#125;<br>            name[posi] = <span class="hljs-string">&#x27;\0&#x27;</span>; <span class="hljs-comment">// to distinguish between variable like</span><br>                               <span class="hljs-comment">// xy and xx</span><br><br>            <span class="hljs-keyword">if</span> (!<span class="hljs-built_in">strcmp</span>(name, <span class="hljs-string">&quot;ln&quot;</span>))&#123; <span class="hljs-comment">// read &quot;ln&quot;</span><br>                <span class="hljs-type">char</span> *chh;<br>                chh = (<span class="hljs-type">char</span>*)<span class="hljs-built_in">malloc</span>(<span class="hljs-keyword">sizeof</span>(<span class="hljs-type">char</span>) * <span class="hljs-number">10</span>);<br>                chh[<span class="hljs-number">0</span>] = <span class="hljs-string">&#x27;l&#x27;</span>,chh[<span class="hljs-number">1</span>] = <span class="hljs-string">&#x27;n&#x27;</span>,chh[<span class="hljs-number">2</span>] = <span class="hljs-string">&#x27;\0&#x27;</span>;<br>                <span class="hljs-keyword">while</span> (top &gt;= <span class="hljs-number">0</span> &amp;&amp; precedence(chh) &lt;= precedence(<span class="hljs-built_in">stack</span>[top]) ) &#123; <span class="hljs-comment">// check if the stack has &quot;^&quot;s on its top and pop them if yes</span><br>                    postfix[position] = (<span class="hljs-type">char</span>*)<span class="hljs-built_in">malloc</span>(<span class="hljs-number">11</span> * <span class="hljs-keyword">sizeof</span>(<span class="hljs-type">char</span>));<br>                    <span class="hljs-built_in">strcpy</span>(postfix[position++], <span class="hljs-built_in">stack</span>[top--]);<br>                &#125;<br>                <span class="hljs-built_in">stack</span>[++top] = chh;<br>                i ++;<br>            &#125;<br><br>            <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (!<span class="hljs-built_in">strcmp</span>(name, <span class="hljs-string">&quot;cos&quot;</span>))&#123;<br>                <span class="hljs-type">char</span> *chh;<br>                chh = (<span class="hljs-type">char</span>*)<span class="hljs-built_in">malloc</span>(<span class="hljs-keyword">sizeof</span>(<span class="hljs-type">char</span>) * <span class="hljs-number">10</span>);<br>                chh[<span class="hljs-number">0</span>] = <span class="hljs-string">&#x27;c&#x27;</span>,chh[<span class="hljs-number">1</span>] = <span class="hljs-string">&#x27;o&#x27;</span>,chh[<span class="hljs-number">2</span>] = <span class="hljs-string">&#x27;s&#x27;</span>,chh[<span class="hljs-number">3</span>] = <span class="hljs-string">&#x27;\0&#x27;</span>;<br>                <span class="hljs-keyword">while</span> (top &gt;= <span class="hljs-number">0</span> &amp;&amp; precedence(chh) &lt;= precedence(<span class="hljs-built_in">stack</span>[top]) ) &#123; <span class="hljs-comment">// check if the stack has &quot;^&quot;s on its top and pop them if yes</span><br>                    postfix[position] = (<span class="hljs-type">char</span>*)<span class="hljs-built_in">malloc</span>(<span class="hljs-number">11</span> * <span class="hljs-keyword">sizeof</span>(<span class="hljs-type">char</span>));<br>                    <span class="hljs-built_in">strcpy</span>(postfix[position++], <span class="hljs-built_in">stack</span>[top--]);<br>                &#125;<br>                <span class="hljs-built_in">stack</span>[++top] = chh;<br>                i += <span class="hljs-number">2</span>;<br>            &#125;<br><br>            <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (!<span class="hljs-built_in">strcmp</span>(name, <span class="hljs-string">&quot;sin&quot;</span>))&#123; <br>                <span class="hljs-type">char</span> *chh;<br>                chh = (<span class="hljs-type">char</span>*)<span class="hljs-built_in">malloc</span>(<span class="hljs-keyword">sizeof</span>(<span class="hljs-type">char</span>) * <span class="hljs-number">10</span>);<br>                chh[<span class="hljs-number">0</span>] = <span class="hljs-string">&#x27;s&#x27;</span>,chh[<span class="hljs-number">1</span>] = <span class="hljs-string">&#x27;i&#x27;</span>,chh[<span class="hljs-number">2</span>] = <span class="hljs-string">&#x27;n&#x27;</span>,chh[<span class="hljs-number">3</span>] = <span class="hljs-string">&#x27;\0&#x27;</span>;<br>                <span class="hljs-keyword">while</span> (top &gt;= <span class="hljs-number">0</span> &amp;&amp; precedence(chh) &lt;= precedence(<span class="hljs-built_in">stack</span>[top]) ) &#123; <span class="hljs-comment">// check if the stack has &quot;^&quot;s on its top and pop them if yes</span><br>                    postfix[position] = (<span class="hljs-type">char</span>*)<span class="hljs-built_in">malloc</span>(<span class="hljs-number">11</span> * <span class="hljs-keyword">sizeof</span>(<span class="hljs-type">char</span>));<br>                    <span class="hljs-built_in">strcpy</span>(postfix[position++], <span class="hljs-built_in">stack</span>[top--]);<br>                &#125;<br>                <span class="hljs-built_in">stack</span>[++top] = chh;<br>                i += <span class="hljs-number">2</span>;<br>            &#125;<br><br>            <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (!<span class="hljs-built_in">strcmp</span>(name, <span class="hljs-string">&quot;tan&quot;</span>))&#123;<br>                <span class="hljs-type">char</span> *chh;<br>                chh = (<span class="hljs-type">char</span>*)<span class="hljs-built_in">malloc</span>(<span class="hljs-keyword">sizeof</span>(<span class="hljs-type">char</span>) * <span class="hljs-number">10</span>);<br>                chh[<span class="hljs-number">0</span>] = <span class="hljs-string">&#x27;t&#x27;</span>,chh[<span class="hljs-number">1</span>] = <span class="hljs-string">&#x27;a&#x27;</span>,chh[<span class="hljs-number">2</span>] = <span class="hljs-string">&#x27;n&#x27;</span>,chh[<span class="hljs-number">3</span>] = <span class="hljs-string">&#x27;\0&#x27;</span>;<br>                <span class="hljs-keyword">while</span> (top &gt;= <span class="hljs-number">0</span> &amp;&amp; precedence(chh) &lt;= precedence(<span class="hljs-built_in">stack</span>[top]) ) &#123; <span class="hljs-comment">// check if the stack has &quot;^&quot;s on its top and pop them if yes</span><br>                    postfix[position] = (<span class="hljs-type">char</span>*)<span class="hljs-built_in">malloc</span>(<span class="hljs-number">11</span> * <span class="hljs-keyword">sizeof</span>(<span class="hljs-type">char</span>));<br>                    <span class="hljs-built_in">strcpy</span>(postfix[position++], <span class="hljs-built_in">stack</span>[top--]);<br>                &#125;<br>                <span class="hljs-built_in">stack</span>[++top] = chh;<br>                i += <span class="hljs-number">2</span>;<br>            &#125;<br><br>            <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (!<span class="hljs-built_in">strcmp</span>(name, <span class="hljs-string">&quot;exp&quot;</span>))&#123; <br>                <span class="hljs-type">char</span> *chh;<br>                chh = (<span class="hljs-type">char</span>*)<span class="hljs-built_in">malloc</span>(<span class="hljs-keyword">sizeof</span>(<span class="hljs-type">char</span>) * <span class="hljs-number">10</span>);<br>                chh[<span class="hljs-number">0</span>] = <span class="hljs-string">&#x27;e&#x27;</span>,chh[<span class="hljs-number">1</span>] = <span class="hljs-string">&#x27;x&#x27;</span>,chh[<span class="hljs-number">2</span>] = <span class="hljs-string">&#x27;p&#x27;</span>,chh[<span class="hljs-number">3</span>] = <span class="hljs-string">&#x27;\0&#x27;</span>;<br>                <span class="hljs-keyword">while</span> (top &gt;= <span class="hljs-number">0</span> &amp;&amp; precedence(chh) &lt;= precedence(<span class="hljs-built_in">stack</span>[top]) ) &#123; <span class="hljs-comment">// check if the stack has &quot;^&quot;s on its top and pop them if yes</span><br>                    postfix[position] = (<span class="hljs-type">char</span>*)<span class="hljs-built_in">malloc</span>(<span class="hljs-number">11</span> * <span class="hljs-keyword">sizeof</span>(<span class="hljs-type">char</span>));<br>                    <span class="hljs-built_in">strcpy</span>(postfix[position++], <span class="hljs-built_in">stack</span>[top--]);<br>                &#125;<br>                <span class="hljs-built_in">stack</span>[++top] = chh;<br>                i += <span class="hljs-number">2</span>;<br>            &#125;<br><br>            <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (!<span class="hljs-built_in">strcmp</span>(name, <span class="hljs-string">&quot;log&quot;</span>))&#123; <br>                <span class="hljs-type">char</span> *chh;<br>                chh = (<span class="hljs-type">char</span>*)<span class="hljs-built_in">malloc</span>(<span class="hljs-keyword">sizeof</span>(<span class="hljs-type">char</span>) * <span class="hljs-number">10</span>);<br>                chh[<span class="hljs-number">0</span>] = <span class="hljs-string">&#x27;l&#x27;</span>,chh[<span class="hljs-number">1</span>] = <span class="hljs-string">&#x27;o&#x27;</span>,chh[<span class="hljs-number">2</span>] = <span class="hljs-string">&#x27;g&#x27;</span>,chh[<span class="hljs-number">3</span>] = <span class="hljs-string">&#x27;\0&#x27;</span>;<br>                <span class="hljs-keyword">while</span> (top &gt;= <span class="hljs-number">0</span> &amp;&amp; precedence(chh) &lt;= precedence(<span class="hljs-built_in">stack</span>[top]) ) &#123; <span class="hljs-comment">// check if the stack has &quot;^&quot;s on its top and pop them if yes</span><br>                    postfix[position] = (<span class="hljs-type">char</span>*)<span class="hljs-built_in">malloc</span>(<span class="hljs-number">11</span> * <span class="hljs-keyword">sizeof</span>(<span class="hljs-type">char</span>));<br>                    <span class="hljs-built_in">strcpy</span>(postfix[position++], <span class="hljs-built_in">stack</span>[top--]);<br>                &#125;<br>                <span class="hljs-built_in">stack</span>[++top] = chh;<br>                i += <span class="hljs-number">4</span>;<br>                <span class="hljs-type">int</span> offset = <span class="hljs-number">0</span>; <br>                <span class="hljs-keyword">while</span>(infix[i + offset] != <span class="hljs-string">&#x27;,&#x27;</span>)&#123;<br>                    offset ++;<br>                &#125;<br>                <span class="hljs-type">char</span> LeftSubArray[<span class="hljs-number">256</span>];<br>                <span class="hljs-built_in">strncpy</span>(LeftSubArray, infix + i, offset);<br>                LeftSubArray[offset] = <span class="hljs-string">&#x27;\0&#x27;</span>;<br>                infixToPostfix(LeftSubArray, postfix);<br>                offset ++;<br>                <span class="hljs-type">int</span> current = offset;<br>                <span class="hljs-type">int</span> rightbracket = <span class="hljs-number">0</span>;<br>                <span class="hljs-type">int</span> leftbracket = <span class="hljs-number">0</span>;<br>                <span class="hljs-keyword">while</span>(rightbracket != leftbracket + <span class="hljs-number">1</span>)&#123;<br>                    <span class="hljs-keyword">if</span>(infix[i+offset] == <span class="hljs-string">&#x27;(&#x27;</span>) leftbracket ++;<br>                    <span class="hljs-keyword">if</span>(infix[i+offset] == <span class="hljs-string">&#x27;)&#x27;</span>) rightbracket ++;<br>                    offset ++; <br>                &#125;<br>                <span class="hljs-type">char</span> RightSubArray[<span class="hljs-number">256</span>];<br>                <span class="hljs-built_in">strncpy</span>(RightSubArray, infix + i + current, offset - current - <span class="hljs-number">1</span>);<br>                RightSubArray[offset - current - <span class="hljs-number">1</span>] = <span class="hljs-string">&#x27;\0&#x27;</span>;<br>                infixToPostfix(RightSubArray, postfix);<br>                offset --;<br>                i += offset;<br>            &#125;<br><br>            <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (!<span class="hljs-built_in">strcmp</span>(name, <span class="hljs-string">&quot;pow&quot;</span>))&#123;<br>                <span class="hljs-type">char</span> *chh;<br>                chh = (<span class="hljs-type">char</span>*)<span class="hljs-built_in">malloc</span>(<span class="hljs-keyword">sizeof</span>(<span class="hljs-type">char</span>) * <span class="hljs-number">10</span>);<br>                chh[<span class="hljs-number">0</span>] = <span class="hljs-string">&#x27;p&#x27;</span>,chh[<span class="hljs-number">1</span>] = <span class="hljs-string">&#x27;o&#x27;</span>,chh[<span class="hljs-number">2</span>] = <span class="hljs-string">&#x27;w&#x27;</span>,chh[<span class="hljs-number">3</span>] = <span class="hljs-string">&#x27;\0&#x27;</span>;<br>                <span class="hljs-keyword">while</span> (top &gt;= <span class="hljs-number">0</span> &amp;&amp; precedence(chh) &lt;= precedence(<span class="hljs-built_in">stack</span>[top]) ) &#123; <span class="hljs-comment">// check if the stack has &quot;^&quot;s on its top and pop them if yes</span><br>                    postfix[position] = (<span class="hljs-type">char</span>*)<span class="hljs-built_in">malloc</span>(<span class="hljs-number">11</span> * <span class="hljs-keyword">sizeof</span>(<span class="hljs-type">char</span>));<br>                    <span class="hljs-built_in">strcpy</span>(postfix[position++], <span class="hljs-built_in">stack</span>[top--]);<br>                &#125;<br>                <span class="hljs-built_in">stack</span>[++top] = chh;<br>                i += <span class="hljs-number">4</span>; <br>                <span class="hljs-type">int</span> offset = <span class="hljs-number">0</span>;<br>                <span class="hljs-keyword">while</span>(infix[i + offset] != <span class="hljs-string">&#x27;,&#x27;</span>)&#123;<br>                    offset ++;<br>                &#125;<br>                <span class="hljs-type">char</span> LeftSubArray[<span class="hljs-number">256</span>];<br>                <span class="hljs-built_in">strncpy</span>(LeftSubArray, infix + i, offset);<br>                LeftSubArray[offset] = <span class="hljs-string">&#x27;\0&#x27;</span>;<br>                infixToPostfix(LeftSubArray, postfix);<br>                offset ++;<br>                <span class="hljs-type">int</span> current = offset;<br>                <span class="hljs-type">int</span> rightbracket = <span class="hljs-number">0</span>;<br>                <span class="hljs-type">int</span> leftbracket = <span class="hljs-number">0</span>;<br>                <span class="hljs-keyword">while</span>(rightbracket != leftbracket + <span class="hljs-number">1</span>)&#123;<br>                    <span class="hljs-keyword">if</span>(infix[i+offset] == <span class="hljs-string">&#x27;(&#x27;</span>) leftbracket ++;<br>                    <span class="hljs-keyword">if</span>(infix[i+offset] == <span class="hljs-string">&#x27;)&#x27;</span>) rightbracket ++;<br>                    offset ++; <br>                &#125;<br>                <span class="hljs-type">char</span> RightSubArray[<span class="hljs-number">256</span>];<br>                <span class="hljs-built_in">strncpy</span>(RightSubArray, infix + i + current, offset - current - <span class="hljs-number">1</span>);<br>                RightSubArray[offset - current - <span class="hljs-number">1</span>] = <span class="hljs-string">&#x27;\0&#x27;</span>;<br>                infixToPostfix(RightSubArray, postfix);<br>                offset --;<br>                i += offset;<br>            &#125;<br><br>            <span class="hljs-keyword">else</span> &#123;<br>                <span class="hljs-type">int</span> flag = <span class="hljs-number">1</span>;<br>                <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> j = <span class="hljs-number">0</span>;j &lt;= lenofvari; j++)&#123;<br>                    <span class="hljs-keyword">if</span>(!<span class="hljs-built_in">strcmp</span>(vari[j].name, name))&#123;<br>                        flag = <span class="hljs-number">0</span>;<br>                        <span class="hljs-keyword">break</span>;<br>                    &#125;<br>                &#125;<br>                <span class="hljs-keyword">if</span>(flag) <span class="hljs-built_in">strcpy</span>(vari[++lenofvari].name, name);<br>                postfix[position] = (<span class="hljs-type">char</span>*)<span class="hljs-built_in">malloc</span>(<span class="hljs-number">11</span> * <span class="hljs-keyword">sizeof</span>(<span class="hljs-type">char</span>));<br>                <span class="hljs-built_in">strcpy</span>(postfix[position], name);<br>                position++;<br>                i += posi - <span class="hljs-number">1</span>;<br>            &#125;<br>        &#125;<br><br>        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(isnumber(ch))&#123;<br>            <span class="hljs-type">int</span> posi = <span class="hljs-number">0</span>;<br>            <span class="hljs-type">char</span> name[<span class="hljs-number">10</span>];  <br>            <span class="hljs-keyword">while</span>(isnumber(infix[i+posi]) &amp;&amp; infix[i+posi] != <span class="hljs-string">&#x27;\0&#x27;</span>)&#123;<br>                name[posi] = infix[i+posi];<br>                posi++;<br>            &#125;<br>            name[posi] = <span class="hljs-string">&#x27;\0&#x27;</span>;<br>            postfix[position] = (<span class="hljs-type">char</span>*)<span class="hljs-built_in">malloc</span>(<span class="hljs-number">11</span> * <span class="hljs-keyword">sizeof</span>(<span class="hljs-type">char</span>));<br>            <span class="hljs-built_in">strcpy</span>(postfix[position], name);<br>            position++;<br><br>            i += posi - <span class="hljs-number">1</span>;<br>        &#125;<br><br>        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (ch == <span class="hljs-string">&#x27;^&#x27;</span>) &#123;<br>            <span class="hljs-type">char</span> *chh;<br>            chh = (<span class="hljs-type">char</span>*)<span class="hljs-built_in">malloc</span>(<span class="hljs-keyword">sizeof</span>(<span class="hljs-type">char</span>) * <span class="hljs-number">10</span>);<br>            chh[<span class="hljs-number">0</span>] = ch,chh[<span class="hljs-number">1</span>] = <span class="hljs-string">&#x27;\0&#x27;</span>;<br>            <span class="hljs-keyword">while</span> (top &gt;= <span class="hljs-number">0</span> &amp;&amp; precedence(chh) &lt;= precedence(<span class="hljs-built_in">stack</span>[top]) ) &#123; <span class="hljs-comment">// check if the stack has &quot;^&quot;s on its top and pop them if yes</span><br>                postfix[position] = (<span class="hljs-type">char</span>*)<span class="hljs-built_in">malloc</span>(<span class="hljs-number">11</span> * <span class="hljs-keyword">sizeof</span>(<span class="hljs-type">char</span>));<br>                <span class="hljs-built_in">strcpy</span>(postfix[position++], <span class="hljs-built_in">stack</span>[top--]);<br>            &#125;<br>            <span class="hljs-built_in">stack</span>[++top] = chh;<br>        &#125;<br><br>        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (ch == <span class="hljs-string">&#x27;*&#x27;</span> || ch == <span class="hljs-string">&#x27;/&#x27;</span>) &#123;<br>            <span class="hljs-comment">// pop all the operators on stack top having a precedence prior to the present char</span><br>            <span class="hljs-type">char</span> *chh;<br>            chh = (<span class="hljs-type">char</span>*)<span class="hljs-built_in">malloc</span>(<span class="hljs-keyword">sizeof</span>(<span class="hljs-type">char</span>) * <span class="hljs-number">10</span>);<br>            chh[<span class="hljs-number">0</span>] = ch,chh[<span class="hljs-number">1</span>] = <span class="hljs-string">&#x27;\0&#x27;</span>;<br>            <span class="hljs-keyword">while</span> (top &gt;= <span class="hljs-number">0</span> &amp;&amp; precedence(chh) &lt;= precedence(<span class="hljs-built_in">stack</span>[top])) &#123;  <br>                postfix[position] = (<span class="hljs-type">char</span>*)<span class="hljs-built_in">malloc</span>(<span class="hljs-number">11</span> * <span class="hljs-keyword">sizeof</span>(<span class="hljs-type">char</span>));<br>                <span class="hljs-built_in">strcpy</span>(postfix[position++], <span class="hljs-built_in">stack</span>[top--]);<br>            &#125;<br>            <span class="hljs-built_in">stack</span>[++top] = chh;<br>        &#125;<br><br>        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (ch == <span class="hljs-string">&#x27;+&#x27;</span> || ch == <span class="hljs-string">&#x27;-&#x27;</span>) &#123;<br>            <span class="hljs-type">char</span> *chh;<br>            chh = (<span class="hljs-type">char</span>*)<span class="hljs-built_in">malloc</span>(<span class="hljs-keyword">sizeof</span>(<span class="hljs-type">char</span>) * <span class="hljs-number">10</span>);<br>            chh[<span class="hljs-number">0</span>] = ch,chh[<span class="hljs-number">1</span>] = <span class="hljs-string">&#x27;\0&#x27;</span>;<br>            <span class="hljs-comment">/*if(top &gt;= 0) printf(&quot;top = %d stacktop = %s&quot;,top,stack[top]);*/</span><br>            <span class="hljs-keyword">while</span> (top &gt;= <span class="hljs-number">0</span> &amp;&amp; precedence(chh) &lt;= precedence(<span class="hljs-built_in">stack</span>[top])) &#123;<br>                postfix[position] = (<span class="hljs-type">char</span>*)<span class="hljs-built_in">malloc</span>(<span class="hljs-number">11</span> * <span class="hljs-keyword">sizeof</span>(<span class="hljs-type">char</span>));<br>                <span class="hljs-built_in">strcpy</span>(postfix[position++], <span class="hljs-built_in">stack</span>[top--]);<br>            &#125;<br>            <span class="hljs-built_in">stack</span>[++top] =  chh;<br><br>        &#125;<br>        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (ch == <span class="hljs-string">&#x27;(&#x27;</span>) &#123;<br>            <span class="hljs-type">char</span> *chh;<br>            chh = (<span class="hljs-type">char</span>*)<span class="hljs-built_in">malloc</span>(<span class="hljs-keyword">sizeof</span>(<span class="hljs-type">char</span>) * <span class="hljs-number">10</span>);<br>            chh[<span class="hljs-number">0</span>] = ch,chh[<span class="hljs-number">1</span>] = <span class="hljs-string">&#x27;\0&#x27;</span>;<br>            <span class="hljs-built_in">stack</span>[++top] = chh;<br>            <span class="hljs-keyword">if</span>(infix[i+<span class="hljs-number">1</span>] == <span class="hljs-string">&#x27;+&#x27;</span> || infix[i+<span class="hljs-number">1</span>] == <span class="hljs-string">&#x27;-&#x27;</span>)&#123;<br>                infix[i] = <span class="hljs-string">&#x27;0&#x27;</span>;<br>                i--;<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (ch == <span class="hljs-string">&#x27;)&#x27;</span>) &#123;<br>            <span class="hljs-keyword">while</span> (top &gt;= <span class="hljs-number">0</span> &amp;&amp; <span class="hljs-built_in">strcmp</span>(<span class="hljs-built_in">stack</span>[top], <span class="hljs-string">&quot;(&quot;</span>)) &#123;<br>                postfix[position] = (<span class="hljs-type">char</span>*)<span class="hljs-built_in">malloc</span>(<span class="hljs-number">11</span> * <span class="hljs-keyword">sizeof</span>(<span class="hljs-type">char</span>));<br>                <span class="hljs-built_in">strcpy</span>(postfix[position++], <span class="hljs-built_in">stack</span>[top--]);<br>            &#125;<br>            --top;  <span class="hljs-comment">// pop&#x27;(&#x27;</span><br>        &#125;<br><br><br>    &#125;<br>    <span class="hljs-keyword">while</span> (top &gt;= <span class="hljs-number">0</span>) &#123;<br>        postfix[position] = (<span class="hljs-type">char</span>*)<span class="hljs-built_in">malloc</span>(<span class="hljs-number">11</span> * <span class="hljs-keyword">sizeof</span>(<span class="hljs-type">char</span>));<br>        <span class="hljs-built_in">strcpy</span>(postfix[position++], <span class="hljs-built_in">stack</span>[top--]);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="Create-Expression-Tree"><a href="#Create-Expression-Tree" class="headerlink" title="Create Expression Tree"></a>Create Expression Tree</h4><pre><code class="hljs">Now we&#39;ve got postfix expression and the next step is to create an expression tree from postfix expression.Creating an expression tree from a postfix expression involves the following steps:</code></pre><ol><li><p><strong>Initialize an Empty Stack</strong>: Begin by creating an empty stack that will be used to hold nodes of the expression tree.</p></li><li><p><strong>Iterate Over Postfix Elements</strong>: Process each element in the postfix expression from left to right.</p></li><li><p><strong>Create Nodes for Operands and Operators</strong>:</p><ul><li><strong>Operands</strong>: When you encounter an operand (a number or a variable), create a tree node with no children (since operands are leaves in the expression tree) and push it onto the stack.</li><li><strong>Operators</strong>: When you encounter an operator:<ul><li>For a <strong>binary operator</strong> (like <code>+</code>, <code>-</code>, <code>*</code>, <code>/</code>, <code>pow</code>, <code>log</code>), pop the top two nodes from the stack. The second node popped is the left child, and the first node popped is the right child of the operator node. Then, push the newly created operator node back onto the stack.</li><li>For a <strong>unary operator</strong> (like <code>sin</code>, <code>cos</code>, <code>exp</code>, <code>ln</code>), pop the top node from the stack and make it the right child of the operator node (unary operators usually have only one operand). Then, push the operator node onto the stack.</li></ul></li></ul></li><li><p><strong>Handle Special Cases</strong>:</p><ul><li>If there is an operator with different arity (number of operands), special handling is needed to correctly assign children.</li><li>Additionally, if the stack runs out of elements prematurely or contains extra elements at the end, this might indicate an error in the postfix expression.</li></ul></li><li><p><strong>Complete the Tree</strong>: After processing all elements of the postfix expression, the stack should have only one element left. This single element is the root of the constructed expression tree.</p></li><li><p><strong>Return the Expression Tree</strong>: The final tree represents the hierarchical structure of the postfix expression and can be used to evaluate the expression or to convert it to other forms (like infix or prefix).</p></li></ol><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-comment">// Function to create an expression tree from a postfix expression.</span><br><span class="hljs-comment">// postfix: An array of strings representing the postfix expression</span><br><span class="hljs-comment">// len: The length of the postfix expression</span><br>Node* <span class="hljs-title function_">createExpressionTree</span><span class="hljs-params">(<span class="hljs-type">char</span>** postfix, <span class="hljs-type">int</span> len)</span> &#123;<br>    <span class="hljs-comment">// Initialize an array of Node pointers as a stack to store nodes</span><br>    Node* <span class="hljs-built_in">stack</span>[<span class="hljs-built_in">strlen</span>(input)];<br>    <span class="hljs-type">int</span> top = <span class="hljs-number">-1</span>; <span class="hljs-comment">// Stack top pointer initialized to -1 indicating an empty stack</span><br><br>    <span class="hljs-comment">// Iterate over each element in the postfix expression</span><br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; len; i++) &#123;<br>        <span class="hljs-comment">// Create a new node for the current element</span><br>        Node* node = createNode(postfix[i]);<br><br>        <span class="hljs-comment">// Check if the current element is an alphabet or a number</span><br>        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">isalpha</span>(postfix[i][<span class="hljs-number">0</span>]) || isnumber(postfix[i][<span class="hljs-number">0</span>])) &#123;<br>            <span class="hljs-comment">// Check for unary operators that have only one operand (right child)</span><br>            <span class="hljs-keyword">if</span>(!<span class="hljs-built_in">strcmp</span>(node-&gt;value, <span class="hljs-string">&quot;ln&quot;</span>) || !<span class="hljs-built_in">strcmp</span>(node-&gt;value, <span class="hljs-string">&quot;cos&quot;</span>) ||<br>               !<span class="hljs-built_in">strcmp</span>(node-&gt;value, <span class="hljs-string">&quot;sin&quot;</span>) || !<span class="hljs-built_in">strcmp</span>(node-&gt;value, <span class="hljs-string">&quot;tan&quot;</span>) ||<br>               !<span class="hljs-built_in">strcmp</span>(node-&gt;value, <span class="hljs-string">&quot;exp&quot;</span>)) &#123;<br>                node-&gt;right = <span class="hljs-built_in">stack</span>[top--]; <span class="hljs-comment">// Pop the top of the stack to the right child</span><br>                <span class="hljs-built_in">stack</span>[++top] = node; <span class="hljs-comment">// Push the new node to the top of the stack</span><br>            &#125;<br>            <span class="hljs-comment">// Check for binary operators that have two operands (left and right children)</span><br>            <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(!<span class="hljs-built_in">strcmp</span>(node-&gt;value, <span class="hljs-string">&quot;log&quot;</span>) || !<span class="hljs-built_in">strcmp</span>(node-&gt;value, <span class="hljs-string">&quot;pow&quot;</span>))&#123;<br>                node-&gt;right = <span class="hljs-built_in">stack</span>[top--]; <span class="hljs-comment">// Pop the top of the stack to the right child</span><br>                node-&gt;left = <span class="hljs-built_in">stack</span>[top--]; <span class="hljs-comment">// Pop the next top of the stack to the left child</span><br>                <span class="hljs-built_in">stack</span>[++top] = node; <span class="hljs-comment">// Push the new node to the top of the stack</span><br>            &#125;<br>            <span class="hljs-keyword">else</span>&#123;<br>                <span class="hljs-comment">// For operands, simply push the node onto the stack</span><br>                <span class="hljs-built_in">stack</span>[++top] = node;<br>            &#125;<br>        &#125; <span class="hljs-keyword">else</span> &#123;<br>            <span class="hljs-comment">// For other operators (assumed binary), pop two nodes as right and left children</span><br>            <span class="hljs-keyword">if</span>(top &gt;= <span class="hljs-number">1</span>)&#123;<br>                node-&gt;right = <span class="hljs-built_in">stack</span>[top--]; <span class="hljs-comment">// Pop the top of the stack to the right child</span><br>                node-&gt;left = <span class="hljs-built_in">stack</span>[top--]; <span class="hljs-comment">// Pop the next top of the stack to the left child</span><br>                <span class="hljs-built_in">stack</span>[++top] = node; <span class="hljs-comment">// Push the new node to the top of the stack</span><br>            &#125;<br>            <span class="hljs-keyword">else</span>&#123;<br>                <span class="hljs-comment">// If there&#x27;s only one element in the stack, just pop the top for the right child</span><br>                node-&gt;right = <span class="hljs-built_in">stack</span>[top--];<br>                <span class="hljs-built_in">stack</span>[++top] = node; <span class="hljs-comment">// Push the new node to the top of the stack</span><br>            &#125;<br>        &#125;<br>    &#125;<br>    <span class="hljs-comment">// The top of the stack now holds the root of the expression tree</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-built_in">stack</span>[top];<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="Differentiate-The-Most-Important-Part"><a href="#Differentiate-The-Most-Important-Part" class="headerlink" title="Differentiate(The Most Important Part!!!)"></a>Differentiate(The Most Important Part!!!)</h4><pre><code class="hljs">Now we get a postfix expression based on which we could differentiate for every variable recursively.The principles involved are listed as following:The provided code is a C function designed to compute the derivative of a mathematical expression represented as a binary tree, where each node can be an operand, a variable, or an operator. The purpose of the function is to differentiate the expression with respect to a given variable and return the result as a string.</code></pre><p>Here are the key concepts and processes used in the code:</p><ol><li><p><strong>Recursive Traversal</strong>:<br>The function processes various mathematical operations by recursively traversing the expression tree.</p></li><li><p><strong>Basic Derivative Rules</strong>:</p><ul><li>The derivative of a variable (e.g., <code>x</code>) is <code>1</code>.</li><li>The derivative of a constant or an expression that does not contain the variable is <code>0</code>.</li></ul></li><li><p><strong>Sum and Difference Rule</strong>:</p><ul><li>The derivative of <code>f + g</code> is <code>f&#39; + g&#39;</code>.</li><li>The derivative of <code>f - g</code> is <code>f&#39; - g&#39;</code>.</li></ul></li><li><p><strong>Product Rule</strong>:</p><ul><li>The derivative of <code>f * g</code> is <code>f&#39; * g + f * g&#39;</code>.</li></ul></li><li><p><strong>Quotient Rule</strong>:</p><ul><li>The derivative of <code>f / g</code> is <code>(f&#39; * g - f * g&#39;) / g^2</code>.</li></ul></li><li><p><strong>Chain Rule for Composite Functions</strong>:</p><ul><li>The derivatives of functions like <code>sin</code>, <code>cos</code>, <code>tan</code>, <code>ln</code>, <code>exp</code>, <code>pow</code>, etc., are computed using the chain rule.</li></ul></li><li><p><strong>Power Function Derivative</strong>:</p><ul><li>The derivative of <code>f^g</code> is <code>g * f^(g-1) * f&#39; + ln(f) * g&#39; * f^g</code>.</li></ul></li><li><p><strong>String Operations</strong>:</p><ul><li>The <code>strcat</code> function is used to append the derivative results to the string <code>result</code>.</li></ul></li><li><p><strong>Helper Functions</strong>:</p><ul><li>The <code>checkNode</code> function is assumed to check if a node contains the variable.</li><li>The <code>inorderTraversal</code> function is assumed to perform an in-order traversal of the tree and append the expression to the result string.</li></ul></li><li><p><strong>Handling Special Functions</strong>:</p><ul><li>The derivatives of special mathematical functions (like <code>log</code>) are calculated using specific rules.</li></ul></li></ol><h4 id="Simplify"><a href="#Simplify" class="headerlink" title="Simplify"></a>Simplify</h4><pre><code class="hljs">Aftering differentiating, we may gets millions of brackets. It&#39;s so horrible because the purpose of programming is to make human being more relaxed rather than hit them with nauseating expressions.</code></pre><ol><li><p><strong>Recursive Simplification</strong>:</p><ul><li>The function first recursively calls <code>simplify</code> on the left and right child nodes.</li><li>After simplifying the child nodes, it attempts to simplify the current node.</li></ul></li><li><p><strong>Handling Addition (+)</strong>:</p><ul><li>If either child is ‘0’, it is an additive identity and can be removed (e.g., <code>x + 0</code> simplifies to <code>x</code>).</li><li>If both children are ‘0’, the entire expression simplifies to ‘0’.</li></ul></li><li><p><strong>Handling Subtraction (-)</strong>:</p><ul><li>If the left child is ‘0’ and the right child is also ‘0’, the expression simplifies to ‘0’.</li><li>If there is no left child and the right child is ‘0’, the expression simplifies to an empty string (effectively removing the node).</li><li>If the left child is ‘0’, the expression simplifies to the negative of the right child (e.g., <code>0 - x</code> simplifies to <code>-x</code>).</li><li>If the right child is ‘0’, it can be removed, leaving just the left child.</li><li>If both children are numeric, their values are subtracted and the result is stored in the current node.</li></ul></li><li><p><strong>Handling Multiplication (*)</strong>:</p><ul><li>If either child is ‘0’, the entire expression simplifies to ‘0’ due to the multiplicative zero property.</li><li>If both children are ‘1’, it simplifies to ‘1’ due to the multiplicative identity.</li><li>If one child is ‘1’, it can be removed, leaving the other child.</li></ul></li><li><p><strong>Handling Division (/)</strong>:</p><ul><li>If the left child is ‘0’, the entire expression simplifies to ‘0’.</li><li>If the right child is ‘1’, it can be removed, leaving just the left child.</li></ul></li><li><p><strong>Handling Power (^)</strong>:</p><ul><li>If the left child is ‘0’, the entire expression simplifies to ‘0’.</li><li>If the right child is ‘0’, the expression simplifies to ‘1’.</li><li>If the right child is ‘1’, the expression simplifies to the left child.</li></ul></li><li><p><strong>Handling Logarithmic (log) and Natural Logarithm (ln) Functions</strong>:</p><ul><li>If the argument of <code>log</code> or <code>ln</code> is ‘1’, the expression simplifies to ‘0’.</li><li>For <code>log</code>, if the base and the argument are the same, the expression simplifies to ‘1’.</li></ul></li><li><p><strong>Handling Trigonometric Functions (cos, sin, tan)</strong>:</p><ul><li>For <code>cos</code>, if the argument is ‘0’, the expression simplifies to ‘1’.</li><li>For <code>sin</code> and <code>tan</code>, if the argument is ‘0’, the expression simplifies to ‘0’.</li></ul></li><li><p><strong>Cleaning Up</strong>:</p><ul><li>After simplification, the current node’s children are set to <code>NULL</code>, indicating that they are no longer part of the simplified expression.</li></ul></li><li><p><strong>String Operations</strong>:</p></li></ol><ul><li>Uses <code>strcpy</code> and <code>strcat</code> to manipulate the <code>value</code> within the nodes.</li><li>Uses <code>sprintf</code> to convert the result of numeric computations back to a string.</li></ul><h4 id="Get-InorderTraversal"><a href="#Get-InorderTraversal" class="headerlink" title="Get InorderTraversal"></a>Get InorderTraversal</h4><pre><code class="hljs">In the end, we need to inordertraverse the expression tree to get the result in infix expression.</code></pre><ol><li><p><strong>Base Case</strong>:</p><ul><li>The function returns immediately if the current node is <code>NULL</code>.</li></ul></li><li><p><strong>Handling Binary Operators (+, -, *, /)</strong>:</p><ul><li>For nodes containing binary operators, it adds a left parenthesis before recursively traversing the left subtree.</li></ul></li><li><p><strong>Handling Functions (log, pow, ln, cos, sin, tan, exp)</strong>:</p><ul><li>For nodes representing functions like <code>log</code> and <code>pow</code>, it appends the function name, followed by a left parenthesis.</li><li>It then recursively calls itself on the left and right children (if applicable), separated by a comma for <code>log</code> and <code>pow</code>.</li><li>For functions like <code>ln</code>, <code>cos</code>, <code>sin</code>, <code>tan</code>, and <code>exp</code> that take a single argument, it calls itself on the right child only.</li></ul></li><li><p><strong>Handling Operands (Variables and Numbers)</strong>:</p><ul><li>For nodes containing a variable or number, it appends the node value directly to the result string.</li><li>It then continues the traversal to the right child, if any.</li></ul></li><li><p><strong>Recursive Traversal</strong>:</p><ul><li>For other nodes, it first recursively traverses the left child, then appends the node’s value, and finally traverses the right child.</li></ul></li><li><p><strong>Closing Parentheses for Binary Operators</strong>:</p><ul><li>After traversing both subtrees of a binary operator, it adds a right parenthesis to complete the expression.</li></ul></li><li><p><strong>String Concatenation</strong>:</p><ul><li>Uses strcat<code>to append characters to the</code>result string.</li></ul></li></ol><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-comment">// Function to perform an in-order traversal of a binary tree to</span><br><span class="hljs-comment">// create a string representation of a mathematical expression.</span><br><span class="hljs-type">void</span> <span class="hljs-title function_">inorderTraversal</span><span class="hljs-params">(Node* node, <span class="hljs-type">char</span>* result)</span> &#123;<br>    <span class="hljs-comment">// Base case: If the current node is NULL, do nothing.</span><br>    <span class="hljs-keyword">if</span> (node == <span class="hljs-literal">NULL</span>) <span class="hljs-keyword">return</span>;<br><br>    <span class="hljs-comment">// Check if the current node is a binary operator.</span><br>    <span class="hljs-keyword">if</span> (!<span class="hljs-built_in">strcmp</span>(node-&gt;value, <span class="hljs-string">&quot;+&quot;</span>) || !<span class="hljs-built_in">strcmp</span>(node-&gt;value, <span class="hljs-string">&quot;-&quot;</span>) ||<br>        !<span class="hljs-built_in">strcmp</span>(node-&gt;value, <span class="hljs-string">&quot;*&quot;</span>) || !<span class="hljs-built_in">strcmp</span>(node-&gt;value, <span class="hljs-string">&quot;/&quot;</span>)) &#123;<br>        <span class="hljs-built_in">strcat</span>(result, <span class="hljs-string">&quot;(&quot;</span>);  <span class="hljs-comment">// Add a left parenthesis before the expression.</span><br>    &#125;<br><br>    <span class="hljs-comment">// Handle special function nodes like &#x27;log&#x27; and &#x27;pow&#x27;.</span><br>    <span class="hljs-keyword">if</span> (!<span class="hljs-built_in">strcmp</span>(node-&gt;value, <span class="hljs-string">&quot;log&quot;</span>) || !<span class="hljs-built_in">strcmp</span>(node-&gt;value, <span class="hljs-string">&quot;pow&quot;</span>)) &#123;<br>        <span class="hljs-built_in">strcat</span>(result, node-&gt;value);  <span class="hljs-comment">// Append the function name.</span><br>        <span class="hljs-built_in">strcat</span>(result, <span class="hljs-string">&quot;(&quot;</span>);<br>        inorderTraversal(node-&gt;left, result);  <span class="hljs-comment">// Traverse the left subtree.</span><br>        <span class="hljs-built_in">strcat</span>(result, <span class="hljs-string">&quot;,&quot;</span>);<br>        inorderTraversal(node-&gt;right, result); <span class="hljs-comment">// Traverse the right subtree.</span><br>        <span class="hljs-built_in">strcat</span>(result, <span class="hljs-string">&quot;)&quot;</span>);<br>    &#125;<br>    <span class="hljs-comment">// Handle single-argument functions like &#x27;ln&#x27;, &#x27;cos&#x27;, &#x27;sin&#x27;, &#x27;tan&#x27;, &#x27;exp&#x27;.</span><br>    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (!<span class="hljs-built_in">strcmp</span>(node-&gt;value, <span class="hljs-string">&quot;ln&quot;</span>) || !<span class="hljs-built_in">strcmp</span>(node-&gt;value, <span class="hljs-string">&quot;cos&quot;</span>) ||<br>             !<span class="hljs-built_in">strcmp</span>(node-&gt;value, <span class="hljs-string">&quot;sin&quot;</span>) || !<span class="hljs-built_in">strcmp</span>(node-&gt;value, <span class="hljs-string">&quot;tan&quot;</span>) ||<br>             !<span class="hljs-built_in">strcmp</span>(node-&gt;value, <span class="hljs-string">&quot;exp&quot;</span>)) &#123;<br>        <span class="hljs-built_in">strcat</span>(result, node-&gt;value);  <span class="hljs-comment">// Append the function name.</span><br>        <span class="hljs-built_in">strcat</span>(result, <span class="hljs-string">&quot;(&quot;</span>);<br>        inorderTraversal(node-&gt;right, result); <span class="hljs-comment">// Traverse the right subtree.</span><br>        <span class="hljs-built_in">strcat</span>(result, <span class="hljs-string">&quot;)&quot;</span>);<br>    &#125;<br>    <span class="hljs-comment">// Handle operands such as variables and numbers.</span><br>    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-built_in">isalpha</span>(node-&gt;value[<span class="hljs-number">0</span>]) || isnumber(node-&gt;value[<span class="hljs-number">0</span>])) &#123;<br>        <span class="hljs-built_in">strcat</span>(result, node-&gt;value);  <span class="hljs-comment">// Append the operand value.</span><br>        inorderTraversal(node-&gt;right, result); <span class="hljs-comment">// Continue traversal if there&#x27;s a right child.</span><br>    &#125;<br>    <span class="hljs-comment">// For other operators, perform in-order traversal.</span><br>    <span class="hljs-keyword">else</span> &#123;<br>        inorderTraversal(node-&gt;left, result);  <span class="hljs-comment">// Traverse the left subtree.</span><br>        <span class="hljs-built_in">strcat</span>(result, node-&gt;value);  <span class="hljs-comment">// Append the operator.</span><br>        inorderTraversal(node-&gt;right, result); <span class="hljs-comment">// Traverse the right subtree.</span><br>    &#125;<br><br>    <span class="hljs-comment">// If the current node is a binary operator, close the parentheses.</span><br>    <span class="hljs-keyword">if</span> (!<span class="hljs-built_in">strcmp</span>(node-&gt;value, <span class="hljs-string">&quot;+&quot;</span>) || !<span class="hljs-built_in">strcmp</span>(node-&gt;value, <span class="hljs-string">&quot;-&quot;</span>) ||<br>        !<span class="hljs-built_in">strcmp</span>(node-&gt;value, <span class="hljs-string">&quot;*&quot;</span>) || !<span class="hljs-built_in">strcmp</span>(node-&gt;value, <span class="hljs-string">&quot;/&quot;</span>)) &#123;<br>        <span class="hljs-built_in">strcat</span>(result, <span class="hljs-string">&quot;)&quot;</span>);  <span class="hljs-comment">// Add a right parenthesis after the expression.</span><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="Chapter-3-Testing-results"><a href="#Chapter-3-Testing-results" class="headerlink" title="Chapter 3 Testing results"></a>Chapter 3 Testing results</h3><p>Input: <strong>a+b^c*d</strong></p><p>Result:</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs c">a: (<span class="hljs-number">1</span>)<br>Simplified derivative of variable <span class="hljs-string">&#x27;a&#x27;</span>: <span class="hljs-number">1</span><br>b: (((d)*((c*b^(c<span class="hljs-number">-1</span>)*<span class="hljs-number">1</span>))))<br>Simplified derivative of variable <span class="hljs-string">&#x27;b&#x27;</span>: (d*(c*b^(c<span class="hljs-number">-1</span>)))<br>c: (((d)*(ln(b)*<span class="hljs-number">1</span>*b^c))))<br>Simplified derivative of variable <span class="hljs-string">&#x27;c&#x27;</span>: (d*(ln(b)*b^c))<br>d: ((b^c)*<span class="hljs-number">1</span>)<br>Simplified derivative of variable <span class="hljs-string">&#x27;d&#x27;</span>: b^c<br></code></pre></td></tr></table></figure><p>Input: <strong>a*10*b+2^a/a</strong></p><p>Result:</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs c">a: ((b)*(((<span class="hljs-number">10</span>)*(<span class="hljs-number">1</span>))))+((ln(<span class="hljs-number">2</span>)*<span class="hljs-number">1</span>*<span class="hljs-number">2</span>^a))/(a)-(<span class="hljs-number">1</span>*<span class="hljs-number">2</span>^a)/a^<span class="hljs-number">2</span>)<br>Simplified derivative of variable <span class="hljs-string">&#x27;a&#x27;</span>: (((b*<span class="hljs-number">10</span>)+((ln(<span class="hljs-number">2</span>)*<span class="hljs-number">2</span>^a)/a))-(<span class="hljs-number">2</span>^a/a^<span class="hljs-number">2</span>))<br>b: (((a*<span class="hljs-number">10</span>))*<span class="hljs-number">1</span>)<br>Simplified derivative of variable <span class="hljs-string">&#x27;b&#x27;</span>: (a*<span class="hljs-number">10</span>)<br></code></pre></td></tr></table></figure><p>Input: <strong>xx^2/xy*xy+a^a</strong></p><p>Result:</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs c">a: ((a*a^(a<span class="hljs-number">-1</span>)*<span class="hljs-number">1</span>+ln(a)*<span class="hljs-number">1</span>*a^a))<br>Simplified derivative of variable <span class="hljs-string">&#x27;a&#x27;</span>: ((a*a^(a<span class="hljs-number">-1</span>))+(ln(a)*a^a))<br>xx: (((xy)*(((<span class="hljs-number">2</span>*xx^(<span class="hljs-number">2</span><span class="hljs-number">-1</span>)*<span class="hljs-number">1</span>)/xy))))<br>Simplified derivative of variable <span class="hljs-string">&#x27;xx&#x27;</span>: (xy*((<span class="hljs-number">2</span>*xx)/xy))<br>xy: (((xx^<span class="hljs-number">2</span>/xy)*<span class="hljs-number">1</span>+xy*(<span class="hljs-number">-1</span>*xx^<span class="hljs-number">2</span>/xy^<span class="hljs-number">2</span>)))<br>Simplified derivative of variable <span class="hljs-string">&#x27;xy&#x27;</span>: ((xx^<span class="hljs-number">2</span>/xy)+(xy*(-(xx^<span class="hljs-number">2</span>/xy^<span class="hljs-number">2</span>))))<br></code></pre></td></tr></table></figure><p>Input: <strong>x*ln(y)</strong></p><p>Result:</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs c">x: ((ln(y))*(<span class="hljs-number">1</span>))<br>Simplified derivative of variable <span class="hljs-string">&#x27;x&#x27;</span>: ln(y)<br>y: (x)*(<span class="hljs-number">1</span>/y)<br>Simplified derivative of variable <span class="hljs-string">&#x27;y&#x27;</span>: (x*(<span class="hljs-number">1</span>/y))<br></code></pre></td></tr></table></figure><p>Input: <strong>x*ln(x*y)+y*cos(x)+y*sin(2*x)</strong></p><p>Result:</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs c">x: (x*(((y)*(<span class="hljs-number">1</span>))/(x*y))+ln((x*y))*<span class="hljs-number">1</span>)+(y)*(-<span class="hljs-built_in">sin</span>(x)*(<span class="hljs-number">1</span>))+(y)*(<span class="hljs-built_in">cos</span>((<span class="hljs-number">2</span>*x))*((<span class="hljs-number">2</span>)*<span class="hljs-number">1</span>))<br>Simplified derivative of variable <span class="hljs-string">&#x27;x&#x27;</span>: ((((x*(y/(x*y)))+ln((x*y)))+(y*(-<span class="hljs-built_in">sin</span>(x))))+(y*(<span class="hljs-built_in">cos</span>((<span class="hljs-number">2</span>*x))*<span class="hljs-number">2</span>)))<br>y: (x)*((x)*<span class="hljs-number">1</span>/(x*y))+((<span class="hljs-built_in">cos</span>(x))*(<span class="hljs-number">1</span>))+((<span class="hljs-built_in">sin</span>((<span class="hljs-number">2</span>*x)))*(<span class="hljs-number">1</span>))<br>Simplified derivative of variable <span class="hljs-string">&#x27;y&#x27;</span>: (((x*(x/(x*y)))+<span class="hljs-built_in">cos</span>(x))+<span class="hljs-built_in">sin</span>((<span class="hljs-number">2</span>*x)))<br></code></pre></td></tr></table></figure><p>Input: <strong>log(a,b)/log(c,a)</strong></p><p>Result:</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs c">a: ((-(<span class="hljs-number">1</span>)*ln(b)/((a)*ln(a)*ln(a)))/(<span class="hljs-built_in">log</span>(c,a))-(((<span class="hljs-number">1</span>)/(a*ln(c)))*<span class="hljs-built_in">log</span>(a,b))/<span class="hljs-built_in">log</span>(c,a)^<span class="hljs-number">2</span>)<br>Simplified derivative of variable <span class="hljs-string">&#x27;a&#x27;</span>: (((-(ln(b)/((a*ln(a))*ln(a))))/<span class="hljs-built_in">log</span>(c,a))-(((<span class="hljs-number">1</span>/(a*ln(c)))*<span class="hljs-built_in">log</span>(a,b))/<span class="hljs-built_in">log</span>(c,a)^<span class="hljs-number">2</span>))<br>b: (((<span class="hljs-number">1</span>)/(b*ln(a)))/<span class="hljs-built_in">log</span>(c,a))<br>Simplified derivative of variable <span class="hljs-string">&#x27;b&#x27;</span>: ((<span class="hljs-number">1</span>/(b*ln(a)))/<span class="hljs-built_in">log</span>(c,a))<br>c: (--(<span class="hljs-number">1</span>)*ln(a)/((c)*ln(c)*ln(c))*<span class="hljs-built_in">log</span>(a,b)/<span class="hljs-built_in">log</span>(c,a)^<span class="hljs-number">2</span>)<br>Simplified derivative of variable <span class="hljs-string">&#x27;c&#x27;</span>: (((ln(a)/((c*ln(c))*ln(c)))*<span class="hljs-built_in">log</span>(a,b))/<span class="hljs-built_in">log</span>(c,a)^<span class="hljs-number">2</span>))^<span class="hljs-number">2</span>))<br></code></pre></td></tr></table></figure><p>Input: <strong>pow(3,a)</strong></p><p>Result:</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs c">(ln(<span class="hljs-number">3</span>)*<span class="hljs-number">3</span>^(a)*<span class="hljs-number">1</span>)<br></code></pre></td></tr></table></figure><p>Input: <strong>cos(x)+sin(y)-tan(a)</strong></p><p>Result:</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs c">a: (<span class="hljs-number">-1</span>/(<span class="hljs-built_in">cos</span>(a)*<span class="hljs-built_in">cos</span>(a)))<br>Simplified derivative of variable <span class="hljs-string">&#x27;a&#x27;</span>: (-(<span class="hljs-number">1</span>/(<span class="hljs-built_in">cos</span>(a)*<span class="hljs-built_in">cos</span>(a))))<br>x: (((-<span class="hljs-built_in">sin</span>(x)*(<span class="hljs-number">1</span>))))<br>Simplified derivative of variable <span class="hljs-string">&#x27;x&#x27;</span>: (-<span class="hljs-built_in">sin</span>(x))<br>y: (((<span class="hljs-built_in">cos</span>(y)*(<span class="hljs-number">1</span>))))<br>Simplified derivative of variable <span class="hljs-string">&#x27;y&#x27;</span>: <span class="hljs-built_in">cos</span>(y)<br></code></pre></td></tr></table></figure><h3 id="Chapter-4-Analysis-and-Comments"><a href="#Chapter-4-Analysis-and-Comments" class="headerlink" title="Chapter 4 Analysis and Comments"></a>Chapter 4 Analysis and Comments</h3><pre><code class="hljs">It&#39;s F\*\*king so complicated and terrible!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!Anyway,it is a correct and effective algorithm. However, a major issue is that due to the complexity of the program, I did not pay attention to some details of memory allocation, and directly used fixed arrays, which obviously wastes a lot of space. But it doesn&#39;t really matter when running the program locally. Moreover, the addition of parentheses could be optimized, but I am too tired. Additionally, this program should be presented in an engineering format, but I&#39;m not very accustomed to using it yet. ***This program has already met the basic requirements and the bonus requirements.***</code></pre><h3 id="Appendix-Source-Code"><a href="#Appendix-Source-Code" class="headerlink" title="Appendix : Source Code"></a>Appendix : Source Code</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br><span class="line">446</span><br><span class="line">447</span><br><span class="line">448</span><br><span class="line">449</span><br><span class="line">450</span><br><span class="line">451</span><br><span class="line">452</span><br><span class="line">453</span><br><span class="line">454</span><br><span class="line">455</span><br><span class="line">456</span><br><span class="line">457</span><br><span class="line">458</span><br><span class="line">459</span><br><span class="line">460</span><br><span class="line">461</span><br><span class="line">462</span><br><span class="line">463</span><br><span class="line">464</span><br><span class="line">465</span><br><span class="line">466</span><br><span class="line">467</span><br><span class="line">468</span><br><span class="line">469</span><br><span class="line">470</span><br><span class="line">471</span><br><span class="line">472</span><br><span class="line">473</span><br><span class="line">474</span><br><span class="line">475</span><br><span class="line">476</span><br><span class="line">477</span><br><span class="line">478</span><br><span class="line">479</span><br><span class="line">480</span><br><span class="line">481</span><br><span class="line">482</span><br><span class="line">483</span><br><span class="line">484</span><br><span class="line">485</span><br><span class="line">486</span><br><span class="line">487</span><br><span class="line">488</span><br><span class="line">489</span><br><span class="line">490</span><br><span class="line">491</span><br><span class="line">492</span><br><span class="line">493</span><br><span class="line">494</span><br><span class="line">495</span><br><span class="line">496</span><br><span class="line">497</span><br><span class="line">498</span><br><span class="line">499</span><br><span class="line">500</span><br><span class="line">501</span><br><span class="line">502</span><br><span class="line">503</span><br><span class="line">504</span><br><span class="line">505</span><br><span class="line">506</span><br><span class="line">507</span><br><span class="line">508</span><br><span class="line">509</span><br><span class="line">510</span><br><span class="line">511</span><br><span class="line">512</span><br><span class="line">513</span><br><span class="line">514</span><br><span class="line">515</span><br><span class="line">516</span><br><span class="line">517</span><br><span class="line">518</span><br><span class="line">519</span><br><span class="line">520</span><br><span class="line">521</span><br><span class="line">522</span><br><span class="line">523</span><br><span class="line">524</span><br><span class="line">525</span><br><span class="line">526</span><br><span class="line">527</span><br><span class="line">528</span><br><span class="line">529</span><br><span class="line">530</span><br><span class="line">531</span><br><span class="line">532</span><br><span class="line">533</span><br><span class="line">534</span><br><span class="line">535</span><br><span class="line">536</span><br><span class="line">537</span><br><span class="line">538</span><br><span class="line">539</span><br><span class="line">540</span><br><span class="line">541</span><br><span class="line">542</span><br><span class="line">543</span><br><span class="line">544</span><br><span class="line">545</span><br><span class="line">546</span><br><span class="line">547</span><br><span class="line">548</span><br><span class="line">549</span><br><span class="line">550</span><br><span class="line">551</span><br><span class="line">552</span><br><span class="line">553</span><br><span class="line">554</span><br><span class="line">555</span><br><span class="line">556</span><br><span class="line">557</span><br><span class="line">558</span><br><span class="line">559</span><br><span class="line">560</span><br><span class="line">561</span><br><span class="line">562</span><br><span class="line">563</span><br><span class="line">564</span><br><span class="line">565</span><br><span class="line">566</span><br><span class="line">567</span><br><span class="line">568</span><br><span class="line">569</span><br><span class="line">570</span><br><span class="line">571</span><br><span class="line">572</span><br><span class="line">573</span><br><span class="line">574</span><br><span class="line">575</span><br><span class="line">576</span><br><span class="line">577</span><br><span class="line">578</span><br><span class="line">579</span><br><span class="line">580</span><br><span class="line">581</span><br><span class="line">582</span><br><span class="line">583</span><br><span class="line">584</span><br><span class="line">585</span><br><span class="line">586</span><br><span class="line">587</span><br><span class="line">588</span><br><span class="line">589</span><br><span class="line">590</span><br><span class="line">591</span><br><span class="line">592</span><br><span class="line">593</span><br><span class="line">594</span><br><span class="line">595</span><br><span class="line">596</span><br><span class="line">597</span><br><span class="line">598</span><br><span class="line">599</span><br><span class="line">600</span><br><span class="line">601</span><br><span class="line">602</span><br><span class="line">603</span><br><span class="line">604</span><br><span class="line">605</span><br><span class="line">606</span><br><span class="line">607</span><br><span class="line">608</span><br><span class="line">609</span><br><span class="line">610</span><br><span class="line">611</span><br><span class="line">612</span><br><span class="line">613</span><br><span class="line">614</span><br><span class="line">615</span><br><span class="line">616</span><br><span class="line">617</span><br><span class="line">618</span><br><span class="line">619</span><br><span class="line">620</span><br><span class="line">621</span><br><span class="line">622</span><br><span class="line">623</span><br><span class="line">624</span><br><span class="line">625</span><br><span class="line">626</span><br><span class="line">627</span><br><span class="line">628</span><br><span class="line">629</span><br><span class="line">630</span><br><span class="line">631</span><br><span class="line">632</span><br><span class="line">633</span><br><span class="line">634</span><br><span class="line">635</span><br><span class="line">636</span><br><span class="line">637</span><br><span class="line">638</span><br><span class="line">639</span><br><span class="line">640</span><br><span class="line">641</span><br><span class="line">642</span><br><span class="line">643</span><br><span class="line">644</span><br><span class="line">645</span><br><span class="line">646</span><br><span class="line">647</span><br><span class="line">648</span><br><span class="line">649</span><br><span class="line">650</span><br><span class="line">651</span><br><span class="line">652</span><br><span class="line">653</span><br><span class="line">654</span><br><span class="line">655</span><br><span class="line">656</span><br><span class="line">657</span><br><span class="line">658</span><br><span class="line">659</span><br><span class="line">660</span><br><span class="line">661</span><br><span class="line">662</span><br><span class="line">663</span><br><span class="line">664</span><br><span class="line">665</span><br><span class="line">666</span><br><span class="line">667</span><br><span class="line">668</span><br><span class="line">669</span><br><span class="line">670</span><br><span class="line">671</span><br><span class="line">672</span><br><span class="line">673</span><br><span class="line">674</span><br><span class="line">675</span><br><span class="line">676</span><br><span class="line">677</span><br><span class="line">678</span><br><span class="line">679</span><br><span class="line">680</span><br><span class="line">681</span><br><span class="line">682</span><br><span class="line">683</span><br><span class="line">684</span><br><span class="line">685</span><br><span class="line">686</span><br><span class="line">687</span><br><span class="line">688</span><br><span class="line">689</span><br><span class="line">690</span><br><span class="line">691</span><br><span class="line">692</span><br><span class="line">693</span><br><span class="line">694</span><br><span class="line">695</span><br><span class="line">696</span><br><span class="line">697</span><br><span class="line">698</span><br><span class="line">699</span><br><span class="line">700</span><br><span class="line">701</span><br><span class="line">702</span><br><span class="line">703</span><br><span class="line">704</span><br><span class="line">705</span><br><span class="line">706</span><br><span class="line">707</span><br><span class="line">708</span><br><span class="line">709</span><br><span class="line">710</span><br><span class="line">711</span><br><span class="line">712</span><br><span class="line">713</span><br><span class="line">714</span><br><span class="line">715</span><br><span class="line">716</span><br><span class="line">717</span><br><span class="line">718</span><br><span class="line">719</span><br><span class="line">720</span><br><span class="line">721</span><br><span class="line">722</span><br><span class="line">723</span><br><span class="line">724</span><br><span class="line">725</span><br><span class="line">726</span><br><span class="line">727</span><br><span class="line">728</span><br><span class="line">729</span><br><span class="line">730</span><br><span class="line">731</span><br><span class="line">732</span><br><span class="line">733</span><br><span class="line">734</span><br><span class="line">735</span><br><span class="line">736</span><br><span class="line">737</span><br><span class="line">738</span><br><span class="line">739</span><br><span class="line">740</span><br><span class="line">741</span><br><span class="line">742</span><br><span class="line">743</span><br><span class="line">744</span><br><span class="line">745</span><br><span class="line">746</span><br><span class="line">747</span><br><span class="line">748</span><br><span class="line">749</span><br><span class="line">750</span><br><span class="line">751</span><br><span class="line">752</span><br><span class="line">753</span><br><span class="line">754</span><br><span class="line">755</span><br><span class="line">756</span><br><span class="line">757</span><br><span class="line">758</span><br><span class="line">759</span><br><span class="line">760</span><br><span class="line">761</span><br><span class="line">762</span><br><span class="line">763</span><br><span class="line">764</span><br><span class="line">765</span><br><span class="line">766</span><br><span class="line">767</span><br><span class="line">768</span><br><span class="line">769</span><br><span class="line">770</span><br><span class="line">771</span><br><span class="line">772</span><br><span class="line">773</span><br><span class="line">774</span><br><span class="line">775</span><br><span class="line">776</span><br><span class="line">777</span><br><span class="line">778</span><br><span class="line">779</span><br><span class="line">780</span><br><span class="line">781</span><br><span class="line">782</span><br><span class="line">783</span><br><span class="line">784</span><br><span class="line">785</span><br><span class="line">786</span><br><span class="line">787</span><br><span class="line">788</span><br><span class="line">789</span><br><span class="line">790</span><br><span class="line">791</span><br><span class="line">792</span><br><span class="line">793</span><br><span class="line">794</span><br><span class="line">795</span><br><span class="line">796</span><br><span class="line">797</span><br><span class="line">798</span><br><span class="line">799</span><br><span class="line">800</span><br><span class="line">801</span><br><span class="line">802</span><br><span class="line">803</span><br><span class="line">804</span><br><span class="line">805</span><br><span class="line">806</span><br><span class="line">807</span><br><span class="line">808</span><br><span class="line">809</span><br><span class="line">810</span><br><span class="line">811</span><br><span class="line">812</span><br><span class="line">813</span><br><span class="line">814</span><br><span class="line">815</span><br><span class="line">816</span><br><span class="line">817</span><br><span class="line">818</span><br><span class="line">819</span><br><span class="line">820</span><br><span class="line">821</span><br><span class="line">822</span><br><span class="line">823</span><br><span class="line">824</span><br><span class="line">825</span><br><span class="line">826</span><br><span class="line">827</span><br><span class="line">828</span><br><span class="line">829</span><br><span class="line">830</span><br><span class="line">831</span><br><span class="line">832</span><br><span class="line">833</span><br><span class="line">834</span><br><span class="line">835</span><br><span class="line">836</span><br><span class="line">837</span><br><span class="line">838</span><br><span class="line">839</span><br><span class="line">840</span><br><span class="line">841</span><br><span class="line">842</span><br><span class="line">843</span><br><span class="line">844</span><br><span class="line">845</span><br><span class="line">846</span><br><span class="line">847</span><br><span class="line">848</span><br><span class="line">849</span><br><span class="line">850</span><br><span class="line">851</span><br><span class="line">852</span><br><span class="line">853</span><br><span class="line">854</span><br><span class="line">855</span><br><span class="line">856</span><br><span class="line">857</span><br><span class="line">858</span><br><span class="line">859</span><br><span class="line">860</span><br><span class="line">861</span><br><span class="line">862</span><br><span class="line">863</span><br><span class="line">864</span><br><span class="line">865</span><br><span class="line">866</span><br><span class="line">867</span><br><span class="line">868</span><br><span class="line">869</span><br><span class="line">870</span><br><span class="line">871</span><br><span class="line">872</span><br><span class="line">873</span><br><span class="line">874</span><br><span class="line">875</span><br><span class="line">876</span><br><span class="line">877</span><br><span class="line">878</span><br><span class="line">879</span><br><span class="line">880</span><br><span class="line">881</span><br><span class="line">882</span><br><span class="line">883</span><br><span class="line">884</span><br><span class="line">885</span><br><span class="line">886</span><br><span class="line">887</span><br><span class="line">888</span><br><span class="line">889</span><br><span class="line">890</span><br><span class="line">891</span><br><span class="line">892</span><br><span class="line">893</span><br><span class="line">894</span><br><span class="line">895</span><br><span class="line">896</span><br><span class="line">897</span><br><span class="line">898</span><br><span class="line">899</span><br><span class="line">900</span><br><span class="line">901</span><br><span class="line">902</span><br><span class="line">903</span><br><span class="line">904</span><br><span class="line">905</span><br><span class="line">906</span><br><span class="line">907</span><br><span class="line">908</span><br><span class="line">909</span><br><span class="line">910</span><br><span class="line">911</span><br><span class="line">912</span><br><span class="line">913</span><br><span class="line">914</span><br><span class="line">915</span><br><span class="line">916</span><br><span class="line">917</span><br><span class="line">918</span><br><span class="line">919</span><br><span class="line">920</span><br><span class="line">921</span><br><span class="line">922</span><br><span class="line">923</span><br><span class="line">924</span><br><span class="line">925</span><br><span class="line">926</span><br><span class="line">927</span><br><span class="line">928</span><br><span class="line">929</span><br><span class="line">930</span><br><span class="line">931</span><br><span class="line">932</span><br><span class="line">933</span><br><span class="line">934</span><br><span class="line">935</span><br><span class="line">936</span><br><span class="line">937</span><br><span class="line">938</span><br><span class="line">939</span><br><span class="line">940</span><br><span class="line">941</span><br><span class="line">942</span><br><span class="line">943</span><br><span class="line">944</span><br><span class="line">945</span><br><span class="line">946</span><br><span class="line">947</span><br><span class="line">948</span><br><span class="line">949</span><br><span class="line">950</span><br><span class="line">951</span><br><span class="line">952</span><br><span class="line">953</span><br><span class="line">954</span><br><span class="line">955</span><br><span class="line">956</span><br><span class="line">957</span><br><span class="line">958</span><br><span class="line">959</span><br><span class="line">960</span><br><span class="line">961</span><br><span class="line">962</span><br><span class="line">963</span><br><span class="line">964</span><br><span class="line">965</span><br><span class="line">966</span><br><span class="line">967</span><br><span class="line">968</span><br><span class="line">969</span><br><span class="line">970</span><br><span class="line">971</span><br><span class="line">972</span><br><span class="line">973</span><br><span class="line">974</span><br><span class="line">975</span><br><span class="line">976</span><br><span class="line">977</span><br><span class="line">978</span><br><span class="line">979</span><br><span class="line">980</span><br><span class="line">981</span><br><span class="line">982</span><br><span class="line">983</span><br><span class="line">984</span><br><span class="line">985</span><br><span class="line">986</span><br><span class="line">987</span><br><span class="line">988</span><br><span class="line">989</span><br><span class="line">990</span><br><span class="line">991</span><br><span class="line">992</span><br><span class="line">993</span><br><span class="line">994</span><br><span class="line">995</span><br><span class="line">996</span><br><span class="line">997</span><br><span class="line">998</span><br><span class="line">999</span><br><span class="line">1000</span><br><span class="line">1001</span><br><span class="line">1002</span><br><span class="line">1003</span><br><span class="line">1004</span><br><span class="line">1005</span><br><span class="line">1006</span><br><span class="line">1007</span><br><span class="line">1008</span><br><span class="line">1009</span><br><span class="line">1010</span><br><span class="line">1011</span><br><span class="line">1012</span><br><span class="line">1013</span><br><span class="line">1014</span><br><span class="line">1015</span><br><span class="line">1016</span><br><span class="line">1017</span><br><span class="line">1018</span><br><span class="line">1019</span><br><span class="line">1020</span><br><span class="line">1021</span><br><span class="line">1022</span><br><span class="line">1023</span><br><span class="line">1024</span><br><span class="line">1025</span><br><span class="line">1026</span><br><span class="line">1027</span><br><span class="line">1028</span><br><span class="line">1029</span><br><span class="line">1030</span><br><span class="line">1031</span><br><span class="line">1032</span><br><span class="line">1033</span><br><span class="line">1034</span><br><span class="line">1035</span><br><span class="line">1036</span><br><span class="line">1037</span><br><span class="line">1038</span><br><span class="line">1039</span><br><span class="line">1040</span><br><span class="line">1041</span><br><span class="line">1042</span><br><span class="line">1043</span><br><span class="line">1044</span><br><span class="line">1045</span><br><span class="line">1046</span><br><span class="line">1047</span><br><span class="line">1048</span><br><span class="line">1049</span><br><span class="line">1050</span><br><span class="line">1051</span><br><span class="line">1052</span><br><span class="line">1053</span><br><span class="line">1054</span><br><span class="line">1055</span><br><span class="line">1056</span><br><span class="line">1057</span><br><span class="line">1058</span><br><span class="line">1059</span><br><span class="line">1060</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdlib.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;ctype.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;string.h&gt;</span></span><br><br><span class="hljs-type">char</span> input[<span class="hljs-number">256</span>]; <span class="hljs-comment">// store the input algebraic expression</span><br><span class="hljs-type">int</span> varinum = <span class="hljs-number">0</span>; <span class="hljs-comment">// Counter for the number of different variables</span><br><span class="hljs-type">int</span> lenofpost = <span class="hljs-number">0</span>; <span class="hljs-comment">// Length of the postfix expression </span><br><span class="hljs-type">int</span> position = <span class="hljs-number">0</span>; <span class="hljs-comment">// Position index </span><br><span class="hljs-type">char</span> *<span class="hljs-built_in">stack</span>[<span class="hljs-number">256</span>]; <span class="hljs-comment">// store operators during expression parsing.</span><br><span class="hljs-type">int</span> top = <span class="hljs-number">-1</span>; <br><span class="hljs-type">int</span> lenofvari = <span class="hljs-number">-1</span>; <span class="hljs-comment">// Length of the variable list</span><br><br><span class="hljs-comment">// Define a structure for tree nodes</span><br><span class="hljs-keyword">typedef</span> <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">treeNode</span> &#123;</span><br>    <span class="hljs-type">char</span> value[<span class="hljs-number">256</span>]; <span class="hljs-comment">// String to store the value of the node</span><br>    <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">treeNode</span>* <span class="hljs-title">left</span>;</span> <br>    <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">treeNode</span>* <span class="hljs-title">right</span>;</span><br>&#125; Node;<br><br><span class="hljs-comment">// Define a structure to represent variables in the expression.</span><br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">variable</span> &#123;</span><br>    <span class="hljs-type">char</span> name[<span class="hljs-number">256</span>]; <span class="hljs-comment">// store the name of the variable</span><br>&#125; vari[<span class="hljs-number">256</span>]; <br><br><span class="hljs-type">void</span> <span class="hljs-title function_">sortName</span><span class="hljs-params">(<span class="hljs-keyword">struct</span> variable *vari)</span>&#123; <span class="hljs-comment">// sort the names of variables</span><br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>;i &lt;= lenofvari;i++)&#123;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> j = <span class="hljs-number">0</span>;j &lt; lenofvari - i;j++)&#123;<br>            <span class="hljs-keyword">if</span>(<span class="hljs-built_in">strcmp</span>(vari[j].name, vari[j+<span class="hljs-number">1</span>].name) &gt; <span class="hljs-number">0</span>)&#123;<br>                <span class="hljs-type">char</span> temp[<span class="hljs-number">256</span>];<br>                <span class="hljs-built_in">strcpy</span>(temp, vari[j].name);<br>                <span class="hljs-built_in">strcpy</span>(vari[j].name, vari[j+<span class="hljs-number">1</span>].name);<br>                <span class="hljs-built_in">strcpy</span>(vari[j+<span class="hljs-number">1</span>].name, temp);<br>            &#125;<br>        &#125;<br>    &#125;<br>&#125;<br><br><span class="hljs-type">int</span> <span class="hljs-title function_">isalpha</span><span class="hljs-params">(<span class="hljs-type">char</span> in)</span>&#123; <span class="hljs-comment">// whether the char is a letter</span><br>    <span class="hljs-keyword">if</span>(in &gt;= <span class="hljs-string">&#x27;a&#x27;</span> &amp;&amp; in &lt;= <span class="hljs-string">&#x27;z&#x27;</span>) <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">else</span> <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br><span class="hljs-type">int</span> <span class="hljs-title function_">isnumber</span><span class="hljs-params">(<span class="hljs-type">char</span> in)</span>&#123;  <span class="hljs-comment">// whether the char is a letter</span><br>    <span class="hljs-keyword">if</span>(in &gt;= <span class="hljs-string">&#x27;0&#x27;</span> &amp;&amp; in &lt;= <span class="hljs-string">&#x27;9&#x27;</span>) <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">else</span> <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br><span class="hljs-type">int</span> <span class="hljs-title function_">precedence</span><span class="hljs-params">(<span class="hljs-type">char</span> *op)</span>&#123; <span class="hljs-comment">//get the precedence of every operator</span><br>    <span class="hljs-keyword">switch</span>(op[<span class="hljs-number">0</span>])&#123;<br>        <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;+&#x27;</span>:<br>        <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;-&#x27;</span>:<br>            <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;<br>        <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;*&#x27;</span>:<br>        <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;/&#x27;</span>:<br>            <span class="hljs-keyword">return</span> <span class="hljs-number">2</span>;<br>        <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;^&#x27;</span>:<br>            <span class="hljs-keyword">return</span> <span class="hljs-number">3</span>;<br>        <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;l&#x27;</span>: <span class="hljs-comment">// ln or log</span><br>        <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;c&#x27;</span>: <span class="hljs-comment">// cos</span><br>        <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;s&#x27;</span>: <span class="hljs-comment">// sin</span><br>        <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;t&#x27;</span>: <span class="hljs-comment">// tan</span><br>        <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;p&#x27;</span>: <span class="hljs-comment">// pow</span><br>        <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;e&#x27;</span>: <span class="hljs-comment">// exp</span><br>            <span class="hljs-keyword">return</span> <span class="hljs-number">4</span>;<br>        <span class="hljs-keyword">default</span>:<br>            <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>    &#125;<br>&#125;<br><br><span class="hljs-comment">// create a new node of the ExpressionTree</span><br>Node* <span class="hljs-title function_">createNode</span><span class="hljs-params">(<span class="hljs-type">char</span> *value)</span> &#123; <br>    Node* newNode = (Node*)<span class="hljs-built_in">malloc</span>(<span class="hljs-keyword">sizeof</span>(Node));<br>    <span class="hljs-keyword">if</span> (newNode == <span class="hljs-literal">NULL</span>) &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">NULL</span>;  <span class="hljs-comment">// malloc error!</span><br>    &#125; <br>    <span class="hljs-built_in">strcpy</span>(newNode-&gt;value, <span class="hljs-string">&quot;\0&quot;</span>);<br>    <span class="hljs-built_in">strcpy</span>(newNode-&gt;value, value);<br>    newNode-&gt;left = <span class="hljs-literal">NULL</span>;<br>    newNode-&gt;right = <span class="hljs-literal">NULL</span>;<br>    <span class="hljs-keyword">return</span> newNode;<br>&#125;<br><br><span class="hljs-comment">// Function to convert an infix expression to a postfix expression.</span><br><span class="hljs-type">void</span> <span class="hljs-title function_">infixToPostfix</span><span class="hljs-params">(<span class="hljs-type">char</span>* infix, <span class="hljs-type">char</span>* postfix[])</span> &#123; <br>    <span class="hljs-type">char</span> *<span class="hljs-built_in">stack</span>[<span class="hljs-number">256</span>]; <span class="hljs-comment">// Stack to store operators during conversion.</span><br>    <span class="hljs-type">int</span> top = <span class="hljs-number">-1</span>; <span class="hljs-comment">// Initialize the top index of the stack to -1 indicating it&#x27;s empty.</span><br><br>    <span class="hljs-comment">// Loop through each character of the infix expression.</span><br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-built_in">strlen</span>(infix); i++) &#123;<br>        <span class="hljs-type">char</span> ch = infix[i]; <span class="hljs-comment">// Current character being processed.</span><br><br>        <span class="hljs-comment">// Check if the current character is an alphabetic letter.</span><br>        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">isalpha</span>(ch)) &#123;<br>            <span class="hljs-type">int</span> posi = <span class="hljs-number">0</span>; <span class="hljs-comment">// Positional index to help extract the full name from the expression.</span><br>            <span class="hljs-type">char</span> name[<span class="hljs-number">10</span>]; <span class="hljs-comment">// Temporary buffer to store the function name or variable.</span><br><br>            <span class="hljs-comment">// Extract the full name from the infix expression (could be a function or variable).</span><br>            <span class="hljs-keyword">while</span>(<span class="hljs-built_in">isalpha</span>(infix[i+posi]) &amp;&amp; infix[i+posi] != <span class="hljs-string">&#x27;\0&#x27;</span>)&#123;<br>                name[posi] = infix[i+posi]; <span class="hljs-comment">// Store each character to form the name.</span><br>                posi++; <span class="hljs-comment">// Move to the next character.</span><br>            &#125;<br>            name[posi] = <span class="hljs-string">&#x27;\0&#x27;</span>; <span class="hljs-comment">// Null-terminate the extracted name.</span><br><br>            <span class="hljs-comment">// If the extracted name is &#x27;ln&#x27;, handle it as the natural logarithm function.</span><br>            <span class="hljs-keyword">if</span> (!<span class="hljs-built_in">strcmp</span>(name, <span class="hljs-string">&quot;ln&quot;</span>))&#123; <span class="hljs-comment">// Check if the name is &#x27;ln&#x27;.</span><br>                <span class="hljs-type">char</span> *chh;<br>                chh = (<span class="hljs-type">char</span>*)<span class="hljs-built_in">malloc</span>(<span class="hljs-keyword">sizeof</span>(<span class="hljs-type">char</span>) * <span class="hljs-number">10</span>); <span class="hljs-comment">// Allocate memory for the function name.</span><br>                chh[<span class="hljs-number">0</span>] = <span class="hljs-string">&#x27;l&#x27;</span>, chh[<span class="hljs-number">1</span>] = <span class="hljs-string">&#x27;n&#x27;</span>, chh[<span class="hljs-number">2</span>] = <span class="hljs-string">&#x27;\0&#x27;</span>; <span class="hljs-comment">// Copy &#x27;ln&#x27; into the newly allocated memory.</span><br>                <span class="hljs-comment">// While the stack is not empty and the top of the stack has an operator of higher or equal precedence, pop it.</span><br>                <span class="hljs-keyword">while</span> (top &gt;= <span class="hljs-number">0</span> &amp;&amp; precedence(chh) &lt;= precedence(<span class="hljs-built_in">stack</span>[top])) &#123;<br>                    postfix[position] = (<span class="hljs-type">char</span>*)<span class="hljs-built_in">malloc</span>(<span class="hljs-number">11</span> * <span class="hljs-keyword">sizeof</span>(<span class="hljs-type">char</span>));<br>                    <span class="hljs-built_in">strcpy</span>(postfix[position++], <span class="hljs-built_in">stack</span>[top--]);<br>                &#125;<br>                <span class="hljs-built_in">stack</span>[++top] = chh;<br>                i ++;<br>            &#125;<br><br>            <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(!<span class="hljs-built_in">strcmp</span>(name, <span class="hljs-string">&quot;e&quot;</span>))&#123; <span class="hljs-comment">// deem &quot;e&quot; as a number</span><br>                postfix[position] = (<span class="hljs-type">char</span>*)<span class="hljs-built_in">malloc</span>(<span class="hljs-number">11</span> * <span class="hljs-keyword">sizeof</span>(<span class="hljs-type">char</span>));<br>                <span class="hljs-built_in">strcpy</span>(postfix[position], <span class="hljs-string">&quot;e&quot;</span>);<br>                position++;<br>            &#125;<br><br>            <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (!<span class="hljs-built_in">strcmp</span>(name, <span class="hljs-string">&quot;cos&quot;</span>))&#123; <span class="hljs-comment">// read &quot;cos&quot;</span><br>                <span class="hljs-type">char</span> *chh;<br>                chh = (<span class="hljs-type">char</span>*)<span class="hljs-built_in">malloc</span>(<span class="hljs-keyword">sizeof</span>(<span class="hljs-type">char</span>) * <span class="hljs-number">10</span>);<br>                chh[<span class="hljs-number">0</span>] = <span class="hljs-string">&#x27;c&#x27;</span>,chh[<span class="hljs-number">1</span>] = <span class="hljs-string">&#x27;o&#x27;</span>,chh[<span class="hljs-number">2</span>] = <span class="hljs-string">&#x27;s&#x27;</span>,chh[<span class="hljs-number">3</span>] = <span class="hljs-string">&#x27;\0&#x27;</span>;<br>                <span class="hljs-keyword">while</span> (top &gt;= <span class="hljs-number">0</span> &amp;&amp; precedence(chh) &lt;= precedence(<span class="hljs-built_in">stack</span>[top]) ) &#123; <br>                    postfix[position] = (<span class="hljs-type">char</span>*)<span class="hljs-built_in">malloc</span>(<span class="hljs-number">11</span> * <span class="hljs-keyword">sizeof</span>(<span class="hljs-type">char</span>));<br>                    <span class="hljs-built_in">strcpy</span>(postfix[position++], <span class="hljs-built_in">stack</span>[top--]);<br>                &#125;<br>                <span class="hljs-built_in">stack</span>[++top] = chh;<br>                i += <span class="hljs-number">2</span>;<br>            &#125;<br><br>            <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (!<span class="hljs-built_in">strcmp</span>(name, <span class="hljs-string">&quot;sin&quot;</span>))&#123; <span class="hljs-comment">// read sin</span><br>                <span class="hljs-type">char</span> *chh;<br>                chh = (<span class="hljs-type">char</span>*)<span class="hljs-built_in">malloc</span>(<span class="hljs-keyword">sizeof</span>(<span class="hljs-type">char</span>) * <span class="hljs-number">10</span>);<br>                chh[<span class="hljs-number">0</span>] = <span class="hljs-string">&#x27;s&#x27;</span>,chh[<span class="hljs-number">1</span>] = <span class="hljs-string">&#x27;i&#x27;</span>,chh[<span class="hljs-number">2</span>] = <span class="hljs-string">&#x27;n&#x27;</span>,chh[<span class="hljs-number">3</span>] = <span class="hljs-string">&#x27;\0&#x27;</span>;<br>                <span class="hljs-keyword">while</span> (top &gt;= <span class="hljs-number">0</span> &amp;&amp; precedence(chh) &lt;= precedence(<span class="hljs-built_in">stack</span>[top]) ) &#123; <br>                    postfix[position] = (<span class="hljs-type">char</span>*)<span class="hljs-built_in">malloc</span>(<span class="hljs-number">11</span> * <span class="hljs-keyword">sizeof</span>(<span class="hljs-type">char</span>));<br>                    <span class="hljs-built_in">strcpy</span>(postfix[position++], <span class="hljs-built_in">stack</span>[top--]);<br>                &#125;<br>                <span class="hljs-built_in">stack</span>[++top] = chh;<br>                i += <span class="hljs-number">2</span>;<br>            &#125;<br><br>            <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (!<span class="hljs-built_in">strcmp</span>(name, <span class="hljs-string">&quot;tan&quot;</span>))&#123; <span class="hljs-comment">// read tan</span><br>                <span class="hljs-type">char</span> *chh;<br>                chh = (<span class="hljs-type">char</span>*)<span class="hljs-built_in">malloc</span>(<span class="hljs-keyword">sizeof</span>(<span class="hljs-type">char</span>) * <span class="hljs-number">10</span>);<br>                chh[<span class="hljs-number">0</span>] = <span class="hljs-string">&#x27;t&#x27;</span>,chh[<span class="hljs-number">1</span>] = <span class="hljs-string">&#x27;a&#x27;</span>,chh[<span class="hljs-number">2</span>] = <span class="hljs-string">&#x27;n&#x27;</span>,chh[<span class="hljs-number">3</span>] = <span class="hljs-string">&#x27;\0&#x27;</span>;<br>                <span class="hljs-keyword">while</span> (top &gt;= <span class="hljs-number">0</span> &amp;&amp; precedence(chh) &lt;= precedence(<span class="hljs-built_in">stack</span>[top]) ) &#123;<br>                    postfix[position] = (<span class="hljs-type">char</span>*)<span class="hljs-built_in">malloc</span>(<span class="hljs-number">11</span> * <span class="hljs-keyword">sizeof</span>(<span class="hljs-type">char</span>));<br>                    <span class="hljs-built_in">strcpy</span>(postfix[position++], <span class="hljs-built_in">stack</span>[top--]);<br>                &#125;<br>                <span class="hljs-built_in">stack</span>[++top] = chh;<br>                i += <span class="hljs-number">2</span>;<br>            &#125;<br><br>            <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (!<span class="hljs-built_in">strcmp</span>(name, <span class="hljs-string">&quot;exp&quot;</span>))&#123; <span class="hljs-comment">// read exp</span><br>                <span class="hljs-type">char</span> *chh;<br>                chh = (<span class="hljs-type">char</span>*)<span class="hljs-built_in">malloc</span>(<span class="hljs-keyword">sizeof</span>(<span class="hljs-type">char</span>) * <span class="hljs-number">10</span>);<br>                chh[<span class="hljs-number">0</span>] = <span class="hljs-string">&#x27;e&#x27;</span>,chh[<span class="hljs-number">1</span>] = <span class="hljs-string">&#x27;x&#x27;</span>,chh[<span class="hljs-number">2</span>] = <span class="hljs-string">&#x27;p&#x27;</span>,chh[<span class="hljs-number">3</span>] = <span class="hljs-string">&#x27;\0&#x27;</span>;<br>                <span class="hljs-keyword">while</span> (top &gt;= <span class="hljs-number">0</span> &amp;&amp; precedence(chh) &lt;= precedence(<span class="hljs-built_in">stack</span>[top]) ) &#123; <br>                    postfix[position] = (<span class="hljs-type">char</span>*)<span class="hljs-built_in">malloc</span>(<span class="hljs-number">11</span> * <span class="hljs-keyword">sizeof</span>(<span class="hljs-type">char</span>));<br>                    <span class="hljs-built_in">strcpy</span>(postfix[position++], <span class="hljs-built_in">stack</span>[top--]);<br>                &#125;<br>                <span class="hljs-built_in">stack</span>[++top] = chh;<br>                i += <span class="hljs-number">2</span>;<br>            &#125;<br><br>            <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (!<span class="hljs-built_in">strcmp</span>(name, <span class="hljs-string">&quot;log&quot;</span>))&#123; <span class="hljs-comment">// read log</span><br>                <span class="hljs-type">char</span> *chh;<br>                chh = (<span class="hljs-type">char</span>*)<span class="hljs-built_in">malloc</span>(<span class="hljs-keyword">sizeof</span>(<span class="hljs-type">char</span>) * <span class="hljs-number">10</span>);<br>                chh[<span class="hljs-number">0</span>] = <span class="hljs-string">&#x27;l&#x27;</span>,chh[<span class="hljs-number">1</span>] = <span class="hljs-string">&#x27;o&#x27;</span>,chh[<span class="hljs-number">2</span>] = <span class="hljs-string">&#x27;g&#x27;</span>,chh[<span class="hljs-number">3</span>] = <span class="hljs-string">&#x27;\0&#x27;</span>;<br>                <span class="hljs-keyword">while</span> (top &gt;= <span class="hljs-number">0</span> &amp;&amp; precedence(chh) &lt;= precedence(<span class="hljs-built_in">stack</span>[top]) ) &#123; <br>                    postfix[position] = (<span class="hljs-type">char</span>*)<span class="hljs-built_in">malloc</span>(<span class="hljs-number">11</span> * <span class="hljs-keyword">sizeof</span>(<span class="hljs-type">char</span>));<br>                    <span class="hljs-built_in">strcpy</span>(postfix[position++], <span class="hljs-built_in">stack</span>[top--]);<br>                &#125;<br>                <span class="hljs-built_in">stack</span>[++top] = chh;<br>                i += <span class="hljs-number">4</span>;                     <span class="hljs-comment">// now it points to the one after &#x27;(&#x27;</span><br>                <span class="hljs-type">int</span> offset = <span class="hljs-number">0</span>;             <span class="hljs-comment">// search for &#x27;,&#x27;</span><br>                <span class="hljs-keyword">while</span>(infix[i + offset] != <span class="hljs-string">&#x27;,&#x27;</span>)&#123; <br>                    offset ++;<br>                &#125;<br>                <span class="hljs-type">char</span> LeftSubArray[<span class="hljs-number">256</span>];     <span class="hljs-comment">// define a left subtree array</span><br>                <span class="hljs-built_in">strncpy</span>(LeftSubArray, infix + i, offset);  <span class="hljs-comment">// transfer the integer to string</span><br>                LeftSubArray[offset] = <span class="hljs-string">&#x27;\0&#x27;</span>;<br>                infixToPostfix(LeftSubArray, postfix);<br>                offset ++;<br>                <span class="hljs-type">int</span> current = offset;<br>                <span class="hljs-type">int</span> rightbracket = <span class="hljs-number">0</span>;<br>                <span class="hljs-type">int</span> leftbracket = <span class="hljs-number">0</span>;<br>                <span class="hljs-keyword">while</span>(rightbracket != leftbracket + <span class="hljs-number">1</span>)&#123;<br>                    <span class="hljs-keyword">if</span>(infix[i+offset] == <span class="hljs-string">&#x27;(&#x27;</span>) leftbracket ++;<br>                    <span class="hljs-keyword">if</span>(infix[i+offset] == <span class="hljs-string">&#x27;)&#x27;</span>) rightbracket ++;<br>                    offset ++;              <br>                &#125;<br>                <span class="hljs-type">char</span> RightSubArray[<span class="hljs-number">256</span>];<br>                <span class="hljs-built_in">strncpy</span>(RightSubArray, infix + i + current, offset - current - <span class="hljs-number">1</span>);<br>                RightSubArray[offset - current - <span class="hljs-number">1</span>] = <span class="hljs-string">&#x27;\0&#x27;</span>;<br>                infixToPostfix(RightSubArray, postfix);<br>                offset --;<br>                i += offset;<br>            &#125;<br><br>            <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (!<span class="hljs-built_in">strcmp</span>(name, <span class="hljs-string">&quot;pow&quot;</span>))&#123; <span class="hljs-comment">// read pow</span><br>                <span class="hljs-comment">// the logic is similar to &quot;log&quot;</span><br>                <span class="hljs-type">char</span> *chh;<br>                chh = (<span class="hljs-type">char</span>*)<span class="hljs-built_in">malloc</span>(<span class="hljs-keyword">sizeof</span>(<span class="hljs-type">char</span>) * <span class="hljs-number">10</span>);<br>                chh[<span class="hljs-number">0</span>] = <span class="hljs-string">&#x27;p&#x27;</span>,chh[<span class="hljs-number">1</span>] = <span class="hljs-string">&#x27;o&#x27;</span>,chh[<span class="hljs-number">2</span>] = <span class="hljs-string">&#x27;w&#x27;</span>,chh[<span class="hljs-number">3</span>] = <span class="hljs-string">&#x27;\0&#x27;</span>;<br>                <span class="hljs-keyword">while</span> (top &gt;= <span class="hljs-number">0</span> &amp;&amp; precedence(chh) &lt;= precedence(<span class="hljs-built_in">stack</span>[top]) ) &#123; <span class="hljs-comment">// check if the stack has &quot;^&quot;s on its top and pop them if yes</span><br>                    postfix[position] = (<span class="hljs-type">char</span>*)<span class="hljs-built_in">malloc</span>(<span class="hljs-number">11</span> * <span class="hljs-keyword">sizeof</span>(<span class="hljs-type">char</span>));<br>                    <span class="hljs-built_in">strcpy</span>(postfix[position++], <span class="hljs-built_in">stack</span>[top--]);<br>                &#125;<br>                <span class="hljs-built_in">stack</span>[++top] = chh;<br>                i += <span class="hljs-number">4</span>;<br>                <span class="hljs-type">int</span> offset = <span class="hljs-number">0</span>; <br>                <span class="hljs-keyword">while</span>(infix[i + offset] != <span class="hljs-string">&#x27;,&#x27;</span>)&#123;<br>                    offset ++;<br>                &#125;<br>                <span class="hljs-type">char</span> LeftSubArray[<span class="hljs-number">256</span>];<br>                <span class="hljs-built_in">strncpy</span>(LeftSubArray, infix + i, offset);<br>                LeftSubArray[offset] = <span class="hljs-string">&#x27;\0&#x27;</span>;<br>                infixToPostfix(LeftSubArray, postfix);<br>                offset ++;<br>                <span class="hljs-type">int</span> current = offset;<br>                <span class="hljs-type">int</span> rightbracket = <span class="hljs-number">0</span>;<br>                <span class="hljs-type">int</span> leftbracket = <span class="hljs-number">0</span>;<br>                <span class="hljs-keyword">while</span>(rightbracket != leftbracket + <span class="hljs-number">1</span>)&#123;<br>                    <span class="hljs-keyword">if</span>(infix[i+offset] == <span class="hljs-string">&#x27;(&#x27;</span>) leftbracket ++;<br>                    <span class="hljs-keyword">if</span>(infix[i+offset] == <span class="hljs-string">&#x27;)&#x27;</span>) rightbracket ++;<br>                    offset ++; <br>                &#125;<br>                <span class="hljs-type">char</span> RightSubArray[<span class="hljs-number">256</span>];<br>                <span class="hljs-built_in">strncpy</span>(RightSubArray, infix + i + current, offset - current - <span class="hljs-number">1</span>);<br>                RightSubArray[offset - current - <span class="hljs-number">1</span>] = <span class="hljs-string">&#x27;\0&#x27;</span>;<br>                infixToPostfix(RightSubArray, postfix);<br>                offset --;<br>                i += offset;<br>            &#125;<br><br>            <span class="hljs-keyword">else</span> &#123;<br>                <span class="hljs-type">int</span> flag = <span class="hljs-number">1</span>;<br>                <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> j = <span class="hljs-number">0</span>;j &lt;= lenofvari; j++)&#123;<br>                    <span class="hljs-keyword">if</span>(!<span class="hljs-built_in">strcmp</span>(vari[j].name, name))&#123;<br>                        flag = <span class="hljs-number">0</span>;<br>                        <span class="hljs-keyword">break</span>;<br>                    &#125;<br>                &#125;<br>                <span class="hljs-keyword">if</span>(flag) <span class="hljs-built_in">strcpy</span>(vari[++lenofvari].name, name);<br>                postfix[position] = (<span class="hljs-type">char</span>*)<span class="hljs-built_in">malloc</span>(<span class="hljs-number">11</span> * <span class="hljs-keyword">sizeof</span>(<span class="hljs-type">char</span>));<br>                <span class="hljs-built_in">strcpy</span>(postfix[position], name);<br>                position++;<br>                i += posi - <span class="hljs-number">1</span>;<br>            &#125;<br>        &#125;<br><br>        <span class="hljs-comment">// Check if the current character is a number.</span><br>        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(isnumber(ch))&#123;<br>            <span class="hljs-type">int</span> posi = <span class="hljs-number">0</span>; <span class="hljs-comment">// Position index to extract the entire number from the expression.</span><br>            <span class="hljs-type">char</span> name[<span class="hljs-number">10</span>];  <span class="hljs-comment">// Buffer to store the numeric string.</span><br><br>            <span class="hljs-comment">// Extract the full number by iterating over the characters until a non-numeric one is found.</span><br>            <span class="hljs-keyword">while</span>(isnumber(infix[i+posi]) &amp;&amp; infix[i+posi] != <span class="hljs-string">&#x27;\0&#x27;</span>)&#123;<br>                name[posi] = infix[i+posi]; <span class="hljs-comment">// Append the numeric character to the buffer.</span><br>                posi++; <span class="hljs-comment">// Move to the next character.</span><br>            &#125;<br>            name[posi] = <span class="hljs-string">&#x27;\0&#x27;</span>; <span class="hljs-comment">// Null-terminate the extracted numeric string.</span><br><br>            <span class="hljs-comment">// Allocate memory for the number in the postfix expression array.</span><br>            postfix[position] = (<span class="hljs-type">char</span>*)<span class="hljs-built_in">malloc</span>(<span class="hljs-number">11</span> * <span class="hljs-keyword">sizeof</span>(<span class="hljs-type">char</span>));<br>            <span class="hljs-built_in">strcpy</span>(postfix[position], name); <span class="hljs-comment">// Copy the numeric string to the postfix array.</span><br>            position++; <span class="hljs-comment">// Increment the position for the next element in the postfix array.</span><br><br>            i += posi - <span class="hljs-number">1</span>; <span class="hljs-comment">// Move the index in the infix expression past the processed number.</span><br>        &#125;<br><br>        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (ch == <span class="hljs-string">&#x27;^&#x27;</span>) &#123;<br>            <span class="hljs-type">char</span> *chh;<br>            chh = (<span class="hljs-type">char</span>*)<span class="hljs-built_in">malloc</span>(<span class="hljs-keyword">sizeof</span>(<span class="hljs-type">char</span>) * <span class="hljs-number">10</span>);<br>            chh[<span class="hljs-number">0</span>] = ch,chh[<span class="hljs-number">1</span>] = <span class="hljs-string">&#x27;\0&#x27;</span>;<br>            <span class="hljs-keyword">while</span> (top &gt;= <span class="hljs-number">0</span> &amp;&amp; precedence(chh) &lt;= precedence(<span class="hljs-built_in">stack</span>[top]) ) &#123; <span class="hljs-comment">// check if the stack has &quot;^&quot;s on its top and pop them if yes</span><br>                postfix[position] = (<span class="hljs-type">char</span>*)<span class="hljs-built_in">malloc</span>(<span class="hljs-number">11</span> * <span class="hljs-keyword">sizeof</span>(<span class="hljs-type">char</span>));<br>                <span class="hljs-built_in">strcpy</span>(postfix[position++], <span class="hljs-built_in">stack</span>[top--]);<br>            &#125;<br>            <span class="hljs-built_in">stack</span>[++top] = chh;<br>        &#125;<br><br>        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (ch == <span class="hljs-string">&#x27;*&#x27;</span> || ch == <span class="hljs-string">&#x27;/&#x27;</span>) &#123;<br>            <span class="hljs-comment">// pop all the operators on stack top having a precedence prior to the present char</span><br>            <span class="hljs-type">char</span> *chh;<br>            chh = (<span class="hljs-type">char</span>*)<span class="hljs-built_in">malloc</span>(<span class="hljs-keyword">sizeof</span>(<span class="hljs-type">char</span>) * <span class="hljs-number">10</span>);<br>            chh[<span class="hljs-number">0</span>] = ch,chh[<span class="hljs-number">1</span>] = <span class="hljs-string">&#x27;\0&#x27;</span>;<br>            <span class="hljs-keyword">while</span> (top &gt;= <span class="hljs-number">0</span> &amp;&amp; precedence(chh) &lt;= precedence(<span class="hljs-built_in">stack</span>[top])) &#123;  <br>                postfix[position] = (<span class="hljs-type">char</span>*)<span class="hljs-built_in">malloc</span>(<span class="hljs-number">11</span> * <span class="hljs-keyword">sizeof</span>(<span class="hljs-type">char</span>));<br>                <span class="hljs-built_in">strcpy</span>(postfix[position++], <span class="hljs-built_in">stack</span>[top--]);<br>            &#125;<br>            <span class="hljs-built_in">stack</span>[++top] = chh;<br>        &#125;<br><br>        <span class="hljs-comment">// Handle addition &#x27;+&#x27; and subtraction &#x27;-&#x27; operators.</span><br>        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (ch == <span class="hljs-string">&#x27;+&#x27;</span> || ch == <span class="hljs-string">&#x27;-&#x27;</span>) &#123;<br>            <span class="hljs-comment">// If there are two consecutive &#x27;-&#x27; signs, skip the current one and move to the next character.</span><br>            <span class="hljs-keyword">if</span>(ch == <span class="hljs-string">&#x27;-&#x27;</span> &amp;&amp; infix[i+<span class="hljs-number">1</span>] == <span class="hljs-string">&#x27;-&#x27;</span>)&#123;<br>                i++;<br>                <span class="hljs-keyword">continue</span>; <span class="hljs-comment">// Skip the current loop iteration.</span><br>            &#125;<br>            <span class="hljs-type">char</span> *chh;<br>            chh = (<span class="hljs-type">char</span>*)<span class="hljs-built_in">malloc</span>(<span class="hljs-keyword">sizeof</span>(<span class="hljs-type">char</span>) * <span class="hljs-number">10</span>); <span class="hljs-comment">// Allocate memory for the operator.</span><br>            chh[<span class="hljs-number">0</span>] = ch, chh[<span class="hljs-number">1</span>] = <span class="hljs-string">&#x27;\0&#x27;</span>; <span class="hljs-comment">// Store the operator in the allocated memory and null-terminate.</span><br><br>            <span class="hljs-comment">// Pop operators from the stack with higher or equal precedence and add them to the postfix array.</span><br>            <span class="hljs-keyword">while</span> (top &gt;= <span class="hljs-number">0</span> &amp;&amp; precedence(chh) &lt;= precedence(<span class="hljs-built_in">stack</span>[top])) &#123;<br>                postfix[position] = (<span class="hljs-type">char</span>*)<span class="hljs-built_in">malloc</span>(<span class="hljs-number">11</span> * <span class="hljs-keyword">sizeof</span>(<span class="hljs-type">char</span>)); <span class="hljs-comment">// Allocate memory for the operator to add to postfix.</span><br>                <span class="hljs-built_in">strcpy</span>(postfix[position++], <span class="hljs-built_in">stack</span>[top--]); <span class="hljs-comment">// Copy the operator from stack to postfix and adjust indices.</span><br>            &#125;<br>            <span class="hljs-built_in">stack</span>[++top] = chh; <span class="hljs-comment">// Push the current &#x27;+&#x27; or &#x27;-&#x27; operator onto the stack.</span><br>        &#125;<br><br><br>        <span class="hljs-comment">// If the current character is an opening parenthesis &#x27;(&#x27;.</span><br>        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (ch == <span class="hljs-string">&#x27;(&#x27;</span>) &#123;<br>            <span class="hljs-type">char</span> *chh;<br>            chh = (<span class="hljs-type">char</span>*)<span class="hljs-built_in">malloc</span>(<span class="hljs-keyword">sizeof</span>(<span class="hljs-type">char</span>) * <span class="hljs-number">10</span>); <span class="hljs-comment">// Allocate memory for the parenthesis.</span><br>            chh[<span class="hljs-number">0</span>] = ch, chh[<span class="hljs-number">1</span>] = <span class="hljs-string">&#x27;\0&#x27;</span>; <span class="hljs-comment">// Store the &#x27;(&#x27; in the allocated memory and null-terminate.</span><br>            <span class="hljs-built_in">stack</span>[++top] = chh; <span class="hljs-comment">// Push the &#x27;(&#x27; onto the stack.</span><br><br>            <span class="hljs-comment">// Special case: if the character following &#x27;(&#x27; is a &#x27;+&#x27; or &#x27;-&#x27;, insert a &#x27;0&#x27; before it.</span><br>            <span class="hljs-comment">// This handles unary operators by converting them to binary (e.g., &quot;-a&quot; becomes &quot;0-a&quot;).</span><br>            <span class="hljs-keyword">if</span>(infix[i+<span class="hljs-number">1</span>] == <span class="hljs-string">&#x27;+&#x27;</span> || infix[i+<span class="hljs-number">1</span>] == <span class="hljs-string">&#x27;-&#x27;</span>)&#123;<br>                infix[i] = <span class="hljs-string">&#x27;0&#x27;</span>; <span class="hljs-comment">// Insert &#x27;0&#x27; to handle expressions like &quot;(-a)&quot;.</span><br>                i--; <span class="hljs-comment">// Move back one character to ensure &#x27;0&#x27; is processed correctly.</span><br>            &#125;<br>        &#125;<br><br>        <span class="hljs-comment">// If the current character is a closing parenthesis &#x27;)&#x27;.</span><br>        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (ch == <span class="hljs-string">&#x27;)&#x27;</span>) &#123;<br>            <span class="hljs-comment">// Pop all operators from the stack and add them to the postfix array until an &#x27;(&#x27; is encountered.</span><br>            <span class="hljs-keyword">while</span> (top &gt;= <span class="hljs-number">0</span> &amp;&amp; <span class="hljs-built_in">strcmp</span>(<span class="hljs-built_in">stack</span>[top], <span class="hljs-string">&quot;(&quot;</span>)) &#123;<br>                postfix[position] = (<span class="hljs-type">char</span>*)<span class="hljs-built_in">malloc</span>(<span class="hljs-number">11</span> * <span class="hljs-keyword">sizeof</span>(<span class="hljs-type">char</span>)); <span class="hljs-comment">// Allocate memory for the operator.</span><br>                <span class="hljs-built_in">strcpy</span>(postfix[position++], <span class="hljs-built_in">stack</span>[top--]); <span class="hljs-comment">// Copy the operator from the stack to postfix.</span><br>            &#125;<br>            --top;  <span class="hljs-comment">// Pop the opening parenthesis &#x27;(&#x27; from the stack.</span><br>        &#125;<br>    &#125;<br><br>    <span class="hljs-keyword">while</span> (top &gt;= <span class="hljs-number">0</span>) &#123;<br>        postfix[position] = (<span class="hljs-type">char</span>*)<span class="hljs-built_in">malloc</span>(<span class="hljs-number">11</span> * <span class="hljs-keyword">sizeof</span>(<span class="hljs-type">char</span>));<br>        <span class="hljs-built_in">strcpy</span>(postfix[position++], <span class="hljs-built_in">stack</span>[top--]);<br>    &#125;<br>&#125;<br><br><span class="hljs-comment">// Function to create an expression tree from postfix notation.</span><br>Node* <span class="hljs-title function_">createExpressionTree</span><span class="hljs-params">(<span class="hljs-type">char</span>** postfix, <span class="hljs-type">int</span> len)</span> &#123;<br>    <span class="hljs-comment">// Create a stack to hold the nodes of the tree during the construction process.</span><br>    Node* <span class="hljs-built_in">stack</span>[<span class="hljs-built_in">strlen</span>(input)]; <span class="hljs-comment">// Assumes input is defined somewhere with the size of the expected expression.</span><br>    <span class="hljs-type">int</span> top = <span class="hljs-number">-1</span>; <span class="hljs-comment">// Initialize the top of the stack to -1 to indicate it&#x27;s empty.</span><br><br>    <span class="hljs-comment">// Loop through each element in the postfix array to build the expression tree.</span><br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; len; i++) &#123;<br>        <span class="hljs-comment">// Create a new tree node for the current element of the postfix array.</span><br>        Node* node = createNode(postfix[i]);<br><br>        <span class="hljs-comment">// If the current element is an operand (variable or number), push it onto the stack.</span><br>        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">isalpha</span>(postfix[i][<span class="hljs-number">0</span>]) || isnumber(postfix[i][<span class="hljs-number">0</span>])) &#123;<br>            <span class="hljs-comment">// Handle functions that take one argument (unary operators).</span><br>            <span class="hljs-keyword">if</span>(!<span class="hljs-built_in">strcmp</span>(node-&gt;value, <span class="hljs-string">&quot;ln&quot;</span>) || !<span class="hljs-built_in">strcmp</span>(node-&gt;value, <span class="hljs-string">&quot;cos&quot;</span>) || <br>               !<span class="hljs-built_in">strcmp</span>(node-&gt;value, <span class="hljs-string">&quot;sin&quot;</span>) || !<span class="hljs-built_in">strcmp</span>(node-&gt;value, <span class="hljs-string">&quot;tan&quot;</span>) || <br>               !<span class="hljs-built_in">strcmp</span>(node-&gt;value, <span class="hljs-string">&quot;exp&quot;</span>)) &#123;<br>                node-&gt;right = <span class="hljs-built_in">stack</span>[top--]; <span class="hljs-comment">// Pop one operand from the stack and assign it to the right child.</span><br>                <span class="hljs-built_in">stack</span>[++top] = node; <span class="hljs-comment">// Push the node back onto the stack.</span><br>            &#125;<br>            <span class="hljs-comment">// Handle functions that take two arguments (like binary operators).</span><br>            <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(!<span class="hljs-built_in">strcmp</span>(node-&gt;value, <span class="hljs-string">&quot;log&quot;</span>) || !<span class="hljs-built_in">strcmp</span>(node-&gt;value, <span class="hljs-string">&quot;pow&quot;</span>))&#123;<br>                node-&gt;right = <span class="hljs-built_in">stack</span>[top--]; <span class="hljs-comment">// Pop the first operand from the stack and assign it to the right child.</span><br>                node-&gt;left = <span class="hljs-built_in">stack</span>[top--]; <span class="hljs-comment">// Pop the second operand from the stack and assign it to the left child.</span><br>                <span class="hljs-built_in">stack</span>[++top] = node; <span class="hljs-comment">// Push the node back onto the stack.</span><br>            &#125;<br>            <span class="hljs-keyword">else</span>&#123;<br>                <span class="hljs-built_in">stack</span>[++top] = node; <span class="hljs-comment">// For operands (variables or numbers), just push the node onto the stack.</span><br>            &#125;<br>        &#125; <span class="hljs-keyword">else</span> &#123;<br>            <span class="hljs-comment">// Handle operators (like &#x27;+&#x27;, &#x27;-&#x27;, &#x27;*&#x27;, &#x27;/&#x27;, &#x27;^&#x27;).</span><br>            <span class="hljs-keyword">if</span>(top &gt;= <span class="hljs-number">1</span>)&#123;<br>                node-&gt;right = <span class="hljs-built_in">stack</span>[top--]; <span class="hljs-comment">// Pop the first operand from the stack and assign it to the right child.</span><br>                node-&gt;left = <span class="hljs-built_in">stack</span>[top--]; <span class="hljs-comment">// Pop the second operand from the stack and assign it to the left child.</span><br>                <span class="hljs-built_in">stack</span>[++top] = node; <span class="hljs-comment">// Push the node back onto the stack.</span><br>            &#125;<br>            <span class="hljs-keyword">else</span>&#123;<br>                node-&gt;right = <span class="hljs-built_in">stack</span>[top--]; <span class="hljs-comment">// If there&#x27;s only one element, pop it and assign to the right child.</span><br>                <span class="hljs-built_in">stack</span>[++top] = node; <span class="hljs-comment">// Push the node onto the stack.</span><br>            &#125;<br><br>        &#125;<br>    &#125;<br>    <span class="hljs-comment">// Return the root of the expression tree, which is the last element remaining on the stack.</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-built_in">stack</span>[top];<br>&#125;<br><br><br><span class="hljs-comment">// Function to check if a node with a specific value exists within the tree.</span><br><span class="hljs-type">int</span> <span class="hljs-title function_">checkNode</span><span class="hljs-params">(Node* node, <span class="hljs-type">char</span> *Var)</span>&#123;<br>    <span class="hljs-comment">// If the current node is NULL, we&#x27;ve reached the end of a branch without finding the value.</span><br>    <span class="hljs-keyword">if</span>(node == <span class="hljs-literal">NULL</span>) <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>; <br><br>    <span class="hljs-comment">// If the current node&#x27;s value matches the searched value, return 1 (true).</span><br>    <span class="hljs-keyword">if</span>(!<span class="hljs-built_in">strcmp</span>(node-&gt;value, Var)) <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;<br><br>    <span class="hljs-comment">// Recursively check the left and right subtrees for the value.</span><br>    <span class="hljs-comment">// The &#x27;||&#x27; operator will return 1 if the value is found in either subtree.</span><br>    <span class="hljs-keyword">return</span> checkNode(node-&gt;left, Var) || checkNode(node-&gt;right, Var);<br>&#125;<br><br><span class="hljs-comment">// Function to perform inorder traversal on an expression tree and build a string representation of the expression.</span><br><span class="hljs-type">void</span> <span class="hljs-title function_">inorderTraversal</span><span class="hljs-params">(Node* node, <span class="hljs-type">char</span>* result)</span> &#123;<br>    <span class="hljs-comment">// Base case: if the current node is NULL, stop the recursion.</span><br>    <span class="hljs-keyword">if</span> (node == <span class="hljs-literal">NULL</span>) <span class="hljs-keyword">return</span>;<br><br>    <span class="hljs-comment">// If the current node is an operator, add a left parenthesis before the operator to ensure proper grouping.</span><br>    <span class="hljs-keyword">if</span> ( !<span class="hljs-built_in">strcmp</span>(node-&gt;value, <span class="hljs-string">&quot;+&quot;</span>) || !<span class="hljs-built_in">strcmp</span>(node-&gt;value, <span class="hljs-string">&quot;-&quot;</span>) || <br>         !<span class="hljs-built_in">strcmp</span>(node-&gt;value, <span class="hljs-string">&quot;*&quot;</span>) || !<span class="hljs-built_in">strcmp</span>(node-&gt;value, <span class="hljs-string">&quot;/&quot;</span>)) &#123;<br>        <span class="hljs-built_in">strcat</span>(result, <span class="hljs-string">&quot;(&quot;</span>);<br>    &#125;<br><br>    <span class="hljs-comment">// If the current node is a function with two arguments (like &quot;log&quot; or &quot;pow&quot;), </span><br>    <span class="hljs-comment">// add the function name and a left parenthesis before traversing its operands.</span><br>    <span class="hljs-keyword">if</span>(!<span class="hljs-built_in">strcmp</span>(node-&gt;value, <span class="hljs-string">&quot;log&quot;</span>) || !<span class="hljs-built_in">strcmp</span>(node-&gt;value, <span class="hljs-string">&quot;pow&quot;</span>))&#123;<br>        <span class="hljs-built_in">strcat</span>(result, node-&gt;value); <span class="hljs-comment">// Add the function name to the result string.</span><br>        <span class="hljs-built_in">strcat</span>(result, <span class="hljs-string">&quot;(&quot;</span>); <span class="hljs-comment">// Add a left parenthesis before the operands.</span><br>        inorderTraversal(node-&gt;left, result); <span class="hljs-comment">// Traverse the left operand.</span><br>        <span class="hljs-built_in">strcat</span>(result, <span class="hljs-string">&quot;,&quot;</span>); <span class="hljs-comment">// Add a comma between the operands.</span><br>        inorderTraversal(node-&gt;right, result); <span class="hljs-comment">// Traverse the right operand.</span><br>        <span class="hljs-built_in">strcat</span>(result, <span class="hljs-string">&quot;)&quot;</span>); <span class="hljs-comment">// Add a right parenthesis after the operands.</span><br>    &#125;<br>    <span class="hljs-comment">// If the current node is a unary function (like &quot;ln&quot;, &quot;cos&quot;, &quot;sin&quot;, &quot;tan&quot;, &quot;exp&quot;),</span><br>    <span class="hljs-comment">// add the function name and a parenthesis before traversing its operand.</span><br>    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(!<span class="hljs-built_in">strcmp</span>(node-&gt;value, <span class="hljs-string">&quot;ln&quot;</span>) || !<span class="hljs-built_in">strcmp</span>(node-&gt;value, <span class="hljs-string">&quot;cos&quot;</span>) || <br>            !<span class="hljs-built_in">strcmp</span>(node-&gt;value, <span class="hljs-string">&quot;sin&quot;</span>) || !<span class="hljs-built_in">strcmp</span>(node-&gt;value, <span class="hljs-string">&quot;tan&quot;</span>) || <br>            !<span class="hljs-built_in">strcmp</span>(node-&gt;value, <span class="hljs-string">&quot;exp&quot;</span>))&#123;<br>        <span class="hljs-built_in">strcat</span>(result, node-&gt;value); <span class="hljs-comment">// Add the function name to the result string.</span><br>        <span class="hljs-built_in">strcat</span>(result, <span class="hljs-string">&quot;(&quot;</span>); <span class="hljs-comment">// Add a left parenthesis before the operand.</span><br>        inorderTraversal(node-&gt;right, result); <span class="hljs-comment">// Traverse the operand.</span><br>        <span class="hljs-built_in">strcat</span>(result, <span class="hljs-string">&quot;)&quot;</span>); <span class="hljs-comment">// Add a right parenthesis after the operand.</span><br>    &#125;<br>    <span class="hljs-comment">// If the current node is an operand (variable or number), simply add its value to the result string.</span><br>    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(<span class="hljs-built_in">isalpha</span>(node-&gt;value[<span class="hljs-number">0</span>]) || isnumber(node-&gt;value[<span class="hljs-number">0</span>]))&#123;<br>        <span class="hljs-built_in">strcat</span>(result, node-&gt;value); <span class="hljs-comment">// Add the operand value to the result string.</span><br>        inorderTraversal(node-&gt;right, result); <span class="hljs-comment">// Continue to traverse the right subtree (if any).</span><br>    &#125;<br>    <span class="hljs-comment">// For other cases, it&#x27;s likely an operator node with both left and right children.</span><br>    <span class="hljs-keyword">else</span>&#123;<br>        inorderTraversal(node-&gt;left, result); <span class="hljs-comment">// Traverse the left subtree first.</span><br>        <span class="hljs-built_in">strcat</span>(result, node-&gt;value); <span class="hljs-comment">// Add the operator to the result string.</span><br>        inorderTraversal(node-&gt;right, result); <span class="hljs-comment">// Then traverse the right subtree.</span><br>    &#125;<br><br>    <span class="hljs-comment">// If the current node is an operator, add a right parenthesis after the operator to ensure proper grouping.</span><br>    <span class="hljs-keyword">if</span> ( !<span class="hljs-built_in">strcmp</span>(node-&gt;value, <span class="hljs-string">&quot;+&quot;</span>) || !<span class="hljs-built_in">strcmp</span>(node-&gt;value, <span class="hljs-string">&quot;-&quot;</span>) || <br>         !<span class="hljs-built_in">strcmp</span>(node-&gt;value, <span class="hljs-string">&quot;*&quot;</span>) || !<span class="hljs-built_in">strcmp</span>(node-&gt;value, <span class="hljs-string">&quot;/&quot;</span>)) &#123;<br>        <span class="hljs-built_in">strcat</span>(result, <span class="hljs-string">&quot;)&quot;</span>);<br>    &#125;<br>&#125;<br><br><span class="hljs-comment">// Function to differentiate a mathematical expression tree with respect to a given variable.</span><br><span class="hljs-type">void</span> <span class="hljs-title function_">differentiate</span><span class="hljs-params">(Node* node, <span class="hljs-type">char</span> *variable, <span class="hljs-type">char</span>* result)</span> &#123;<br>    <span class="hljs-comment">// Base case: If the current node is NULL or its value is an empty string, stop the recursion.</span><br>    <span class="hljs-keyword">if</span> (node == <span class="hljs-literal">NULL</span> || node-&gt;value[<span class="hljs-number">0</span>] == <span class="hljs-string">&#x27;\0&#x27;</span>) <span class="hljs-keyword">return</span>;<br><br>    <span class="hljs-comment">// If the current node&#x27;s value matches the variable of differentiation, the derivative is 1.</span><br>    <span class="hljs-keyword">if</span> (!<span class="hljs-built_in">strcmp</span>(node-&gt;value, variable) ) &#123;<br>        <span class="hljs-built_in">strcat</span>(result, <span class="hljs-string">&quot;1&quot;</span>);  <span class="hljs-comment">// The derivative of a variable with respect to itself is 1.</span><br>    &#125; <br>    <span class="hljs-comment">// If the current node&#x27;s value is a number or a variable different from the variable of differentiation</span><br>    <span class="hljs-comment">// and it is not a mathematical function, the derivative is 0.</span><br>    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> ((isnumber(node-&gt;value[<span class="hljs-number">0</span>]) || <span class="hljs-built_in">isalpha</span>(node-&gt;value[<span class="hljs-number">0</span>])) &amp;&amp; <br>             <span class="hljs-built_in">strcmp</span>(node-&gt;value, <span class="hljs-string">&quot;ln&quot;</span>) &amp;&amp; <span class="hljs-built_in">strcmp</span>(node-&gt;value, <span class="hljs-string">&quot;cos&quot;</span>) &amp;&amp; <br>             <span class="hljs-built_in">strcmp</span>(node-&gt;value, <span class="hljs-string">&quot;sin&quot;</span>) &amp;&amp; <span class="hljs-built_in">strcmp</span>(node-&gt;value, <span class="hljs-string">&quot;tan&quot;</span>) &amp;&amp; <br>             <span class="hljs-built_in">strcmp</span>(node-&gt;value, <span class="hljs-string">&quot;log&quot;</span>) &amp;&amp; <span class="hljs-built_in">strcmp</span>(node-&gt;value, <span class="hljs-string">&quot;pow&quot;</span>) &amp;&amp; <br>             <span class="hljs-built_in">strcmp</span>(node-&gt;value, <span class="hljs-string">&quot;exp&quot;</span>)) &#123;<br>        <span class="hljs-built_in">strcat</span>(result, <span class="hljs-string">&quot;0&quot;</span>);  <span class="hljs-comment">// The derivative of a constant with respect to a variable is 0.</span><br>    &#125; <br>    <span class="hljs-comment">// For all other cases, we will need to check the type of the node.</span><br>    <span class="hljs-keyword">else</span> &#123;<br>        <span class="hljs-comment">// Use a switch statement to handle different operators and functions.</span><br>        <span class="hljs-keyword">switch</span> (node-&gt;value[<span class="hljs-number">0</span>]) &#123;<br>            <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;+&#x27;</span>:<br>            <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;-&#x27;</span>:<br>                <span class="hljs-comment">// For addition and subtraction, apply the derivative to both operands.</span><br>                <span class="hljs-comment">// The derivative of a sum or difference is the sum or difference of the derivatives.</span><br>                <span class="hljs-keyword">if</span>(checkNode(node-&gt;left, variable) &amp;&amp; checkNode(node-&gt;right, variable))&#123;<br>                    differentiate(node-&gt;left, variable, result); <span class="hljs-comment">// Differentiate the left operand.</span><br>                    <span class="hljs-built_in">strcat</span>(result, !<span class="hljs-built_in">strcmp</span>(node-&gt;value, <span class="hljs-string">&quot;+&quot;</span>) ? <span class="hljs-string">&quot;+&quot;</span> : <span class="hljs-string">&quot;-&quot;</span>); <span class="hljs-comment">// Add &#x27;+&#x27; or &#x27;-&#x27; operator.</span><br>                    differentiate(node-&gt;right, variable, result); <span class="hljs-comment">// Differentiate the right operand.</span><br>                &#125;<br>                <span class="hljs-comment">// If only the left operand depends on the variable, differentiate only the left operand.</span><br>                <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(checkNode(node-&gt;left, variable) &amp;&amp; !checkNode(node-&gt;right, variable))&#123;<br>                    <span class="hljs-built_in">strcat</span>(result, <span class="hljs-string">&quot;(&quot;</span>); <span class="hljs-comment">// Add parenthesis for clarity.</span><br>                    differentiate(node-&gt;left, variable, result);<br>                    <span class="hljs-built_in">strcat</span>(result, <span class="hljs-string">&quot;)&quot;</span>);<br>                &#125;<br>                <span class="hljs-comment">// If only the right operand depends on the variable, differentiate only the right operand.</span><br>                <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(!checkNode(node-&gt;left, variable) &amp;&amp; checkNode(node-&gt;right, variable))&#123;<br>                    <span class="hljs-built_in">strcat</span>(result, <span class="hljs-string">&quot;(&quot;</span>);<br>                    <span class="hljs-built_in">strcat</span>(result, !<span class="hljs-built_in">strcmp</span>(node-&gt;value, <span class="hljs-string">&quot;+&quot;</span>) ? <span class="hljs-string">&quot;&quot;</span> : <span class="hljs-string">&quot;-&quot;</span>); <span class="hljs-comment">// For subtraction, add &#x27;-&#x27; operator.</span><br>                    differentiate(node-&gt;right, variable, result);<br>                    <span class="hljs-built_in">strcat</span>(result, <span class="hljs-string">&quot;)&quot;</span>);<br>                &#125;<br>                <span class="hljs-keyword">break</span>;<br>            <span class="hljs-comment">// The code for handling other cases (like &#x27;*&#x27;, &#x27;/&#x27;, and mathematical functions) would continue here.</span><br><br>            <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;*&#x27;</span>:<br>                <span class="hljs-comment">// d/dx(f * g) = f * g&#x27; + g * f&#x27;</span><br>                <span class="hljs-keyword">if</span>(checkNode(node-&gt;left, variable) &amp;&amp; checkNode(node-&gt;right, variable))&#123;<br>                    <span class="hljs-built_in">strcat</span>(result, <span class="hljs-string">&quot;(&quot;</span>);<br>                    inorderTraversal(node-&gt;left, result);<br>                    <span class="hljs-built_in">strcat</span>(result, <span class="hljs-string">&quot;*&quot;</span>);<br>                    differentiate(node-&gt;right, variable, result);<br>                    <span class="hljs-built_in">strcat</span>(result, <span class="hljs-string">&quot;+&quot;</span>);<br>                    inorderTraversal(node-&gt;right, result);<br>                    <span class="hljs-built_in">strcat</span>(result, <span class="hljs-string">&quot;*&quot;</span>);<br>                    differentiate(node-&gt;left, variable, result);<br>                    <span class="hljs-built_in">strcat</span>(result, <span class="hljs-string">&quot;)&quot;</span>);<br>                &#125;<br>                <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(checkNode(node-&gt;left, variable) &amp;&amp; !checkNode(node-&gt;right, variable))&#123;<br>                    <span class="hljs-built_in">strcat</span>(result, <span class="hljs-string">&quot;((&quot;</span>);<br>                    inorderTraversal(node-&gt;right, result);<br>                    <span class="hljs-built_in">strcat</span>(result, <span class="hljs-string">&quot;)&quot;</span>);<br>                    <span class="hljs-built_in">strcat</span>(result, <span class="hljs-string">&quot;*(&quot;</span>);<br>                    differentiate(node-&gt;left, variable, result);<br>                    <span class="hljs-built_in">strcat</span>(result, <span class="hljs-string">&quot;))&quot;</span>);<br>                &#125;<br>                <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(checkNode(node-&gt;right, variable) &amp;&amp; !checkNode(node-&gt;left, variable))&#123;<br>                    <span class="hljs-built_in">strcat</span>(result, <span class="hljs-string">&quot;(&quot;</span>);<br>                    inorderTraversal(node-&gt;left, result);<br>                    <span class="hljs-built_in">strcat</span>(result, <span class="hljs-string">&quot;)&quot;</span>);<br>                    <span class="hljs-built_in">strcat</span>(result, <span class="hljs-string">&quot;*&quot;</span>);<br>                    differentiate(node-&gt;right, variable, result);<br>                &#125;<br>                <span class="hljs-keyword">break</span>;<br><br>            <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;/&#x27;</span>:<br>                <span class="hljs-comment">// d/dx(f/g) = ( ( (f&#x27;) * (g) - (g&#x27;) * (f) ) / (g)^2 ) = </span><br>                <span class="hljs-comment">//  (   (f&#x27;) / (g) - (f * g&#x27;) / g^2   )</span><br>                <span class="hljs-keyword">if</span>(checkNode(node-&gt;left, variable) &amp;&amp; checkNode(node-&gt;right, variable))&#123;<br>                    <span class="hljs-built_in">strcat</span>(result, <span class="hljs-string">&quot;(&quot;</span>);<br>                    <span class="hljs-built_in">strcat</span>(result, <span class="hljs-string">&quot;(&quot;</span>);<br>                    differentiate(node-&gt;left, variable, result);<br>                    <span class="hljs-built_in">strcat</span>(result, <span class="hljs-string">&quot;)&quot;</span>);<br>                    <span class="hljs-built_in">strcat</span>(result, <span class="hljs-string">&quot;/&quot;</span>);<br>                    <span class="hljs-built_in">strcat</span>(result, <span class="hljs-string">&quot;(&quot;</span>);<br>                    inorderTraversal(node-&gt;right, result);<br>                    <span class="hljs-built_in">strcat</span>(result, <span class="hljs-string">&quot;)&quot;</span>);<br>                    <span class="hljs-built_in">strcat</span>(result, <span class="hljs-string">&quot;-&quot;</span>);<br>                    <span class="hljs-built_in">strcat</span>(result, <span class="hljs-string">&quot;(&quot;</span>);<br>                    differentiate(node-&gt;right, variable, result);<br>                    <span class="hljs-built_in">strcat</span>(result, <span class="hljs-string">&quot;*&quot;</span>);<br>                    inorderTraversal(node-&gt;left, result);<br>                    <span class="hljs-built_in">strcat</span>(result, <span class="hljs-string">&quot;)&quot;</span>);<br>                    <span class="hljs-built_in">strcat</span>(result, <span class="hljs-string">&quot;/&quot;</span>);<br>                    inorderTraversal(node-&gt;right, result);<br>                    <span class="hljs-built_in">strcat</span>(result, <span class="hljs-string">&quot;^2)&quot;</span>);<br>                &#125;<br>                <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(checkNode(node-&gt;left, variable) &amp;&amp; !checkNode(node-&gt;right, variable))&#123;<br>                    <span class="hljs-built_in">strcat</span>(result, <span class="hljs-string">&quot;(&quot;</span>);<br>                    differentiate(node-&gt;left, variable, result);<br>                    <span class="hljs-built_in">strcat</span>(result, <span class="hljs-string">&quot;/&quot;</span>);<br>                    inorderTraversal(node-&gt;right, result);<br>                    <span class="hljs-built_in">strcat</span>(result, <span class="hljs-string">&quot;)&quot;</span>);<br>                &#125;<br>                <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(checkNode(node-&gt;right, variable) &amp;&amp; !checkNode(node-&gt;left, variable))&#123;<br>                    <span class="hljs-built_in">strcat</span>(result, <span class="hljs-string">&quot;(&quot;</span>);<br>                    <span class="hljs-built_in">strcat</span>(result, <span class="hljs-string">&quot;-&quot;</span>);<br>                    differentiate(node-&gt;right, variable, result);<br>                    <span class="hljs-built_in">strcat</span>(result, <span class="hljs-string">&quot;*&quot;</span>);<br>                    inorderTraversal(node-&gt;left, result);<br>                    <span class="hljs-built_in">strcat</span>(result, <span class="hljs-string">&quot;/&quot;</span>);<br>                    inorderTraversal(node-&gt;right, result);<br>                    <span class="hljs-built_in">strcat</span>(result, <span class="hljs-string">&quot;^2)&quot;</span>);<br>                &#125;<br>                <span class="hljs-keyword">break</span>;<br><br>            <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;^&#x27;</span>:<br>                <span class="hljs-comment">// d/dx(f^g) = g * f ^ (g-1) * f&#x27; + ln(f) * g&#x27; * f ^ g</span><br>                <span class="hljs-keyword">if</span>(checkNode(node-&gt;left, variable) &amp;&amp; checkNode(node-&gt;right, variable))&#123;<br>                    <span class="hljs-built_in">strcat</span>(result, <span class="hljs-string">&quot;(&quot;</span>);<br>                    inorderTraversal(node-&gt;right, result);<br>                    <span class="hljs-built_in">strcat</span>(result, <span class="hljs-string">&quot;*&quot;</span>);<br>                    inorderTraversal(node-&gt;left, result);<br>                    <span class="hljs-built_in">strcat</span>(result, <span class="hljs-string">&quot;^&quot;</span>);<br>                    <span class="hljs-built_in">strcat</span>(result, <span class="hljs-string">&quot;(&quot;</span>);<br>                    inorderTraversal(node-&gt;right, result);<br>                    <span class="hljs-built_in">strcat</span>(result, <span class="hljs-string">&quot;-1)*&quot;</span>);<br>                    differentiate(node-&gt;left,variable,result);<br>                    <span class="hljs-built_in">strcat</span>(result, <span class="hljs-string">&quot;+ln(&quot;</span>);<br>                    inorderTraversal(node-&gt;left, result);<br>                    <span class="hljs-built_in">strcat</span>(result, <span class="hljs-string">&quot;)*&quot;</span>);<br>                    differentiate(node-&gt;right,variable ,result);<br>                    <span class="hljs-built_in">strcat</span>(result, <span class="hljs-string">&quot;*&quot;</span>);<br>                    inorderTraversal(node-&gt;left, result);<br>                    <span class="hljs-built_in">strcat</span>(result, <span class="hljs-string">&quot;^&quot;</span>);<br>                    inorderTraversal(node-&gt;right, result);<br>                    <span class="hljs-built_in">strcat</span>(result, <span class="hljs-string">&quot;)&quot;</span>);<br>                &#125;<br>                <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(checkNode(node-&gt;left, variable) &amp;&amp; !checkNode(node-&gt;right, variable))&#123;<br>                    <span class="hljs-built_in">strcat</span>(result, <span class="hljs-string">&quot;(&quot;</span>);<br>                    inorderTraversal(node-&gt;right, result);<br>                    <span class="hljs-built_in">strcat</span>(result, <span class="hljs-string">&quot;*&quot;</span>);<br>                    inorderTraversal(node-&gt;left, result);<br>                    <span class="hljs-built_in">strcat</span>(result, <span class="hljs-string">&quot;^&quot;</span>);<br>                    <span class="hljs-built_in">strcat</span>(result, <span class="hljs-string">&quot;(&quot;</span>);<br>                    inorderTraversal(node-&gt;right, result);<br>                    <span class="hljs-built_in">strcat</span>(result, <span class="hljs-string">&quot;-1)*&quot;</span>);<br>                    differentiate(node-&gt;left,variable,result);<br>                    <span class="hljs-built_in">strcat</span>(result, <span class="hljs-string">&quot;)&quot;</span>);<br>                &#125;<br>                <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(checkNode(node-&gt;right, variable) &amp;&amp; !checkNode(node-&gt;left, variable))&#123;<br>                    <span class="hljs-built_in">strcat</span>(result, <span class="hljs-string">&quot;ln(&quot;</span>);<br>                    inorderTraversal(node-&gt;left, result);<br>                    <span class="hljs-built_in">strcat</span>(result, <span class="hljs-string">&quot;)*&quot;</span>);<br>                    differentiate(node-&gt;right,variable ,result);<br>                    <span class="hljs-built_in">strcat</span>(result, <span class="hljs-string">&quot;*&quot;</span>);<br>                    inorderTraversal(node-&gt;left, result);<br>                    <span class="hljs-built_in">strcat</span>(result, <span class="hljs-string">&quot;^&quot;</span>);<br>                    inorderTraversal(node-&gt;right, result);<br>                    <span class="hljs-built_in">strcat</span>(result, <span class="hljs-string">&quot;)&quot;</span>);<br>                &#125;<br>                <span class="hljs-keyword">break</span>;<br>            <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;l&#x27;</span>:<br>                <span class="hljs-keyword">if</span>(!<span class="hljs-built_in">strcmp</span>(node-&gt;value, <span class="hljs-string">&quot;ln&quot;</span>) &amp;&amp; checkNode(node-&gt;right, variable))&#123;<br>                    <span class="hljs-built_in">strcat</span>(result, <span class="hljs-string">&quot;(&quot;</span>);<br>                    differentiate(node-&gt;right,variable,result);<br>                    <span class="hljs-built_in">strcat</span>(result, <span class="hljs-string">&quot;/&quot;</span>);<br>                    inorderTraversal(node-&gt;right, result);<br>                    <span class="hljs-built_in">strcat</span>(result, <span class="hljs-string">&quot;)&quot;</span>);<br>                &#125;<br>                <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(!<span class="hljs-built_in">strcmp</span>(node-&gt;value, <span class="hljs-string">&quot;log&quot;</span>))&#123;<br>                    <span class="hljs-comment">// d/d(log(f,g)) = g&#x27;/glnf - f&#x27;lng / (f*lnf*lnf)</span><br>                    <span class="hljs-keyword">if</span>(checkNode(node-&gt;left, variable) &amp;&amp; checkNode(node-&gt;right, variable))&#123;<br>                        <span class="hljs-built_in">strcat</span>(result, <span class="hljs-string">&quot;((&quot;</span>);<br>                        differentiate(node-&gt;right,variable,result);<br>                        <span class="hljs-built_in">strcat</span>(result, <span class="hljs-string">&quot;)&quot;</span>);<br>                        <span class="hljs-built_in">strcat</span>(result, <span class="hljs-string">&quot;/((&quot;</span>);<br>                        inorderTraversal(node-&gt;right, result);<br>                        <span class="hljs-built_in">strcat</span>(result, <span class="hljs-string">&quot;)*ln(&quot;</span>);<br>                        inorderTraversal(node-&gt;left, result);<br>                        <span class="hljs-built_in">strcat</span>(result, <span class="hljs-string">&quot;)))-&quot;</span>);<br>                        <span class="hljs-built_in">strcat</span>(result, <span class="hljs-string">&quot;((&quot;</span>);<br>                        differentiate(node-&gt;left,variable,result);<br>                        <span class="hljs-built_in">strcat</span>(result, <span class="hljs-string">&quot;)*ln(&quot;</span>);<br>                        inorderTraversal(node-&gt;right, result);<br>                        <span class="hljs-built_in">strcat</span>(result, <span class="hljs-string">&quot;)/(&quot;</span>);<br>                        <span class="hljs-built_in">strcat</span>(result, <span class="hljs-string">&quot;(&quot;</span>);<br>                        inorderTraversal(node-&gt;left, result);<br>                        <span class="hljs-built_in">strcat</span>(result, <span class="hljs-string">&quot;)&quot;</span>);<br>                        <span class="hljs-built_in">strcat</span>(result, <span class="hljs-string">&quot;*ln(&quot;</span>);<br>                        inorderTraversal(node-&gt;left, result);<br>                        <span class="hljs-built_in">strcat</span>(result, <span class="hljs-string">&quot;)&quot;</span>);<br>                        <span class="hljs-built_in">strcat</span>(result, <span class="hljs-string">&quot;*ln(&quot;</span>);<br>                        inorderTraversal(node-&gt;left, result);<br>                        <span class="hljs-built_in">strcat</span>(result, <span class="hljs-string">&quot;))&quot;</span>);<br>                    &#125;<br>                    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(checkNode(node-&gt;left, variable) &amp;&amp; !checkNode(node-&gt;right, variable))&#123;<br><br>                        <span class="hljs-built_in">strcat</span>(result, <span class="hljs-string">&quot;-&quot;</span>);<br>                        <span class="hljs-built_in">strcat</span>(result, <span class="hljs-string">&quot;(&quot;</span>);<br>                        differentiate(node-&gt;left,variable,result);<br>                        <span class="hljs-built_in">strcat</span>(result, <span class="hljs-string">&quot;)&quot;</span>);<br>                        <span class="hljs-built_in">strcat</span>(result, <span class="hljs-string">&quot;*ln(&quot;</span>);<br>                        inorderTraversal(node-&gt;right, result);<br>                        <span class="hljs-built_in">strcat</span>(result, <span class="hljs-string">&quot;)/(&quot;</span>);<br>                        <span class="hljs-built_in">strcat</span>(result, <span class="hljs-string">&quot;(&quot;</span>);<br>                        inorderTraversal(node-&gt;left, result);<br>                        <span class="hljs-built_in">strcat</span>(result, <span class="hljs-string">&quot;)&quot;</span>);<br>                        <span class="hljs-built_in">strcat</span>(result, <span class="hljs-string">&quot;*ln(&quot;</span>);<br>                        inorderTraversal(node-&gt;left, result);<br>                        <span class="hljs-built_in">strcat</span>(result, <span class="hljs-string">&quot;)&quot;</span>);<br>                        <span class="hljs-built_in">strcat</span>(result, <span class="hljs-string">&quot;*ln(&quot;</span>);<br>                        inorderTraversal(node-&gt;left, result);<br>                        <span class="hljs-built_in">strcat</span>(result, <span class="hljs-string">&quot;))&quot;</span>);<br>                    &#125;<br>                    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(!checkNode(node-&gt;left, variable) &amp;&amp; checkNode(node-&gt;right, variable))&#123;<br>                        <span class="hljs-built_in">strcat</span>(result, <span class="hljs-string">&quot;(&quot;</span>);<br>                        <span class="hljs-built_in">strcat</span>(result, <span class="hljs-string">&quot;(&quot;</span>);<br>                        differentiate(node-&gt;right,variable,result);<br>                        <span class="hljs-built_in">strcat</span>(result, <span class="hljs-string">&quot;)&quot;</span>);<br>                        <span class="hljs-built_in">strcat</span>(result, <span class="hljs-string">&quot;/&quot;</span>);<br>                        <span class="hljs-built_in">strcat</span>(result, <span class="hljs-string">&quot;(&quot;</span>);<br>                        inorderTraversal(node-&gt;right, result);<br>                        <span class="hljs-built_in">strcat</span>(result, <span class="hljs-string">&quot;*ln(&quot;</span>);<br>                        inorderTraversal(node-&gt;left, result);<br>                        <span class="hljs-built_in">strcat</span>(result, <span class="hljs-string">&quot;))&quot;</span>);<br>                        <span class="hljs-built_in">strcat</span>(result, <span class="hljs-string">&quot;)&quot;</span>);<br>                    &#125;<br>                &#125;<br>                <span class="hljs-keyword">break</span>;<br><br>            <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;c&#x27;</span>:<br>                <span class="hljs-keyword">if</span>(!<span class="hljs-built_in">strcmp</span>(node-&gt;value, <span class="hljs-string">&quot;cos&quot;</span>))&#123;<br>                    <span class="hljs-comment">// d/d(cos(f)) = -sin(f) * f&#x27;</span><br>                    <span class="hljs-keyword">if</span>(checkNode(node-&gt;right, variable))&#123;<br>                        <span class="hljs-built_in">strcat</span>(result, <span class="hljs-string">&quot;(-sin(&quot;</span>);<br>                        inorderTraversal(node-&gt;right, result);<br>                        <span class="hljs-built_in">strcat</span>(result, <span class="hljs-string">&quot;)*(&quot;</span>);<br>                        differentiate(node-&gt;right,variable,result);<br>                        <span class="hljs-built_in">strcat</span>(result, <span class="hljs-string">&quot;))&quot;</span>);<br>                    &#125;<br>                &#125;<br>                <span class="hljs-keyword">break</span>;<br>            <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;s&#x27;</span>:<br>                <span class="hljs-keyword">if</span>(!<span class="hljs-built_in">strcmp</span>(node-&gt;value, <span class="hljs-string">&quot;sin&quot;</span>))&#123;<br>                    <span class="hljs-comment">// d/d(sin(f)) = cos(f) * f&#x27;</span><br>                    <span class="hljs-keyword">if</span>(checkNode(node-&gt;right, variable))&#123;<br>                        <span class="hljs-built_in">strcat</span>(result, <span class="hljs-string">&quot;(cos(&quot;</span>);<br>                        inorderTraversal(node-&gt;right, result);<br>                        <span class="hljs-built_in">strcat</span>(result, <span class="hljs-string">&quot;)*(&quot;</span>);<br>                        differentiate(node-&gt;right,variable,result);<br>                        <span class="hljs-built_in">strcat</span>(result, <span class="hljs-string">&quot;))&quot;</span>);<br>                    &#125;<br>                &#125;<br>                <span class="hljs-keyword">break</span>;<br>            <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;t&#x27;</span>:<br>                <span class="hljs-keyword">if</span>(!<span class="hljs-built_in">strcmp</span>(node-&gt;value, <span class="hljs-string">&quot;tan&quot;</span>))&#123;<br>                    <span class="hljs-comment">// d/d(tan(f)) = f&#x27; / cos^2(f)</span><br>                    differentiate(node-&gt;right,variable,result);<br>                    <span class="hljs-built_in">strcat</span>(result, <span class="hljs-string">&quot;/(cos(&quot;</span>);<br>                    inorderTraversal(node-&gt;right, result);<br>                    <span class="hljs-built_in">strcat</span>(result, <span class="hljs-string">&quot;)*cos(&quot;</span>);<br>                    inorderTraversal(node-&gt;right, result);<br>                    <span class="hljs-built_in">strcat</span>(result, <span class="hljs-string">&quot;))&quot;</span>);<br>                &#125;<br>                <span class="hljs-keyword">break</span>;<br><br>            <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;e&#x27;</span>:<br>                <span class="hljs-keyword">if</span>(!<span class="hljs-built_in">strcmp</span>(node-&gt;value, <span class="hljs-string">&quot;exp&quot;</span>))&#123;<br>                    <span class="hljs-keyword">if</span>(checkNode(node-&gt;right, variable))&#123;<br>                        <span class="hljs-built_in">strcat</span>(result, <span class="hljs-string">&quot;e^(&quot;</span>);<br>                        inorderTraversal(node-&gt;right, result);<br>                        <span class="hljs-built_in">strcat</span>(result, <span class="hljs-string">&quot;)*(&quot;</span>);<br>                        differentiate(node-&gt;right,variable,result);<br>                        <span class="hljs-built_in">strcat</span>(result, <span class="hljs-string">&quot;)&quot;</span>);<br>                    &#125;<br>                &#125;<br>                <span class="hljs-keyword">break</span>;<br><br>            <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;p&#x27;</span>:<br>                <span class="hljs-keyword">if</span>(!<span class="hljs-built_in">strcmp</span>(node-&gt;value, <span class="hljs-string">&quot;pow&quot;</span>))&#123;<br>                    <span class="hljs-comment">// d(pow(a,b))/dx = a&#x27; * b * a^(b-1) + lna * a^b *b&#x27;</span><br>                    <span class="hljs-keyword">if</span>(checkNode(node-&gt;left, variable) &amp;&amp; checkNode(node-&gt;right, variable))&#123;<br>                        <span class="hljs-built_in">strcat</span>(result, <span class="hljs-string">&quot;(&quot;</span>);<br>                        differentiate(node-&gt;left,variable,result);<br>                        <span class="hljs-built_in">strcat</span>(result, <span class="hljs-string">&quot;*&quot;</span>);<br>                        inorderTraversal(node-&gt;right, result);<br>                        <span class="hljs-built_in">strcat</span>(result, <span class="hljs-string">&quot;*&quot;</span>);<br>                        inorderTraversal(node-&gt;left, result);<br>                        <span class="hljs-built_in">strcat</span>(result, <span class="hljs-string">&quot;^(&quot;</span>);<br>                        inorderTraversal(node-&gt;right, result);<br>                        <span class="hljs-built_in">strcat</span>(result, <span class="hljs-string">&quot;-1)+ln(&quot;</span>);<br>                        inorderTraversal(node-&gt;left, result);<br>                        <span class="hljs-built_in">strcat</span>(result, <span class="hljs-string">&quot;)*&quot;</span>);<br>                        inorderTraversal(node-&gt;left, result);<br>                        <span class="hljs-built_in">strcat</span>(result, <span class="hljs-string">&quot;^&quot;</span>);<br>                        inorderTraversal(node-&gt;right, result);<br>                        <span class="hljs-built_in">strcat</span>(result, <span class="hljs-string">&quot;*&quot;</span>);<br>                        differentiate(node-&gt;right,variable,result);<br>                        <span class="hljs-built_in">strcat</span>(result, <span class="hljs-string">&quot;)&quot;</span>);<br>                    &#125;<br>                    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(checkNode(node-&gt;left, variable) &amp;&amp; !checkNode(node-&gt;right, variable))&#123;<br>                        <span class="hljs-built_in">strcat</span>(result, <span class="hljs-string">&quot;(&quot;</span>);<br>                        differentiate(node-&gt;left,variable,result);<br>                        <span class="hljs-built_in">strcat</span>(result, <span class="hljs-string">&quot;*&quot;</span>);<br>                        inorderTraversal(node-&gt;right, result);<br>                        <span class="hljs-built_in">strcat</span>(result, <span class="hljs-string">&quot;*&quot;</span>);<br>                        inorderTraversal(node-&gt;left, result);<br>                        <span class="hljs-built_in">strcat</span>(result, <span class="hljs-string">&quot;^(&quot;</span>);<br>                        inorderTraversal(node-&gt;right, result);<br>                        <span class="hljs-built_in">strcat</span>(result, <span class="hljs-string">&quot;-1))&quot;</span>);<br>                    &#125;<br>                    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(!checkNode(node-&gt;left, variable) &amp;&amp; checkNode(node-&gt;right, variable))&#123;<br>                        <span class="hljs-built_in">strcat</span>(result, <span class="hljs-string">&quot;(ln(&quot;</span>);<br>                        inorderTraversal(node-&gt;left, result);<br>                        <span class="hljs-built_in">strcat</span>(result, <span class="hljs-string">&quot;)*&quot;</span>);<br>                        inorderTraversal(node-&gt;left, result);<br>                        <span class="hljs-built_in">strcat</span>(result, <span class="hljs-string">&quot;^(&quot;</span>);<br>                        inorderTraversal(node-&gt;right, result);<br>                        <span class="hljs-built_in">strcat</span>(result, <span class="hljs-string">&quot;)*&quot;</span>);<br>                        differentiate(node-&gt;right,variable,result);<br>                        <span class="hljs-built_in">strcat</span>(result, <span class="hljs-string">&quot;)&quot;</span>);<br>                    &#125;<br>                &#125;<br>                <span class="hljs-keyword">break</span>;<br>            <span class="hljs-comment">// ... handle other operators</span><br>        &#125;<br>    &#125;<br>&#125;<br><br><span class="hljs-comment">// Function to simplify an expression tree in-place.</span><br><span class="hljs-type">void</span> <span class="hljs-title function_">simplify</span><span class="hljs-params">(Node* root)</span>&#123;<br>    <span class="hljs-comment">// Base case: if the current node is NULL, return immediately.</span><br>    <span class="hljs-keyword">if</span>(root == <span class="hljs-literal">NULL</span>) <span class="hljs-keyword">return</span>;<br><br>    <span class="hljs-comment">// Recursively simplify the left subtree.</span><br>    <span class="hljs-keyword">if</span>(root-&gt;left) simplify(root-&gt;left);<br>    <span class="hljs-comment">// Recursively simplify the right subtree.</span><br>    <span class="hljs-keyword">if</span>(root-&gt;right) simplify(root-&gt;right);<br><br>    <span class="hljs-comment">// If the current node is a &#x27;+&#x27; operator, check for simplification opportunities.</span><br>    <span class="hljs-keyword">if</span>(!<span class="hljs-built_in">strcmp</span>(root-&gt;value, <span class="hljs-string">&quot;+&quot;</span>))&#123;<br>        <span class="hljs-comment">// If both left and right children exist and their values are &quot;0&quot;,</span><br>        <span class="hljs-comment">// then the whole expression is equivalent to &quot;0&quot;.</span><br>        <span class="hljs-keyword">if</span>(root-&gt;left &amp;&amp; root-&gt;right &amp;&amp; !<span class="hljs-built_in">strcmp</span>(root-&gt;left-&gt;value, <span class="hljs-string">&quot;0&quot;</span>) &amp;&amp; !<span class="hljs-built_in">strcmp</span>(root-&gt;right-&gt;value, <span class="hljs-string">&quot;0&quot;</span>))&#123;<br>            <span class="hljs-built_in">strcpy</span>(root-&gt;value, <span class="hljs-string">&quot;0&quot;</span>);  <span class="hljs-comment">// Replace the current node&#x27;s value with &quot;0&quot;.</span><br>            root-&gt;left = <span class="hljs-literal">NULL</span>;         <span class="hljs-comment">// Remove the left child.</span><br>            root-&gt;right = <span class="hljs-literal">NULL</span>;        <span class="hljs-comment">// Remove the right child.</span><br>        &#125;<br>        <span class="hljs-comment">// If the left child&#x27;s value is &quot;0&quot;, replace the current node with the right child.</span><br>        <span class="hljs-keyword">if</span>(root-&gt;left &amp;&amp; root-&gt;right &amp;&amp; !<span class="hljs-built_in">strcmp</span>(root-&gt;left-&gt;value, <span class="hljs-string">&quot;0&quot;</span>))&#123;<br>            <span class="hljs-built_in">strcpy</span>(root-&gt;value, <span class="hljs-string">&quot;\0&quot;</span>);           <span class="hljs-comment">// Clear the current node&#x27;s value.</span><br>            inorderTraversal(root-&gt;right, root-&gt;value); <span class="hljs-comment">// Use inorder traversal to set the current node&#x27;s value to the right child&#x27;s subtree expression.</span><br>            root-&gt;left = <span class="hljs-literal">NULL</span>;                   <span class="hljs-comment">// Remove the left child.</span><br>            root-&gt;right = <span class="hljs-literal">NULL</span>;                  <span class="hljs-comment">// Remove the right child.</span><br>        &#125;<br>        <span class="hljs-comment">// If the right child&#x27;s value is &quot;0&quot;, replace the current node with the left child.</span><br>        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(root-&gt;left &amp;&amp; root-&gt;right &amp;&amp; !<span class="hljs-built_in">strcmp</span>(root-&gt;right-&gt;value, <span class="hljs-string">&quot;0&quot;</span>))&#123;<br>            <span class="hljs-built_in">strcpy</span>(root-&gt;value, <span class="hljs-string">&quot;\0&quot;</span>);           <span class="hljs-comment">// Clear the current node&#x27;s value.</span><br>            inorderTraversal(root-&gt;left, root-&gt;value);  <span class="hljs-comment">// Use inorder traversal to set the current node&#x27;s value to the left child&#x27;s subtree expression.</span><br>            root-&gt;left = <span class="hljs-literal">NULL</span>;                   <span class="hljs-comment">// Remove the left child.</span><br>            root-&gt;right = <span class="hljs-literal">NULL</span>;                  <span class="hljs-comment">// Remove the right child.</span><br>        &#125;<br>    &#125;<br><br>    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(!<span class="hljs-built_in">strcmp</span>(root-&gt;value, <span class="hljs-string">&quot;-&quot;</span>))&#123;<br>        <span class="hljs-keyword">if</span>(root-&gt;left &amp;&amp; root-&gt;right &amp;&amp; !<span class="hljs-built_in">strcmp</span>(root-&gt;left-&gt;value, <span class="hljs-string">&quot;0&quot;</span>) &amp;&amp; !<span class="hljs-built_in">strcmp</span>(root-&gt;right-&gt;value, <span class="hljs-string">&quot;0&quot;</span>))&#123;<br>            <span class="hljs-built_in">strcpy</span>(root-&gt;value, <span class="hljs-string">&quot;0&quot;</span>);<br>            root-&gt;left = <span class="hljs-literal">NULL</span>;<br>            root-&gt;right = <span class="hljs-literal">NULL</span>;<br>        &#125;<br>        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(!root-&gt;left)&#123;<br>            <span class="hljs-keyword">if</span>(!<span class="hljs-built_in">strcmp</span>(root-&gt;right-&gt;value, <span class="hljs-string">&quot;0&quot;</span>))&#123;<br>                <span class="hljs-built_in">strcpy</span>(root-&gt;value, <span class="hljs-string">&quot;\0&quot;</span>);<br>                root-&gt;left = <span class="hljs-literal">NULL</span>;<br>                root-&gt;right = <span class="hljs-literal">NULL</span>;<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(!<span class="hljs-built_in">strcmp</span>(root-&gt;left-&gt;value, <span class="hljs-string">&quot;0&quot;</span>))&#123;<br>            <span class="hljs-built_in">strcpy</span>(root-&gt;value, <span class="hljs-string">&quot;(-&quot;</span>);<br>            inorderTraversal(root-&gt;right, root-&gt;value);<br>            <span class="hljs-built_in">strcat</span>(root-&gt;value, <span class="hljs-string">&quot;)&quot;</span>);<br>            root-&gt;left = <span class="hljs-literal">NULL</span>;<br>            root-&gt;right = <span class="hljs-literal">NULL</span>;<br>        &#125;<br>        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(!<span class="hljs-built_in">strcmp</span>(root-&gt;right-&gt;value, <span class="hljs-string">&quot;0&quot;</span>))&#123;<br>            <span class="hljs-built_in">strcpy</span>(root-&gt;value, <span class="hljs-string">&quot;\0&quot;</span>);<br>            inorderTraversal(root-&gt;left, root-&gt;value);<br>            root-&gt;left = <span class="hljs-literal">NULL</span>;<br>            root-&gt;right = <span class="hljs-literal">NULL</span>;<br>        &#125;<br>        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(isnumber(root-&gt;left-&gt;value[<span class="hljs-number">0</span>]) &amp;&amp; isnumber(root-&gt;right-&gt;value[<span class="hljs-number">0</span>]))&#123;<br>            <span class="hljs-type">int</span> num1 = <span class="hljs-number">0</span>, po1 = <span class="hljs-number">0</span>;<br>            <span class="hljs-type">int</span> num2 = <span class="hljs-number">0</span>, po2 = <span class="hljs-number">0</span>;<br>            <span class="hljs-keyword">while</span>(root-&gt;left-&gt;value[po1] != <span class="hljs-string">&#x27;\0&#x27;</span>)&#123;<br>                num1 = num1 * <span class="hljs-number">10</span> + root-&gt;left-&gt;value[po1] - <span class="hljs-string">&#x27;0&#x27;</span>;<br>                po1 ++;<br>            &#125;<br>            <span class="hljs-keyword">while</span>(root-&gt;right-&gt;value[po2] != <span class="hljs-string">&#x27;\0&#x27;</span>)&#123;<br>                num2 = num2 * <span class="hljs-number">10</span> + root-&gt;right-&gt;value[po2] - <span class="hljs-string">&#x27;0&#x27;</span>;<br>                po2 ++;<br>            &#125;<br>            <span class="hljs-built_in">sprintf</span>(root-&gt;value, <span class="hljs-string">&quot;%d&quot;</span>, num1 - num2);<br>            root-&gt;left = <span class="hljs-literal">NULL</span>;<br>            root-&gt;right = <span class="hljs-literal">NULL</span>;<br>        &#125;<br>        <span class="hljs-keyword">else</span>&#123;<br>            <span class="hljs-built_in">strcpy</span>(root-&gt;value, <span class="hljs-string">&quot;(&quot;</span>);<br>            inorderTraversal(root-&gt;left, root-&gt;value);<br>            <span class="hljs-built_in">strcat</span>(root-&gt;value, <span class="hljs-string">&quot;-&quot;</span>);<br>            inorderTraversal(root-&gt;right, root-&gt;value);<br>            <span class="hljs-built_in">strcat</span>(root-&gt;value, <span class="hljs-string">&quot;)&quot;</span>);<br>            root-&gt;left = <span class="hljs-literal">NULL</span>;<br>            root-&gt;right = <span class="hljs-literal">NULL</span>;<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(!<span class="hljs-built_in">strcmp</span>(root-&gt;value, <span class="hljs-string">&quot;*&quot;</span>))&#123;<br>        <span class="hljs-keyword">if</span>(!<span class="hljs-built_in">strcmp</span>(root-&gt;left-&gt;value, <span class="hljs-string">&quot;0&quot;</span>) || !<span class="hljs-built_in">strcmp</span>(root-&gt;right-&gt;value, <span class="hljs-string">&quot;0&quot;</span>))&#123;<br>            <span class="hljs-built_in">strcpy</span>(root-&gt;value, <span class="hljs-string">&quot;0&quot;</span>);<br>            root-&gt;left = <span class="hljs-literal">NULL</span>;<br>            root-&gt;right = <span class="hljs-literal">NULL</span>;<br>        &#125;<br>        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(!<span class="hljs-built_in">strcmp</span>(root-&gt;left-&gt;value, <span class="hljs-string">&quot;1&quot;</span>) &amp;&amp; !<span class="hljs-built_in">strcmp</span>(root-&gt;right-&gt;value, <span class="hljs-string">&quot;1&quot;</span>))&#123;<br>            <span class="hljs-built_in">strcpy</span>(root-&gt;value, <span class="hljs-string">&quot;1&quot;</span>);<br>            root-&gt;left = <span class="hljs-literal">NULL</span>;<br>            root-&gt;right = <span class="hljs-literal">NULL</span>;<br>        &#125;<br>        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(!<span class="hljs-built_in">strcmp</span>(root-&gt;left-&gt;value, <span class="hljs-string">&quot;1&quot;</span>))&#123;<br>            <span class="hljs-built_in">strcpy</span>(root-&gt;value, <span class="hljs-string">&quot;\0&quot;</span>);<br>            inorderTraversal(root-&gt;right, root-&gt;value);<br>            root-&gt;left = <span class="hljs-literal">NULL</span>;<br>            root-&gt;right = <span class="hljs-literal">NULL</span>;<br>        &#125;<br>        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(!<span class="hljs-built_in">strcmp</span>(root-&gt;right-&gt;value, <span class="hljs-string">&quot;1&quot;</span>))&#123;<br>            <span class="hljs-built_in">strcpy</span>(root-&gt;value, <span class="hljs-string">&quot;\0&quot;</span>);<br>            inorderTraversal(root-&gt;left, root-&gt;value);<br>            root-&gt;left = <span class="hljs-literal">NULL</span>;<br>            root-&gt;right = <span class="hljs-literal">NULL</span>;<br>        &#125;<br>    &#125;<br><br>    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(!<span class="hljs-built_in">strcmp</span>(root-&gt;value, <span class="hljs-string">&quot;/&quot;</span>))&#123;<br>        <span class="hljs-keyword">if</span>(!<span class="hljs-built_in">strcmp</span>(root-&gt;left-&gt;value, <span class="hljs-string">&quot;0&quot;</span>))&#123;<br>            <span class="hljs-built_in">strcpy</span>(root-&gt;value, <span class="hljs-string">&quot;0&quot;</span>);<br>            root-&gt;left = <span class="hljs-literal">NULL</span>;<br>            root-&gt;right = <span class="hljs-literal">NULL</span>;<br>        &#125;<br>        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(!<span class="hljs-built_in">strcmp</span>(root-&gt;right-&gt;value, <span class="hljs-string">&quot;1&quot;</span>))&#123;<br>            <span class="hljs-built_in">strcpy</span>(root-&gt;value, <span class="hljs-string">&quot;\0&quot;</span>);<br>            inorderTraversal(root-&gt;left, root-&gt;value);<br>            root-&gt;left = <span class="hljs-literal">NULL</span>;<br>            root-&gt;right = <span class="hljs-literal">NULL</span>;<br>        &#125;<br>    &#125;<br><br>    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(!<span class="hljs-built_in">strcmp</span>(root-&gt;value, <span class="hljs-string">&quot;^&quot;</span>))&#123;<br>        <span class="hljs-keyword">if</span>(!<span class="hljs-built_in">strcmp</span>(root-&gt;left-&gt;value, <span class="hljs-string">&quot;0&quot;</span>))&#123;<br>            <span class="hljs-built_in">strcpy</span>(root-&gt;value, <span class="hljs-string">&quot;0&quot;</span>);<br>            root-&gt;left = <span class="hljs-literal">NULL</span>;<br>            root-&gt;right = <span class="hljs-literal">NULL</span>;<br>        &#125;<br>        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(!<span class="hljs-built_in">strcmp</span>(root-&gt;right-&gt;value, <span class="hljs-string">&quot;0&quot;</span>))&#123;<br>            <span class="hljs-built_in">strcpy</span>(root-&gt;value, <span class="hljs-string">&quot;1&quot;</span>);<br>            root-&gt;left = <span class="hljs-literal">NULL</span>;<br>            root-&gt;right = <span class="hljs-literal">NULL</span>;<br>        &#125;<br>        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(!<span class="hljs-built_in">strcmp</span>(root-&gt;right-&gt;value, <span class="hljs-string">&quot;1&quot;</span>))&#123;<br>            <span class="hljs-built_in">strcpy</span>(root-&gt;value, <span class="hljs-string">&quot;\0&quot;</span>);<br>            inorderTraversal(root-&gt;left, root-&gt;value);<br>            root-&gt;left = <span class="hljs-literal">NULL</span>;<br>            root-&gt;right = <span class="hljs-literal">NULL</span>;<br>        &#125;<br>    &#125;<br><br>    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(!<span class="hljs-built_in">strcmp</span>(root-&gt;value, <span class="hljs-string">&quot;log&quot;</span>))&#123;<br>        <span class="hljs-keyword">if</span>(!<span class="hljs-built_in">strcmp</span>(root-&gt;right-&gt;value, <span class="hljs-string">&quot;1&quot;</span>))&#123;<br>            <span class="hljs-built_in">strcpy</span>(root-&gt;value, <span class="hljs-string">&quot;0&quot;</span>);<br>            root-&gt;left = <span class="hljs-literal">NULL</span>;<br>            root-&gt;right = <span class="hljs-literal">NULL</span>;<br>        &#125;<br>        <span class="hljs-keyword">if</span>(!<span class="hljs-built_in">strcmp</span>(root-&gt;left-&gt;value, root-&gt;right-&gt;value))&#123;<br>            <span class="hljs-built_in">strcpy</span>(root-&gt;value, <span class="hljs-string">&quot;1&quot;</span>);<br>            root-&gt;left = <span class="hljs-literal">NULL</span>;<br>            root-&gt;right = <span class="hljs-literal">NULL</span>;<br>        &#125;<br>    &#125;<br><br>    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(!<span class="hljs-built_in">strcmp</span>(root-&gt;value, <span class="hljs-string">&quot;ln&quot;</span>))&#123;<br>        <span class="hljs-keyword">if</span>(!<span class="hljs-built_in">strcmp</span>(root-&gt;right-&gt;value, <span class="hljs-string">&quot;1&quot;</span>))&#123;<br>            <span class="hljs-built_in">strcpy</span>(root-&gt;value, <span class="hljs-string">&quot;0&quot;</span>);<br>            root-&gt;left = <span class="hljs-literal">NULL</span>;<br>            root-&gt;right = <span class="hljs-literal">NULL</span>;<br>        &#125;<br>    &#125;<br><br>    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(!<span class="hljs-built_in">strcmp</span>(root-&gt;value, <span class="hljs-string">&quot;cos&quot;</span>))&#123;<br>        <span class="hljs-keyword">if</span>(!<span class="hljs-built_in">strcmp</span>(root-&gt;right-&gt;value, <span class="hljs-string">&quot;0&quot;</span>))&#123;<br>            <span class="hljs-built_in">strcpy</span>(root-&gt;value, <span class="hljs-string">&quot;1&quot;</span>);<br>            root-&gt;left = <span class="hljs-literal">NULL</span>;<br>            root-&gt;right = <span class="hljs-literal">NULL</span>;<br>        &#125;<br>    &#125;<br><br>    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(!<span class="hljs-built_in">strcmp</span>(root-&gt;value, <span class="hljs-string">&quot;sin&quot;</span>))&#123;<br>        <span class="hljs-keyword">if</span>(!<span class="hljs-built_in">strcmp</span>(root-&gt;right-&gt;value, <span class="hljs-string">&quot;0&quot;</span>))&#123;<br>            <span class="hljs-built_in">strcpy</span>(root-&gt;value, <span class="hljs-string">&quot;0&quot;</span>);<br>            root-&gt;left = <span class="hljs-literal">NULL</span>;<br>            root-&gt;right = <span class="hljs-literal">NULL</span>;<br>        &#125;<br>    &#125;<br><br>    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(!<span class="hljs-built_in">strcmp</span>(root-&gt;value, <span class="hljs-string">&quot;tan&quot;</span>))&#123;<br>        <span class="hljs-keyword">if</span>(!<span class="hljs-built_in">strcmp</span>(root-&gt;right-&gt;value, <span class="hljs-string">&quot;0&quot;</span>))&#123;<br>            <span class="hljs-built_in">strcpy</span>(root-&gt;value, <span class="hljs-string">&quot;0&quot;</span>);<br>            root-&gt;left = <span class="hljs-literal">NULL</span>;<br>            root-&gt;right = <span class="hljs-literal">NULL</span>;<br>        &#125;<br>    &#125;<br><br>    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(!<span class="hljs-built_in">strcmp</span>(root-&gt;value, <span class="hljs-string">&quot;pow&quot;</span>))&#123;<br>        <span class="hljs-keyword">if</span>(!<span class="hljs-built_in">strcmp</span>(root-&gt;right-&gt;value, <span class="hljs-string">&quot;1&quot;</span>))&#123;<br>            <span class="hljs-built_in">strcpy</span>(root-&gt;value, <span class="hljs-string">&quot;1&quot;</span>);<br>            root-&gt;left = <span class="hljs-literal">NULL</span>;<br>            root-&gt;right = <span class="hljs-literal">NULL</span>;<br>        &#125;<br>        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(!<span class="hljs-built_in">strcmp</span>(root-&gt;left-&gt;value, <span class="hljs-string">&quot;0&quot;</span>))&#123;<br>            <span class="hljs-built_in">strcpy</span>(root-&gt;value, <span class="hljs-string">&quot;0&quot;</span>);<br>            root-&gt;left = <span class="hljs-literal">NULL</span>;<br>            root-&gt;right = <span class="hljs-literal">NULL</span>;<br>        &#125;<br>    &#125;<br>&#125;<br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span> &#123;<br>    <span class="hljs-type">int</span> index = <span class="hljs-number">0</span>;<br>    <span class="hljs-comment">// Read characters from input until a newline is encountered.</span><br>    <span class="hljs-keyword">while</span>( ( input[index] = getchar() ) != <span class="hljs-string">&#x27;\n&#x27;</span>)&#123;<br>        index++;<br>    &#125;<br><br>    <span class="hljs-comment">// Create an array to hold the postfix expression, with size based on the input length.</span><br>    <span class="hljs-type">char</span> *postfix[<span class="hljs-built_in">strlen</span>(input) + <span class="hljs-number">1</span>];<br><br>    <span class="hljs-comment">// Convert the infix expression to postfix notation.</span><br>    infixToPostfix(input, postfix);<br>    <span class="hljs-comment">// Create an expression tree from the postfix notation.</span><br>    Node* root = createExpressionTree(postfix, position);<br>    <span class="hljs-comment">// Sort the variable names that have been identified in the expression.</span><br>    sortName(vari);<br><br>    <span class="hljs-comment">// Debugging code that was commented out:</span><br>    <span class="hljs-comment">/*for(int i = 0; i &lt; position ;i ++) puts(postfix[i]);</span><br><span class="hljs-comment">    puts(&quot;&quot;);</span><br><span class="hljs-comment">    puts(root-&gt;value);</span><br><span class="hljs-comment">    puts(root-&gt;left-&gt;value);</span><br><span class="hljs-comment">    puts(root-&gt;right-&gt;value);*/</span><br><br>    <span class="hljs-comment">// Iterate over the variable names.</span><br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt;= lenofvari; i++)&#123;<br>        <span class="hljs-comment">// Initialize a result string for storing the differentiation result.</span><br>        <span class="hljs-type">char</span> result[<span class="hljs-number">258</span>] = &#123;<span class="hljs-number">0</span>&#125;;<br>        <span class="hljs-comment">// Print the variable name.</span><br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%s: &quot;</span>, vari[i].name);<br>        <span class="hljs-comment">// Perform differentiation on the expression tree with respect to the variable.</span><br>        differentiate(root, vari[i].name, result);<br>        <span class="hljs-comment">// If the result string is empty, print &quot;0&quot;.</span><br>        <span class="hljs-keyword">if</span>(result[<span class="hljs-number">0</span>] == <span class="hljs-string">&#x27;\0&#x27;</span>) <span class="hljs-built_in">puts</span>(<span class="hljs-string">&quot;0&quot;</span>);<br>        <span class="hljs-keyword">else</span> <span class="hljs-built_in">puts</span>(result);<br><br>        <span class="hljs-comment">// Create an array to hold the postfix of the differentiation result.</span><br>        <span class="hljs-type">char</span> *po[<span class="hljs-built_in">strlen</span>(result) + <span class="hljs-number">1</span>];<br>        position = <span class="hljs-number">0</span>;<br>        <span class="hljs-comment">// Convert the differentiation result to postfix notation.</span><br>        infixToPostfix(result, po);<br>        <span class="hljs-comment">// Create an expression tree from the postfix notation of the differentiation result.</span><br>        Node* present = createExpressionTree(po, position);<br>        <span class="hljs-comment">// Debugging code that was commented out:</span><br>        <span class="hljs-comment">/*for(int j = 0; j &lt; position; j++) puts(po[j]);*/</span><br>        <span class="hljs-comment">// Simplify the expression tree twice (the reason for twice is not clear, might be a mistake or a specific need based on simplify&#x27;s implementation).</span><br>        simplify(present);<br>        simplify(present);<br>        <span class="hljs-comment">// Initialize a string to hold the simplified expression.</span><br>        <span class="hljs-type">char</span> ans[<span class="hljs-number">256</span>];<br>        <span class="hljs-built_in">strcpy</span>(ans, <span class="hljs-string">&quot;\0&quot;</span>);<br>        <span class="hljs-comment">// Perform an inorder traversal of the expression tree to get the simplified expression.</span><br>        inorderTraversal(present, ans);<br>        <span class="hljs-comment">// Print the simplified derivative of the variable.</span><br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Simplified derivative of variable &#x27;%s&#x27;: &quot;</span>, vari[i].name);<br>        <span class="hljs-built_in">puts</span>(ans);<br>    &#125;<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="Declaration"><a href="#Declaration" class="headerlink" title="Declaration"></a>Declaration</h3><pre><code class="hljs">**I hereby declare that all the work done in this project titled &quot;MAXIMUM SUBMATRIX SUM PROBLEM &quot; is of my independent effort.**</code></pre>]]></content>
    
    
    <categories>
      
      <category>课程笔记</category>
      
      <category>2023-2024秋冬学期</category>
      
      <category>数据结构基础</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>健身计划-拉day1</title>
    <link href="/2023/11/01/%E5%81%A5%E8%BA%AB%E8%AE%A1%E5%88%92-%E6%8B%89day1/"/>
    <url>/2023/11/01/%E5%81%A5%E8%BA%AB%E8%AE%A1%E5%88%92-%E6%8B%89day1/</url>
    
    <content type="html"><![CDATA[<p><strong>拉day1</strong></p><p>热身：同推日，增加放松小臂（泡沫轴滚小臂），弹力带拉伸肩关节，木棍增加肩关节活动度</p><p>高位下拉：确定握距（大约在折角处），两边对称下拉，下拉过程自然向下收紧肩胛骨，下拉呼气，恢复吸气，下拉至眼睛处，有控制地匀速回复。腰背不要反弓，下拉角度大概10°，背部肌肉带动手臂发力的感觉 4 * 8~10</p><p>引体向上（减重版）：确定握距，双膝完全跪在板上，下放最低点肩胛骨被向上拉伸，拉起时肩胛骨预先下沉，背部肌肉发力带动手臂上拉，上拉至眼睛与把手持平高度，有控制地下 放 4 * 8~10·</p><p>哑铃硬拉：双脚与肩同宽或略窄，膝盖微曲并固定，手沿腿下方找到后侧链拉伸感最强的地方，确定下沉点。哑铃斜45°贴近腿下方，腰背平直，感受大腿后侧拉伸发力，下放至下沉点，蹬地站起。4 * 8~10</p><p>山羊挺身：脚踩实，脚后跟卡住器械，腰背保持紧张，将壶铃放在胸前，上半身下放至最底，立刻腰背发力挺身 4 * 10</p><p>拉伸腰部</p><p>核心训练</p><p>拉伸腹部</p>]]></content>
    
    
    <categories>
      
      <category>训练计划</category>
      
      <category>拉</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>数字逻辑设计Chapter1</title>
    <link href="/2023/10/31/%E6%95%B0%E5%AD%97%E9%80%BB%E8%BE%91%E8%AE%BE%E8%AE%A1chapter1/"/>
    <url>/2023/10/31/%E6%95%B0%E5%AD%97%E9%80%BB%E8%BE%91%E8%AE%BE%E8%AE%A1chapter1/</url>
    
    <content type="html"><![CDATA[<h3 id="Chapter1-数字系统与信息"><a href="#Chapter1-数字系统与信息" class="headerlink" title="Chapter1 数字系统与信息"></a>Chapter1 数字系统与信息</h3><h4 id="Gray-Code-格雷码"><a href="#Gray-Code-格雷码" class="headerlink" title="Gray Code 格雷码"></a>Gray Code 格雷码</h4><pre><code class="hljs">正常二进制序列中，如三位二进制数 000 001 010 011 100 101 110 111. 对于000 和 001来说，他们之间只有一位数字不一样，计数电路只需要</code></pre>]]></content>
    
    
    <categories>
      
      <category>课程笔记</category>
      
      <category>2023-2024秋冬学期</category>
      
      <category>数字逻辑设计</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>会计学lecture7</title>
    <link href="/2023/10/31/%E4%BC%9A%E8%AE%A1%E5%AD%A6lecture7/"/>
    <url>/2023/10/31/%E4%BC%9A%E8%AE%A1%E5%AD%A6lecture7/</url>
    
    <content type="html"><![CDATA[]]></content>
    
    
    <categories>
      
      <category>课程笔记</category>
      
      <category>2023-2024秋冬学期</category>
      
      <category>会计学</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title></title>
    <link href="/2023/10/31/pigbagdiary/"/>
    <url>/2023/10/31/pigbagdiary/</url>
    
    <content type="html"><![CDATA[<p>猪笨笨！！！！！</p>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>Hello World</title>
    <link href="/2023/10/31/hello-world/"/>
    <url>/2023/10/31/hello-world/</url>
    
    <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo new <span class="hljs-string">&quot;My New Post&quot;</span><br></code></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo server<br></code></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo generate<br></code></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo deploy<br></code></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>]]></content>
    
    
    
  </entry>
  
  
  
  
</search>
